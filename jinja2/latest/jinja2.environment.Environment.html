<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>jinja2.environment.Environment</title>
    <meta name="generator" content="pydoctor 22.2.0"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=0.75" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    

    <nav class="navbar navbar-default">
  
  <div class="container">

    <div class="navbar-header">
      
      <div class="navlinks">
          <span class="navbar-brand">
            jinja2 <a href="index.html">API Documentation</a>
          </span>

          <a href="moduleIndex.html">
            Modules
          </a>

          <a href="classIndex.html">
            Classes
          </a>

          <a href="nameIndex.html">
            Names
          </a>
      </div>

    </div>
  </div>
</nav>

    

    <div class="container">

      <div class="page-header">
        <h1 class="class"><code><code><a href="index.html" class="internal-link">jinja2</a></code><wbr></wbr>.<code><a href="jinja2.environment.html" class="internal-link" title="jinja2.environment">environment</a></code><wbr></wbr>.<code><a href="jinja2.environment.Environment.html" class="internal-link" title="jinja2.environment.Environment">Environment</a></code></code></h1>
        <div id="showPrivate">
          <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
        </div>
      </div>

      <div class="categoryHeader">
        class documentation
      </div>

      <div class="extrasDocstring">
        <p><code><span class="py-keyword">class</span> <span class="py-defname">Environment</span>:</code></p><p>Known subclasses: <code><a href="jinja2.nativetypes.NativeEnvironment.html" class="internal-link">jinja2.nativetypes.NativeEnvironment</a></code></p>
        <p><a href="classIndex.html#jinja2.environment.Environment">View In Hierarchy</a></p>
      </div>

      <div class="moduleDocstring">
        <div><p>The core component of Jinja is the <code><a href="jinja2.environment.Environment.html" class="internal-link" title="jinja2.environment.Environment">Environment</a></code>.  It contains
important shared variables like configuration, filters, tests,
globals and others.  Instances of this class may be modified if
they are not shared and if no template was loaded so far.
Modifications on environments after the first template was loaded
will lead to surprising effects and undefined behavior.</p>
<p>Here are the possible initialization parameters:</p>
<blockquote>
<dl class="rst-docutils">
<dt><code><a href="#block_start_string" class="internal-link" title="jinja2.environment.Environment.block_start_string">block_start_string</a></code></dt>
<dd>The string marking the beginning of a block.  Defaults to <tt class="rst-docutils literal"><span class="pre">'{%'</span></tt>.</dd>
<dt><code><a href="#block_end_string" class="internal-link" title="jinja2.environment.Environment.block_end_string">block_end_string</a></code></dt>
<dd>The string marking the end of a block.  Defaults to <tt class="rst-docutils literal"><span class="pre">'%}'</span></tt>.</dd>
<dt><code><a href="#variable_start_string" class="internal-link" title="jinja2.environment.Environment.variable_start_string">variable_start_string</a></code></dt>
<dd>The string marking the beginning of a print statement.
Defaults to <tt class="rst-docutils literal"><span class="pre">'{{'</span></tt>.</dd>
<dt><code><a href="#variable_end_string" class="internal-link" title="jinja2.environment.Environment.variable_end_string">variable_end_string</a></code></dt>
<dd>The string marking the end of a print statement.  Defaults to
<tt class="rst-docutils literal"><span class="pre">'}}'</span></tt>.</dd>
<dt><code><a href="#comment_start_string" class="internal-link" title="jinja2.environment.Environment.comment_start_string">comment_start_string</a></code></dt>
<dd>The string marking the beginning of a comment.  Defaults to <tt class="rst-docutils literal"><span class="pre">'{#'</span></tt>.</dd>
<dt><code><a href="#comment_end_string" class="internal-link" title="jinja2.environment.Environment.comment_end_string">comment_end_string</a></code></dt>
<dd>The string marking the end of a comment.  Defaults to <tt class="rst-docutils literal"><span class="pre">'#}'</span></tt>.</dd>
<dt><code><a href="#line_statement_prefix" class="internal-link" title="jinja2.environment.Environment.line_statement_prefix">line_statement_prefix</a></code></dt>
<dd>If given and a string, this will be used as prefix for line based
statements.  See also <a href="#system-message-1"><span class="rst-problematic" id="rst-problematic-1">:ref:`line-statements`</span></a>.</dd>
<dt><code><a href="#line_comment_prefix" class="internal-link" title="jinja2.environment.Environment.line_comment_prefix">line_comment_prefix</a></code></dt>
<dd><p class="rst-first">If given and a string, this will be used as prefix for line based
comments.  See also <a href="#system-message-2"><span class="rst-problematic" id="rst-problematic-2">:ref:`line-statements`</span></a>.</p>
<div class="rst-last rst-versionadded">
<span class="rst-versionmodified rst-added">New in version 2.2.</span></div>
</dd>
<dt><code><a href="#trim_blocks" class="internal-link" title="jinja2.environment.Environment.trim_blocks">trim_blocks</a></code></dt>
<dd>If this is set to <tt class="rst-docutils literal">True</tt> the first newline after a block is
removed (block, not variable tag!).  Defaults to <code>False</code>.</dd>
<dt><code><a href="#lstrip_blocks" class="internal-link" title="jinja2.environment.Environment.lstrip_blocks">lstrip_blocks</a></code></dt>
<dd>If this is set to <tt class="rst-docutils literal">True</tt> leading spaces and tabs are stripped
from the start of a line to a block.  Defaults to <code>False</code>.</dd>
<dt><code><a href="#newline_sequence" class="internal-link" title="jinja2.environment.Environment.newline_sequence">newline_sequence</a></code></dt>
<dd>The sequence that starts a newline.  Must be one of <tt class="rst-docutils literal">'\r'</tt>,
<tt class="rst-docutils literal">'\n'</tt> or <tt class="rst-docutils literal">'\r\n'</tt>.  The default is <tt class="rst-docutils literal">'\n'</tt> which is a
useful default for Linux and OS X systems as well as web
applications.</dd>
<dt><code><a href="#keep_trailing_newline" class="internal-link" title="jinja2.environment.Environment.keep_trailing_newline">keep_trailing_newline</a></code></dt>
<dd><p class="rst-first">Preserve the trailing newline when rendering templates.
The default is <tt class="rst-docutils literal">False</tt>, which causes a single newline,
if present, to be stripped from the end of the template.</p>
<div class="rst-last rst-versionadded">
<span class="rst-versionmodified rst-added">New in version 2.7.</span></div>
</dd>
<dt><code><a href="#extensions" class="internal-link" title="jinja2.environment.Environment.extensions">extensions</a></code></dt>
<dd>List of Jinja extensions to use.  This can either be import paths
as strings or extension classes.  For more information have a
look at <a href="#system-message-3"><span class="rst-problematic" id="rst-problematic-3">:ref:`the extensions documentation &lt;jinja-extensions&gt;`</span></a>.</dd>
<dt><code><a href="#optimized" class="internal-link" title="jinja2.environment.Environment.optimized">optimized</a></code></dt>
<dd>should the optimizer be enabled?  Default is <tt class="rst-docutils literal">True</tt>.</dd>
<dt><code><a href="#undefined" class="internal-link" title="jinja2.environment.Environment.undefined">undefined</a></code></dt>
<dd><code><a href="jinja2.runtime.Undefined.html" class="internal-link" title="jinja2.runtime.Undefined">Undefined</a></code> or a subclass of it that is used to represent
undefined values in the template.</dd>
<dt><code><a href="#finalize" class="internal-link" title="jinja2.environment.Environment.finalize">finalize</a></code></dt>
<dd>A callable that can be used to process the result of a variable
expression before it is output.  For example one can convert
<tt class="rst-docutils literal">None</tt> implicitly into an empty string here.</dd>
<dt><code><a href="#autoescape" class="internal-link" title="jinja2.environment.Environment.autoescape">autoescape</a></code></dt>
<dd><p class="rst-first">If set to <tt class="rst-docutils literal">True</tt> the XML/HTML autoescaping feature is enabled by
default.  For more details about autoescaping see
<code>~markupsafe.Markup</code>.  As of Jinja 2.4 this can also
be a callable that is passed the template name and has to
return <tt class="rst-docutils literal">True</tt> or <tt class="rst-docutils literal">False</tt> depending on autoescape should be
enabled by default.</p>
<div class="rst-last rst-versionchanged">
<span class="rst-versionmodified rst-changed">Changed in version 2.4: </span><span><code><a href="#autoescape" class="internal-link" title="jinja2.environment.Environment.autoescape">autoescape</a></code> can now be a function</span></div>
</dd>
<dt><code><a href="#loader" class="internal-link" title="jinja2.environment.Environment.loader">loader</a></code></dt>
<dd>The template loader for this environment.</dd>
<dt><code>cache_size</code></dt>
<dd><p class="rst-first">The size of the cache.  Per default this is <tt class="rst-docutils literal">400</tt> which means
that if more than 400 templates are loaded the loader will clean
out the least recently used template.  If the cache size is set to
<tt class="rst-docutils literal">0</tt> templates are recompiled all the time, if the cache size is
<tt class="rst-docutils literal"><span class="pre">-1</span></tt> the cache will not be cleaned.</p>
<div class="rst-last rst-versionchanged">
<span class="rst-versionmodified rst-changed">Changed in version 2.8: </span><span>The cache size was increased to 400 from a low 50.</span></div>
</dd>
<dt><code><a href="#auto_reload" class="internal-link" title="jinja2.environment.Environment.auto_reload">auto_reload</a></code></dt>
<dd>Some loaders load templates from locations where the template
sources may change (ie: file system or database).  If
<tt class="rst-docutils literal">auto_reload</tt> is set to <tt class="rst-docutils literal">True</tt> (default) every time a template is
requested the loader checks if the source changed and if yes, it
will reload the template.  For higher performance it's possible to
disable that.</dd>
<dt><code><a href="#bytecode_cache" class="internal-link" title="jinja2.environment.Environment.bytecode_cache">bytecode_cache</a></code></dt>
<dd><p class="rst-first">If set to a bytecode cache object, this object will provide a
cache for the internal Jinja bytecode so that templates don't
have to be parsed if they were not changed.</p>
<p class="rst-last">See <a href="#system-message-4"><span class="rst-problematic" id="rst-problematic-4">:ref:`bytecode-cache`</span></a> for more information.</p>
</dd>
<dt><code>enable_async</code></dt>
<dd>If set to true this enables async template execution which
allows using async functions and generators.</dd>
</dl>
</blockquote>
</div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id7665">
  
  
  <tr class="method">
    
    <td>Method</td>
    <td><code><a href="#__init__" class="internal-link" title="jinja2.environment.Environment.__init__">__init__</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#add_extension" class="internal-link" title="jinja2.environment.Environment.add_extension">add​_extension</a></code></td>
    <td>Adds an extension after the environment was created.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#call_filter" class="internal-link" title="jinja2.environment.Environment.call_filter">call​_filter</a></code></td>
    <td>Invoke a filter on a value the same way the compiler does.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#call_test" class="internal-link" title="jinja2.environment.Environment.call_test">call​_test</a></code></td>
    <td>Invoke a test on a value the same way the compiler does.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#compile" class="internal-link" title="jinja2.environment.Environment.compile">compile</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#compile_expression" class="internal-link" title="jinja2.environment.Environment.compile_expression">compile​_expression</a></code></td>
    <td>A handy helper method that returns a callable that accepts keyword arguments that appear as variables in the expression.  If called it returns the result of the expression.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#compile_templates" class="internal-link" title="jinja2.environment.Environment.compile_templates">compile​_templates</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#extend" class="internal-link" title="jinja2.environment.Environment.extend">extend</a></code></td>
    <td>Add the items to the instance of the environment if they do not exist yet.  This is used by <a href="#system-message-1"><span class="rst-problematic" id="rst-problematic-1">:ref:`extensions &lt;writing-extensions&gt;`</span></a> to register callbacks and configuration values without breaking inheritance.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#from_string" class="internal-link" title="jinja2.environment.Environment.from_string">from​_string</a></code></td>
    <td>Load a template from a source string without using <code><a href="#loader" class="internal-link" title="jinja2.environment.Environment.loader">loader</a></code>.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#get_or_select_template" class="internal-link" title="jinja2.environment.Environment.get_or_select_template">get​_or​_select​_template</a></code></td>
    <td>Use <code><a href="#select_template" class="internal-link" title="jinja2.environment.Environment.select_template">select_template</a></code> if an iterable of template names is given, or <code><a href="#get_template" class="internal-link" title="jinja2.environment.Environment.get_template">get_template</a></code> if one name is given.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#get_template" class="internal-link" title="jinja2.environment.Environment.get_template">get​_template</a></code></td>
    <td>Load a template by name with <code><a href="#loader" class="internal-link" title="jinja2.environment.Environment.loader">loader</a></code> and return a <code><a href="jinja2.environment.Template.html" class="internal-link" title="jinja2.environment.Template">Template</a></code>. If the template does not exist a <code><a href="jinja2.exceptions.TemplateNotFound.html" class="internal-link" title="jinja2.exceptions.TemplateNotFound">TemplateNotFound</a></code> exception is raised.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#getattr" class="internal-link" title="jinja2.environment.Environment.getattr">getattr</a></code></td>
    <td>Get an item or attribute of an object but prefer the attribute. Unlike <code><a href="#getitem" class="internal-link" title="jinja2.environment.Environment.getitem">getitem</a></code> the attribute <em>must</em> be a string.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#getitem" class="internal-link" title="jinja2.environment.Environment.getitem">getitem</a></code></td>
    <td>Get an item or attribute of an object but prefer the item.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#handle_exception" class="internal-link" title="jinja2.environment.Environment.handle_exception">handle​_exception</a></code></td>
    <td>Exception handling helper.  This is used internally to either raise rewritten exceptions or return a rendered traceback for the template.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#iter_extensions" class="internal-link" title="jinja2.environment.Environment.iter_extensions">iter​_extensions</a></code></td>
    <td>Iterates over the extensions by priority.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#join_path" class="internal-link" title="jinja2.environment.Environment.join_path">join​_path</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#lex" class="internal-link" title="jinja2.environment.Environment.lex">lex</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#list_templates" class="internal-link" title="jinja2.environment.Environment.list_templates">list​_templates</a></code></td>
    <td>Returns a list of templates for this environment.  This requires that the loader supports the loader's <code>~BaseLoader.list_templates</code> method.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#make_globals" class="internal-link" title="jinja2.environment.Environment.make_globals">make​_globals</a></code></td>
    <td>Make the globals map for a template. Any given template globals overlay the environment <code><a href="#globals" class="internal-link" title="jinja2.environment.Environment.globals">globals</a></code>.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#overlay" class="internal-link" title="jinja2.environment.Environment.overlay">overlay</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#parse" class="internal-link" title="jinja2.environment.Environment.parse">parse</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#preprocess" class="internal-link" title="jinja2.environment.Environment.preprocess">preprocess</a></code></td>
    <td>Preprocesses the source with all extensions.  This is automatically called for all parsing and compiling methods but <em>not</em> for <code><a href="#lex" class="internal-link" title="jinja2.environment.Environment.lex">lex</a></code> because there you usually only want the actual source tokenized.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#select_template" class="internal-link" title="jinja2.environment.Environment.select_template">select​_template</a></code></td>
    <td>Like <code><a href="#get_template" class="internal-link" title="jinja2.environment.Environment.get_template">get_template</a></code>, but tries loading multiple names. If none of the names can be loaded a <code><a href="jinja2.exceptions.TemplatesNotFound.html" class="internal-link" title="jinja2.exceptions.TemplatesNotFound">TemplatesNotFound</a></code> exception is raised.</td>
  </tr><tr class="classvariable">
    
    <td>Class Variable</td>
    <td><code><a href="#linked_to" class="internal-link" title="jinja2.environment.Environment.linked_to">linked​_to</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="classvariable">
    
    <td>Class Variable</td>
    <td><code><a href="#overlayed" class="internal-link" title="jinja2.environment.Environment.overlayed">overlayed</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="classvariable">
    
    <td>Class Variable</td>
    <td><code><a href="#sandboxed" class="internal-link" title="jinja2.environment.Environment.sandboxed">sandboxed</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="classvariable">
    
    <td>Class Variable</td>
    <td><code><a href="#shared" class="internal-link" title="jinja2.environment.Environment.shared">shared</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="classvariable">
    
    <td>Class Variable</td>
    <td><code><a href="#template_class" class="internal-link" title="jinja2.environment.Environment.template_class">template​_class</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#auto_reload" class="internal-link" title="jinja2.environment.Environment.auto_reload">auto​_reload</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#autoescape" class="internal-link" title="jinja2.environment.Environment.autoescape">autoescape</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#block_end_string" class="internal-link" title="jinja2.environment.Environment.block_end_string">block​_end​_string</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#block_start_string" class="internal-link" title="jinja2.environment.Environment.block_start_string">block​_start​_string</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#bytecode_cache" class="internal-link" title="jinja2.environment.Environment.bytecode_cache">bytecode​_cache</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#cache" class="internal-link" title="jinja2.environment.Environment.cache">cache</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#comment_end_string" class="internal-link" title="jinja2.environment.Environment.comment_end_string">comment​_end​_string</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#comment_start_string" class="internal-link" title="jinja2.environment.Environment.comment_start_string">comment​_start​_string</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#extensions" class="internal-link" title="jinja2.environment.Environment.extensions">extensions</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#filters" class="internal-link" title="jinja2.environment.Environment.filters">filters</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#finalize" class="internal-link" title="jinja2.environment.Environment.finalize">finalize</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#globals" class="internal-link" title="jinja2.environment.Environment.globals">globals</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#is_async" class="internal-link" title="jinja2.environment.Environment.is_async">is​_async</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#keep_trailing_newline" class="internal-link" title="jinja2.environment.Environment.keep_trailing_newline">keep​_trailing​_newline</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#line_comment_prefix" class="internal-link" title="jinja2.environment.Environment.line_comment_prefix">line​_comment​_prefix</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#line_statement_prefix" class="internal-link" title="jinja2.environment.Environment.line_statement_prefix">line​_statement​_prefix</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#loader" class="internal-link" title="jinja2.environment.Environment.loader">loader</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#lstrip_blocks" class="internal-link" title="jinja2.environment.Environment.lstrip_blocks">lstrip​_blocks</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#newline_sequence" class="internal-link" title="jinja2.environment.Environment.newline_sequence">newline​_sequence</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#optimized" class="internal-link" title="jinja2.environment.Environment.optimized">optimized</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#policies" class="internal-link" title="jinja2.environment.Environment.policies">policies</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#tests" class="internal-link" title="jinja2.environment.Environment.tests">tests</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#trim_blocks" class="internal-link" title="jinja2.environment.Environment.trim_blocks">trim​_blocks</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#undefined" class="internal-link" title="jinja2.environment.Environment.undefined">undefined</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#variable_end_string" class="internal-link" title="jinja2.environment.Environment.variable_end_string">variable​_end​_string</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#variable_start_string" class="internal-link" title="jinja2.environment.Environment.variable_start_string">variable​_start​_string</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="property">
    
    <td>Property</td>
    <td><code><a href="#lexer" class="internal-link" title="jinja2.environment.Environment.lexer">lexer</a></code></td>
    <td>The lexer for this environment.</td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_compile" class="internal-link" title="jinja2.environment.Environment._compile">​_compile</a></code></td>
    <td>Internal hook that can be overridden to hook a different compile method in.</td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_filter_test_common" class="internal-link" title="jinja2.environment.Environment._filter_test_common">​_filter​_test​_common</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_generate" class="internal-link" title="jinja2.environment.Environment._generate">​_generate</a></code></td>
    <td>Internal hook that can be overridden to hook a different generate method in.</td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_load_template" class="internal-link" title="jinja2.environment.Environment._load_template">​_load​_template</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_parse" class="internal-link" title="jinja2.environment.Environment._parse">​_parse</a></code></td>
    <td>Internal parsing function used by <code><a href="#parse" class="internal-link" title="jinja2.environment.Environment.parse">parse</a></code> and <code><a href="#compile" class="internal-link" title="jinja2.environment.Environment.compile">compile</a></code>.</td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_tokenize" class="internal-link" title="jinja2.environment.Environment._tokenize">​_tokenize</a></code></td>
    <td>Called by the parser to do the preprocessing and filtering for all the extensions.  Returns a <code>~jinja2.lexer.TokenStream</code>.</td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="basemethod">
  
  
  <a name="jinja2.environment.Environment.__init__">
    
  </a>
  <a name="__init__">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">__init__</span>(self, block_start_string=<a href="jinja2.defaults.html#BLOCK_START_STRING" class="internal-link" title="jinja2.defaults.BLOCK_START_STRING">BLOCK_START_STRING</a>, block_end_string=<a href="jinja2.defaults.html#BLOCK_END_STRING" class="internal-link" title="jinja2.defaults.BLOCK_END_STRING">BLOCK_END_STRING</a>, variable_start_string=<a href="jinja2.defaults.html#VARIABLE_START_STRING" class="internal-link" title="jinja2.defaults.VARIABLE_START_STRING">VARIABLE_START_STRING</a>, variable_end_string=<a href="jinja2.defaults.html#VARIABLE_END_STRING" class="internal-link" title="jinja2.defaults.VARIABLE_END_STRING">VARIABLE_END_STRING</a>, comment_start_string=<a href="jinja2.defaults.html#COMMENT_START_STRING" class="internal-link" title="jinja2.defaults.COMMENT_START_STRING">COMMENT_START_STRING</a>, comment_end_string=<a href="jinja2.defaults.html#COMMENT_END_STRING" class="internal-link" title="jinja2.defaults.COMMENT_END_STRING">COMMENT_END_STRING</a>, line_statement_prefix=<a href="jinja2.defaults.html#LINE_STATEMENT_PREFIX" class="internal-link" title="jinja2.defaults.LINE_STATEMENT_PREFIX">LINE_STATEMENT_PREFIX</a>, line_comment_prefix=<a href="jinja2.defaults.html#LINE_COMMENT_PREFIX" class="internal-link" title="jinja2.defaults.LINE_COMMENT_PREFIX">LINE_COMMENT_PREFIX</a>, trim_blocks=<a href="jinja2.defaults.html#TRIM_BLOCKS" class="internal-link" title="jinja2.defaults.TRIM_BLOCKS">TRIM_BLOCKS</a>, lstrip_blocks=<a href="jinja2.defaults.html#LSTRIP_BLOCKS" class="internal-link" title="jinja2.defaults.LSTRIP_BLOCKS">LSTRIP_BLOCKS</a>, newline_sequence=<a href="jinja2.defaults.html#NEWLINE_SEQUENCE" class="internal-link" title="jinja2.defaults.NEWLINE_SEQUENCE">NEWLINE_SEQUENCE</a>, keep_trailing_newline=<a href="jinja2.defaults.html#KEEP_TRAILING_NEWLINE" class="internal-link" title="jinja2.defaults.KEEP_TRAILING_NEWLINE">KEEP_TRAILING_NEWLINE</a>, extensions=(), optimized=True, undefined=<a href="jinja2.runtime.Undefined.html" class="internal-link" title="jinja2.runtime.Undefined">Undefined</a>, finalize=None, autoescape=False, loader=None, cache_size=400, auto_reload=True, bytecode_cache=None, enable_async=False):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">block​_start​_string:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">block​_end​_string:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">variable​_start​_string:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">variable​_end​_string:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">comment​_start​_string:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">comment​_end​_string:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">line​_statement​_prefix:</span><code>t.Optional[<wbr></wbr>str]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">line​_comment​_prefix:</span><code>t.Optional[<wbr></wbr>str]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">trim​_blocks:</span><code>bool</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">lstrip​_blocks:</span><code>bool</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">newline​_sequence:</span><code>te.Literal[<wbr></wbr><span class="rst-variable-quote">'</span><span class="rst-variable-string">\n</span><span class="rst-variable-quote">'</span>, <wbr></wbr><span class="rst-variable-quote">'</span><span class="rst-variable-string">\r\n</span><span class="rst-variable-quote">'</span>, <wbr></wbr><span class="rst-variable-quote">'</span><span class="rst-variable-string">\r</span><span class="rst-variable-quote">'</span>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">keep​_trailing​_newline:</span><code>bool</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">extensions:</span><code>t.Sequence[<wbr></wbr>t.Union[<wbr></wbr>str, <wbr></wbr>t.Type[<wbr></wbr><a href="jinja2.ext.Extension.html" class="internal-link" title="jinja2.ext.Extension">Extension</a>]]]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">optimized:</span><code>bool</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">undefined:</span><code>t.Type[<wbr></wbr><a href="jinja2.runtime.Undefined.html" class="internal-link" title="jinja2.runtime.Undefined">Undefined</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">finalize:</span><code>t.Optional[<wbr></wbr>t.Callable[<wbr></wbr><span class="rst-variable-ellipsis">...</span>, <wbr></wbr>t.Any]]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">autoescape:</span><code>t.Union[<wbr></wbr>bool, <wbr></wbr>t.Callable[<wbr></wbr>[<wbr></wbr>t.Optional[<wbr></wbr>str]], <wbr></wbr>bool]]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">loader:</span><code>t.Optional[<wbr></wbr><a href="jinja2.loaders.BaseLoader.html" class="internal-link" title="jinja2.loaders.BaseLoader">BaseLoader</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">cache​_size:</span><code>int</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">auto​_reload:</span><code>bool</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">bytecode​_cache:</span><code>t.Optional[<wbr></wbr><a href="jinja2.bccache.BytecodeCache.html" class="internal-link" title="jinja2.bccache.BytecodeCache">BytecodeCache</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">enable​_async:</span><code>bool</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="jinja2.environment.Environment.add_extension">
    
  </a>
  <a name="add_extension">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">add_extension</span>(self, extension):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Adds an extension after the environment was created.</p>
<div class="rst-versionadded">
<span class="rst-versionmodified rst-added">New in version 2.5.</span></div>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">extension:</span><code>t.Union[<wbr></wbr>str, <wbr></wbr>t.Type[<wbr></wbr><a href="jinja2.ext.Extension.html" class="internal-link" title="jinja2.ext.Extension">Extension</a>]]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="jinja2.environment.Environment.call_filter">
    
  </a>
  <a name="call_filter">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">call_filter</span>(self, name, value, args=None, kwargs=None, context=None, eval_ctx=None):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Invoke a filter on a value the same way the compiler does.</p>
<p>This might return a coroutine if the filter is running from an
environment in async mode and the filter supports async
execution. It's your responsibility to await this if needed.</p>
<div class="rst-versionadded">
<span class="rst-versionmodified rst-added">New in version 2.7.</span></div>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">name:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">value:</span><code>t.Any</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">args:</span><code>t.Optional[<wbr></wbr>t.Sequence[<wbr></wbr>t.Any]]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">kwargs:</span><code>t.Optional[<wbr></wbr>t.Mapping[<wbr></wbr>str, <wbr></wbr>t.Any]]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">context:</span><code>t.Optional[<wbr></wbr><a href="jinja2.runtime.Context.html" class="internal-link" title="jinja2.runtime.Context">Context</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">eval​_ctx:</span><code>t.Optional[<wbr></wbr><a href="jinja2.nodes.EvalContext.html" class="internal-link" title="jinja2.nodes.EvalContext">EvalContext</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>t.Any</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="jinja2.environment.Environment.call_test">
    
  </a>
  <a name="call_test">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">call_test</span>(self, name, value, args=None, kwargs=None, context=None, eval_ctx=None):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Invoke a test on a value the same way the compiler does.</p>
<p>This might return a coroutine if the test is running from an
environment in async mode and the test supports async execution.
It's your responsibility to await this if needed.</p>
<div class="rst-versionchanged">
<span class="rst-versionmodified rst-changed">Changed in version 3.0: </span><span>Tests support <tt class="rst-docutils literal">@pass_context</tt>, etc. decorators. Added
the <tt class="rst-docutils literal">context</tt> and <tt class="rst-docutils literal">eval_ctx</tt> parameters.</span></div>
<div class="rst-versionadded">
<span class="rst-versionmodified rst-added">New in version 2.7.</span></div>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">name:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">value:</span><code>t.Any</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">args:</span><code>t.Optional[<wbr></wbr>t.Sequence[<wbr></wbr>t.Any]]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">kwargs:</span><code>t.Optional[<wbr></wbr>t.Mapping[<wbr></wbr>str, <wbr></wbr>t.Any]]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">context:</span><code>t.Optional[<wbr></wbr><a href="jinja2.runtime.Context.html" class="internal-link" title="jinja2.runtime.Context">Context</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">eval​_ctx:</span><code>t.Optional[<wbr></wbr><a href="jinja2.nodes.EvalContext.html" class="internal-link" title="jinja2.nodes.EvalContext">EvalContext</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>t.Any</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="jinja2.environment.Environment.compile">
    
  </a>
  <a name="compile">
    
  </a>
  <div class="functionHeader">
    @<a href="jinja2.utils.html#internalcode" class="internal-link" title="jinja2.utils.internalcode">internalcode</a><br />
    <span class="py-keyword">def</span> <span class="py-defname">compile</span>(self, source, name=None, filename=None, raw=False, defer_init=False):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Compile a node or template source code.  The <code><a href="jinja2.environment.Template.html#name" class="internal-link" title="jinja2.environment.Template.name">name</a></code> parameter is
the load name of the template after it was joined using
<code><a href="#join_path" class="internal-link" title="jinja2.environment.Environment.join_path">join_path</a></code> if necessary, not the filename on the file system.
the <code><a href="jinja2.environment.Template.html#filename" class="internal-link" title="jinja2.environment.Template.filename">filename</a></code> parameter is the estimated filename of the template on
the file system.  If the template came from a database or memory this
can be omitted.</p>
<p>The return value of this method is a python code object.  If the <code>raw</code>
parameter is <code>True</code> the return value will be a string with python
code equivalent to the bytecode returned otherwise.  This method is
mainly used internally.</p>
<p><code>defer_init</code> is use internally to aid the module code generator.  This
causes the generated code to be able to import without the global
environment variable to be set.</p>
<div class="rst-versionadded">
<span class="rst-versionmodified rst-added">New in version 2.4: </span><span><code>defer_init</code> parameter added.</span></div>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">source:</span><code>t.Union[<wbr></wbr>str, <wbr></wbr><a href="jinja2.nodes.Template.html" class="internal-link" title="jinja2.nodes.Template">nodes.Template</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">name:</span><code>t.Optional[<wbr></wbr>str]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">filename:</span><code>t.Optional[<wbr></wbr>str]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">raw:</span><code>bool</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">defer​_init:</span><code>bool</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>t.Union[<wbr></wbr>str, <wbr></wbr>CodeType]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="jinja2.environment.Environment.compile_expression">
    
  </a>
  <a name="compile_expression">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">compile_expression</span>(self, source, undefined_to_none=True):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>A handy helper method that returns a callable that accepts keyword
arguments that appear as variables in the expression.  If called it
returns the result of the expression.</p>
<p>This is useful if applications want to use the same rules as Jinja
in template "configuration files" or similar situations.</p>
<p>Example usage:</p>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span>env = Environment()
<span class="py-prompt">&gt;&gt;&gt; </span>expr = env.compile_expression(<span class="py-string">'foo == 42'</span>)
<span class="py-prompt">&gt;&gt;&gt; </span>expr(foo=23)
<span class="py-output">False</span>
<span class="py-prompt">&gt;&gt;&gt; </span>expr(foo=42)
<span class="py-output">True</span>
</pre><p>Per default the return value is converted to <code>None</code> if the
expression returns an undefined value.  This can be changed
by setting <code>undefined_to_none</code> to <code>False</code>.</p>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span>env.compile_expression(<span class="py-string">'var'</span>)() <span class="py-keyword">is</span> <span class="py-builtin">None</span>
<span class="py-output">True</span>
<span class="py-prompt">&gt;&gt;&gt; </span>env.compile_expression(<span class="py-string">'var'</span>, undefined_to_none=<span class="py-builtin">False</span>)()
<span class="py-output">Undefined</span>
</pre><div class="rst-versionadded">
<span class="rst-versionmodified rst-added">New in version 2.1.</span></div>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">source:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">undefined​_to​_none:</span><code>bool</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="jinja2.environment.TemplateExpression.html" class="internal-link" title="jinja2.environment.TemplateExpression">TemplateExpression</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="jinja2.environment.Environment.compile_templates">
    
  </a>
  <a name="compile_templates">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">compile_templates</span>(self, target, extensions=None, filter_func=None, zip=<span class="rst-variable-quote">'</span><span class="rst-variable-string">deflated</span><span class="rst-variable-quote">'</span>, log_function=None, ignore_errors=True):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Finds all the templates the loader can find, compiles them
and stores them in <code>target</code>.  If <code>zip</code> is <code>None</code>, instead of in a
zipfile, the templates will be stored in a directory.
By default a deflate zip algorithm is used. To switch to
the stored algorithm, <code>zip</code> can be set to <tt class="rst-docutils literal">'stored'</tt>.</p>
<p><code><a href="#extensions" class="internal-link" title="jinja2.environment.Environment.extensions">extensions</a></code> and <code>filter_func</code> are passed to <code><a href="#list_templates" class="internal-link" title="jinja2.environment.Environment.list_templates">list_templates</a></code>.
Each template returned will be compiled to the target folder or
zipfile.</p>
<p>By default template compilation errors are ignored.  In case a
log function is provided, errors are logged.  If you want template
syntax errors to abort the compilation you can set <code>ignore_errors</code>
to <code>False</code> and you will get an exception on syntax errors.</p>
<div class="rst-versionadded">
<span class="rst-versionmodified rst-added">New in version 2.4.</span></div>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">target:</span><code>t.Union[<wbr></wbr>str, <wbr></wbr>os.PathLike]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">extensions:</span><code>t.Optional[<wbr></wbr>t.Collection[<wbr></wbr>str]]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">filter​_func:</span><code>t.Optional[<wbr></wbr>t.Callable[<wbr></wbr>[<wbr></wbr>str], <wbr></wbr>bool]]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">zip:</span><code>t.Optional[<wbr></wbr>str]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">log​_function:</span><code>t.Optional[<wbr></wbr>t.Callable[<wbr></wbr>[<wbr></wbr>str], <wbr></wbr>None]]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">ignore​_errors:</span><code>bool</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="jinja2.environment.Environment.extend">
    
  </a>
  <a name="extend">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">extend</span>(self, **attributes):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div>Add the items to the instance of the environment if they do not exist
yet.  This is used by <a href="#system-message-1"><span class="rst-problematic" id="rst-problematic-1">:ref:`extensions &lt;writing-extensions&gt;`</span></a> to register
callbacks and configuration values without breaking inheritance.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">**attributes:</span><code>t.Any</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="jinja2.environment.Environment.from_string">
    
  </a>
  <a name="from_string">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">from_string</span>(self, source, globals=None, template_class=None):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div>Load a template from a source string without using
<code><a href="#loader" class="internal-link" title="jinja2.environment.Environment.loader">loader</a></code>.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">source:</span><code>t.Union[<wbr></wbr>str, <wbr></wbr><a href="jinja2.nodes.Template.html" class="internal-link" title="jinja2.nodes.Template">nodes.Template</a>]</code></td><td class="fieldArgDesc">Jinja source to compile into a template.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">globals:</span><code>t.Optional[<wbr></wbr>t.Mapping[<wbr></wbr>str, <wbr></wbr>t.Any]]</code></td><td class="fieldArgDesc">Extend the environment <code><a href="#globals" class="internal-link" title="jinja2.environment.Environment.globals">globals</a></code> with
these extra variables available for all renders of this
template. If the template has already been loaded and
cached, its globals are updated with any new items.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">template​_class:</span><code>t.Optional[<wbr></wbr>t.Type[<wbr></wbr><a href="jinja2.environment.Template.html" class="internal-link" title="jinja2.environment.Template">Template</a>]]</code></td><td class="fieldArgDesc">Return an instance of this
<code><a href="jinja2.environment.Template.html" class="internal-link" title="jinja2.environment.Template">Template</a></code> class.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="jinja2.environment.Template.html" class="internal-link" title="jinja2.environment.Template">Template</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="jinja2.environment.Environment.get_or_select_template">
    
  </a>
  <a name="get_or_select_template">
    
  </a>
  <div class="functionHeader">
    @<a href="jinja2.utils.html#internalcode" class="internal-link" title="jinja2.utils.internalcode">internalcode</a><br />
    <span class="py-keyword">def</span> <span class="py-defname">get_or_select_template</span>(self, template_name_or_list, parent=None, globals=None):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Use <code><a href="#select_template" class="internal-link" title="jinja2.environment.Environment.select_template">select_template</a></code> if an iterable of template names
is given, or <code><a href="#get_template" class="internal-link" title="jinja2.environment.Environment.get_template">get_template</a></code> if one name is given.</p>
<div class="rst-versionadded">
<span class="rst-versionmodified rst-added">New in version 2.3.</span></div>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">template​_name​_or​_list:</span><code>t.Union[<wbr></wbr>str, <wbr></wbr><a href="jinja2.environment.Template.html" class="internal-link" title="jinja2.environment.Template">Template</a>, <wbr></wbr>t.List[<wbr></wbr>t.Union[<wbr></wbr>str, <wbr></wbr><a href="jinja2.environment.Template.html" class="internal-link" title="jinja2.environment.Template">Template</a>]]]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">parent:</span><code>t.Optional[<wbr></wbr>str]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">globals:</span><code>t.Optional[<wbr></wbr>t.Mapping[<wbr></wbr>str, <wbr></wbr>t.Any]]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="jinja2.environment.Template.html" class="internal-link" title="jinja2.environment.Template">Template</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="jinja2.environment.Environment.get_template">
    
  </a>
  <a name="get_template">
    
  </a>
  <div class="functionHeader">
    @<a href="jinja2.utils.html#internalcode" class="internal-link" title="jinja2.utils.internalcode">internalcode</a><br />
    <span class="py-keyword">def</span> <span class="py-defname">get_template</span>(self, name, parent=None, globals=None):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Load a template by name with <code><a href="#loader" class="internal-link" title="jinja2.environment.Environment.loader">loader</a></code> and return a
<code><a href="jinja2.environment.Template.html" class="internal-link" title="jinja2.environment.Template">Template</a></code>. If the template does not exist a
<code><a href="jinja2.exceptions.TemplateNotFound.html" class="internal-link" title="jinja2.exceptions.TemplateNotFound">TemplateNotFound</a></code> exception is raised.</p>
<div class="rst-versionchanged">
<span class="rst-versionmodified rst-changed">Changed in version 3.0: </span><span>If a template is loaded from cache, <tt class="rst-docutils literal">globals</tt> will update
the template's globals instead of ignoring the new values.</span></div>
<div class="rst-versionchanged">
<span class="rst-versionmodified rst-changed">Changed in version 2.4: </span><span>If <tt class="rst-docutils literal">name</tt> is a <code><a href="jinja2.environment.Template.html" class="internal-link" title="jinja2.environment.Template">Template</a></code> object it is returned
unchanged.</span></div>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">name:</span><code>t.Union[<wbr></wbr>str, <wbr></wbr><a href="jinja2.environment.Template.html" class="internal-link" title="jinja2.environment.Template">Template</a>]</code></td><td class="fieldArgDesc">Name of the template to load.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">parent:</span><code>t.Optional[<wbr></wbr>str]</code></td><td class="fieldArgDesc">The name of the parent template importing this
template. <code><a href="#join_path" class="internal-link" title="jinja2.environment.Environment.join_path">join_path</a></code> can be used to implement name
transformations with this.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">globals:</span><code>t.Optional[<wbr></wbr>t.Mapping[<wbr></wbr>str, <wbr></wbr>t.Any]]</code></td><td class="fieldArgDesc">Extend the environment <code><a href="#globals" class="internal-link" title="jinja2.environment.Environment.globals">globals</a></code> with
these extra variables available for all renders of this
template. If the template has already been loaded and
cached, its globals are updated with any new items.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="jinja2.environment.Template.html" class="internal-link" title="jinja2.environment.Template">Template</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="jinja2.environment.Environment.getattr">
    
  </a>
  <a name="getattr">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">getattr</span>(self, obj, attribute):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div>Get an item or attribute of an object but prefer the attribute.
Unlike <code><a href="#getitem" class="internal-link" title="jinja2.environment.Environment.getitem">getitem</a></code> the attribute <em>must</em> be a string.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">obj:</span><code>t.Any</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">attribute:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>t.Any</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="jinja2.environment.Environment.getitem">
    
  </a>
  <a name="getitem">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">getitem</span>(self, obj, argument):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div>Get an item or attribute of an object but prefer the item.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">obj:</span><code>t.Any</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">argument:</span><code>t.Union[<wbr></wbr>str, <wbr></wbr>t.Any]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>t.Union[<wbr></wbr>t.Any, <wbr></wbr><a href="jinja2.runtime.Undefined.html" class="internal-link" title="jinja2.runtime.Undefined">Undefined</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="jinja2.environment.Environment.handle_exception">
    
  </a>
  <a name="handle_exception">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">handle_exception</span>(self, source=None):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div>Exception handling helper.  This is used internally to either raise
rewritten exceptions or return a rendered traceback for the template.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">source:</span><code>t.Optional[<wbr></wbr>str]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>te.NoReturn</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="jinja2.environment.Environment.iter_extensions">
    
  </a>
  <a name="iter_extensions">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">iter_extensions</span>(self):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div>Iterates over the extensions by priority.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>t.Iterator[<wbr></wbr><a href="jinja2.ext.Extension.html" class="internal-link" title="jinja2.ext.Extension">Extension</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="jinja2.environment.Environment.join_path">
    
  </a>
  <a name="join_path">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">join_path</span>(self, template, parent):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Join a template with the parent.  By default all the lookups are
relative to the loader root so this method returns the <code>template</code>
parameter unchanged, but if the paths should be relative to the
parent template, this function can be used to calculate the real
template name.</p>
<p>Subclasses may override this method and implement template path
joining here.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">template:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">parent:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="jinja2.environment.Environment.lex">
    
  </a>
  <a name="lex">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">lex</span>(self, source, name=None, filename=None):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Lex the given sourcecode and return a generator that yields
tokens as tuples in the form <tt class="rst-docutils literal">(lineno, token_type, value)</tt>.
This can be useful for <a href="#system-message-1"><span class="rst-problematic" id="rst-problematic-1">:ref:`extension development &lt;writing-extensions&gt;`</span></a>
and debugging templates.</p>
<p>This does not perform preprocessing.  If you want the preprocessing
of the extensions to be applied you have to filter source through
the <code><a href="#preprocess" class="internal-link" title="jinja2.environment.Environment.preprocess">preprocess</a></code> method.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">source:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">name:</span><code>t.Optional[<wbr></wbr>str]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">filename:</span><code>t.Optional[<wbr></wbr>str]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>t.Iterator[<wbr></wbr>t.Tuple[<wbr></wbr>int, <wbr></wbr>str, <wbr></wbr>str]]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="jinja2.environment.Environment.list_templates">
    
  </a>
  <a name="list_templates">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">list_templates</span>(self, extensions=None, filter_func=None):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Returns a list of templates for this environment.  This requires
that the loader supports the loader's
<code>~BaseLoader.list_templates</code> method.</p>
<p>If there are other files in the template folder besides the
actual templates, the returned list can be filtered.  There are two
ways: either <code><a href="#extensions" class="internal-link" title="jinja2.environment.Environment.extensions">extensions</a></code> is set to a list of file extensions for
templates, or a <code>filter_func</code> can be provided which is a callable that
is passed a template name and should return <code>True</code> if it should end up
in the result list.</p>
<p>If the loader does not support that, a <code>TypeError</code> is raised.</p>
<div class="rst-versionadded">
<span class="rst-versionmodified rst-added">New in version 2.4.</span></div>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">extensions:</span><code>t.Optional[<wbr></wbr>t.Collection[<wbr></wbr>str]]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">filter​_func:</span><code>t.Optional[<wbr></wbr>t.Callable[<wbr></wbr>[<wbr></wbr>str], <wbr></wbr>bool]]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>t.List[<wbr></wbr>str]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="jinja2.environment.Environment.make_globals">
    
  </a>
  <a name="make_globals">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">make_globals</span>(self, d):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Make the globals map for a template. Any given template
globals overlay the environment <code><a href="#globals" class="internal-link" title="jinja2.environment.Environment.globals">globals</a></code>.</p>
<p>Returns a <code>collections.ChainMap</code>. This allows any changes
to a template's globals to only affect that template, while
changes to the environment's globals are still reflected.
However, avoid modifying any globals after a template is loaded.</p>
<div class="rst-versionchanged">
<span class="rst-versionmodified rst-changed">Changed in version 3.0: </span><span>Use <code>collections.ChainMap</code> to always prevent mutating
environment globals.</span></div>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">d:</span><code>t.Optional[<wbr></wbr>t.Mapping[<wbr></wbr>str, <wbr></wbr>t.Any]]</code></td><td class="fieldArgDesc">Dict of template-specific globals.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>t.MutableMapping[<wbr></wbr>str, <wbr></wbr>t.Any]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="jinja2.environment.Environment.overlay">
    
  </a>
  <a name="overlay">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">overlay</span>(self, block_start_string=<a href="jinja2.utils.html#missing" class="internal-link" title="jinja2.utils.missing">missing</a>, block_end_string=<a href="jinja2.utils.html#missing" class="internal-link" title="jinja2.utils.missing">missing</a>, variable_start_string=<a href="jinja2.utils.html#missing" class="internal-link" title="jinja2.utils.missing">missing</a>, variable_end_string=<a href="jinja2.utils.html#missing" class="internal-link" title="jinja2.utils.missing">missing</a>, comment_start_string=<a href="jinja2.utils.html#missing" class="internal-link" title="jinja2.utils.missing">missing</a>, comment_end_string=<a href="jinja2.utils.html#missing" class="internal-link" title="jinja2.utils.missing">missing</a>, line_statement_prefix=<a href="jinja2.utils.html#missing" class="internal-link" title="jinja2.utils.missing">missing</a>, line_comment_prefix=<a href="jinja2.utils.html#missing" class="internal-link" title="jinja2.utils.missing">missing</a>, trim_blocks=<a href="jinja2.utils.html#missing" class="internal-link" title="jinja2.utils.missing">missing</a>, lstrip_blocks=<a href="jinja2.utils.html#missing" class="internal-link" title="jinja2.utils.missing">missing</a>, extensions=<a href="jinja2.utils.html#missing" class="internal-link" title="jinja2.utils.missing">missing</a>, optimized=<a href="jinja2.utils.html#missing" class="internal-link" title="jinja2.utils.missing">missing</a>, undefined=<a href="jinja2.utils.html#missing" class="internal-link" title="jinja2.utils.missing">missing</a>, finalize=<a href="jinja2.utils.html#missing" class="internal-link" title="jinja2.utils.missing">missing</a>, autoescape=<a href="jinja2.utils.html#missing" class="internal-link" title="jinja2.utils.missing">missing</a>, loader=<a href="jinja2.utils.html#missing" class="internal-link" title="jinja2.utils.missing">missing</a>, cache_size=<a href="jinja2.utils.html#missing" class="internal-link" title="jinja2.utils.missing">missing</a>, auto_reload=<a href="jinja2.utils.html#missing" class="internal-link" title="jinja2.utils.missing">missing</a>, bytecode_cache=<a href="jinja2.utils.html#missing" class="internal-link" title="jinja2.utils.missing">missing</a>):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Create a new overlay environment that shares all the data with the
current environment except for cache and the overridden attributes.
Extensions cannot be removed for an overlayed environment.  An overlayed
environment automatically gets all the extensions of the environment it
is linked to plus optional extra extensions.</p>
<p>Creating overlays should happen after the initial environment was set
up completely.  Not all attributes are truly linked, some are just
copied over so modifications on the original environment may not shine
through.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">block​_start​_string:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">block​_end​_string:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">variable​_start​_string:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">variable​_end​_string:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">comment​_start​_string:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">comment​_end​_string:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">line​_statement​_prefix:</span><code>t.Optional[<wbr></wbr>str]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">line​_comment​_prefix:</span><code>t.Optional[<wbr></wbr>str]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">trim​_blocks:</span><code>bool</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">lstrip​_blocks:</span><code>bool</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">extensions:</span><code>t.Sequence[<wbr></wbr>t.Union[<wbr></wbr>str, <wbr></wbr>t.Type[<wbr></wbr><a href="jinja2.ext.Extension.html" class="internal-link" title="jinja2.ext.Extension">Extension</a>]]]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">optimized:</span><code>bool</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">undefined:</span><code>t.Type[<wbr></wbr><a href="jinja2.runtime.Undefined.html" class="internal-link" title="jinja2.runtime.Undefined">Undefined</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">finalize:</span><code>t.Optional[<wbr></wbr>t.Callable[<wbr></wbr><span class="rst-variable-ellipsis">...</span>, <wbr></wbr>t.Any]]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">autoescape:</span><code>t.Union[<wbr></wbr>bool, <wbr></wbr>t.Callable[<wbr></wbr>[<wbr></wbr>t.Optional[<wbr></wbr>str]], <wbr></wbr>bool]]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">loader:</span><code>t.Optional[<wbr></wbr><a href="jinja2.loaders.BaseLoader.html" class="internal-link" title="jinja2.loaders.BaseLoader">BaseLoader</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">cache​_size:</span><code>int</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">auto​_reload:</span><code>bool</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">bytecode​_cache:</span><code>t.Optional[<wbr></wbr><a href="jinja2.bccache.BytecodeCache.html" class="internal-link" title="jinja2.bccache.BytecodeCache">BytecodeCache</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="jinja2.environment.Environment.html" class="internal-link" title="jinja2.environment.Environment">Environment</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="jinja2.environment.Environment.parse">
    
  </a>
  <a name="parse">
    
  </a>
  <div class="functionHeader">
    @<a href="jinja2.utils.html#internalcode" class="internal-link" title="jinja2.utils.internalcode">internalcode</a><br />
    <span class="py-keyword">def</span> <span class="py-defname">parse</span>(self, source, name=None, filename=None):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Parse the sourcecode and return the abstract syntax tree.  This
tree of nodes is used by the compiler to convert the template into
executable source- or bytecode.  This is useful for debugging or to
extract information from templates.</p>
<p>If you are <a href="#system-message-1"><span class="rst-problematic" id="rst-problematic-1">:ref:`developing Jinja extensions &lt;writing-extensions&gt;`</span></a>
this gives you a good overview of the node tree generated.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">source:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">name:</span><code>t.Optional[<wbr></wbr>str]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">filename:</span><code>t.Optional[<wbr></wbr>str]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="jinja2.nodes.Template.html" class="internal-link" title="jinja2.nodes.Template">nodes.Template</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="jinja2.environment.Environment.preprocess">
    
  </a>
  <a name="preprocess">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">preprocess</span>(self, source, name=None, filename=None):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div>Preprocesses the source with all extensions.  This is automatically
called for all parsing and compiling methods but <em>not</em> for <code><a href="#lex" class="internal-link" title="jinja2.environment.Environment.lex">lex</a></code>
because there you usually only want the actual source tokenized.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">source:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">name:</span><code>t.Optional[<wbr></wbr>str]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">filename:</span><code>t.Optional[<wbr></wbr>str]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="jinja2.environment.Environment.select_template">
    
  </a>
  <a name="select_template">
    
  </a>
  <div class="functionHeader">
    @<a href="jinja2.utils.html#internalcode" class="internal-link" title="jinja2.utils.internalcode">internalcode</a><br />
    <span class="py-keyword">def</span> <span class="py-defname">select_template</span>(self, names, parent=None, globals=None):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Like <code><a href="#get_template" class="internal-link" title="jinja2.environment.Environment.get_template">get_template</a></code>, but tries loading multiple names.
If none of the names can be loaded a <code><a href="jinja2.exceptions.TemplatesNotFound.html" class="internal-link" title="jinja2.exceptions.TemplatesNotFound">TemplatesNotFound</a></code>
exception is raised.</p>
<div class="rst-versionchanged">
<span class="rst-versionmodified rst-changed">Changed in version 3.0: </span><span>If a template is loaded from cache, <tt class="rst-docutils literal">globals</tt> will update
the template's globals instead of ignoring the new values.</span></div>
<div class="rst-versionchanged">
<span class="rst-versionmodified rst-changed">Changed in version 2.11: </span><span>If <tt class="rst-docutils literal">names</tt> is <code><a href="jinja2.runtime.Undefined.html" class="internal-link" title="jinja2.runtime.Undefined">Undefined</a></code>, an <code><a href="jinja2.exceptions.UndefinedError.html" class="internal-link" title="jinja2.exceptions.UndefinedError">UndefinedError</a></code>
is raised instead. If no templates were found and <tt class="rst-docutils literal">names</tt>
contains <code><a href="jinja2.runtime.Undefined.html" class="internal-link" title="jinja2.runtime.Undefined">Undefined</a></code>, the message is more helpful.</span></div>
<div class="rst-versionchanged">
<span class="rst-versionmodified rst-changed">Changed in version 2.4: </span><span>If <tt class="rst-docutils literal">names</tt> contains a <code><a href="jinja2.environment.Template.html" class="internal-link" title="jinja2.environment.Template">Template</a></code> object it is
returned unchanged.</span></div>
<div class="rst-versionadded">
<span class="rst-versionmodified rst-added">New in version 2.3.</span></div>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">names:</span><code>t.Iterable[<wbr></wbr>t.Union[<wbr></wbr>str, <wbr></wbr><a href="jinja2.environment.Template.html" class="internal-link" title="jinja2.environment.Template">Template</a>]]</code></td><td class="fieldArgDesc">List of template names to try loading in order.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">parent:</span><code>t.Optional[<wbr></wbr>str]</code></td><td class="fieldArgDesc">The name of the parent template importing this
template. <code><a href="#join_path" class="internal-link" title="jinja2.environment.Environment.join_path">join_path</a></code> can be used to implement name
transformations with this.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">globals:</span><code>t.Optional[<wbr></wbr>t.Mapping[<wbr></wbr>str, <wbr></wbr>t.Any]]</code></td><td class="fieldArgDesc">Extend the environment <code><a href="#globals" class="internal-link" title="jinja2.environment.Environment.globals">globals</a></code> with
these extra variables available for all renders of this
template. If the template has already been loaded and
cached, its globals are updated with any new items.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="jinja2.environment.Template.html" class="internal-link" title="jinja2.environment.Template">Template</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="baseclassvariable">
  
  
  <a name="jinja2.environment.Environment.linked_to">
    
  </a>
  <a name="linked_to">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">linked_to</span>: <code>t.Optional[<wbr></wbr><a href="jinja2.environment.Environment.html" class="internal-link" title="jinja2.environment.Environment">Environment</a>]</code> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseclassvariable">
  
  
  <a name="jinja2.environment.Environment.overlayed">
    
  </a>
  <a name="overlayed">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">overlayed</span>: <code>bool</code> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseclassvariable">
  
  
  <a name="jinja2.environment.Environment.sandboxed">
    
  </a>
  <a name="sandboxed">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">sandboxed</span>: <code>bool</code> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseclassvariable">
  
  
  <a name="jinja2.environment.Environment.shared">
    
  </a>
  <a name="shared">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">shared</span>: <code>bool</code> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseclassvariable">
  
  
  <a name="jinja2.environment.Environment.template_class">
    
  </a>
  <a name="template_class">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">template_class</span>: <code>t.Type[<wbr></wbr><a href="jinja2.environment.Template.html" class="internal-link" title="jinja2.environment.Template">Template</a>]</code> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="jinja2.environment.Environment.auto_reload">
    
  </a>
  <a name="auto_reload">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">auto_reload</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="jinja2.environment.Environment.autoescape">
    
  </a>
  <a name="autoescape">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">autoescape</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="jinja2.environment.Environment.block_end_string">
    
  </a>
  <a name="block_end_string">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">block_end_string</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="jinja2.environment.Environment.block_start_string">
    
  </a>
  <a name="block_start_string">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">block_start_string</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="jinja2.environment.Environment.bytecode_cache">
    
  </a>
  <a name="bytecode_cache">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">bytecode_cache</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="jinja2.environment.Environment.cache">
    
  </a>
  <a name="cache">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">cache</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="jinja2.environment.Environment.comment_end_string">
    
  </a>
  <a name="comment_end_string">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">comment_end_string</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="jinja2.environment.Environment.comment_start_string">
    
  </a>
  <a name="comment_start_string">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">comment_start_string</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="jinja2.environment.Environment.extensions">
    
  </a>
  <a name="extensions">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">extensions</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="jinja2.environment.Environment.filters">
    
  </a>
  <a name="filters">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">filters</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="jinja2.environment.Environment.finalize">
    
  </a>
  <a name="finalize">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">finalize</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="jinja2.environment.Environment.globals">
    
  </a>
  <a name="globals">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">globals</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="jinja2.environment.Environment.is_async">
    
  </a>
  <a name="is_async">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">is_async</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="jinja2.environment.Environment.keep_trailing_newline">
    
  </a>
  <a name="keep_trailing_newline">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">keep_trailing_newline</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="jinja2.environment.Environment.line_comment_prefix">
    
  </a>
  <a name="line_comment_prefix">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">line_comment_prefix</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="jinja2.environment.Environment.line_statement_prefix">
    
  </a>
  <a name="line_statement_prefix">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">line_statement_prefix</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="jinja2.environment.Environment.loader">
    
  </a>
  <a name="loader">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">loader</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="jinja2.environment.Environment.lstrip_blocks">
    
  </a>
  <a name="lstrip_blocks">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">lstrip_blocks</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="jinja2.environment.Environment.newline_sequence">
    
  </a>
  <a name="newline_sequence">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">newline_sequence</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="jinja2.environment.Environment.optimized">
    
  </a>
  <a name="optimized">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">optimized</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="jinja2.environment.Environment.policies">
    
  </a>
  <a name="policies">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">policies</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="jinja2.environment.Environment.tests">
    
  </a>
  <a name="tests">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">tests</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="jinja2.environment.Environment.trim_blocks">
    
  </a>
  <a name="trim_blocks">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">trim_blocks</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="jinja2.environment.Environment.undefined">
    
  </a>
  <a name="undefined">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">undefined</span>: <code>t.Type[<wbr></wbr><a href="jinja2.runtime.Undefined.html" class="internal-link" title="jinja2.runtime.Undefined">Undefined</a>]</code> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="jinja2.environment.Environment.variable_end_string">
    
  </a>
  <a name="variable_end_string">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">variable_end_string</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="jinja2.environment.Environment.variable_start_string">
    
  </a>
  <a name="variable_start_string">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">variable_start_string</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseproperty">
  
  
  <a name="jinja2.environment.Environment.lexer">
    
  </a>
  <a name="lexer">
    
  </a>
  <div class="functionHeader">
    @property<br />
    <span class="py-defname">lexer</span>: <code><a href="jinja2.lexer.Lexer.html" class="internal-link" title="jinja2.lexer.Lexer">Lexer</a></code> =
    
  </div>
  <div class="functionBody">
    
    
    <div>The lexer for this environment.</div>
    
  </div>
</div><div class="basemethod private">
  
  
  <a name="jinja2.environment.Environment._compile">
    
  </a>
  <a name="_compile">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_compile</span>(self, source, filename):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Internal hook that can be overridden to hook a different compile
method in.</p>
<div class="rst-versionadded">
<span class="rst-versionmodified rst-added">New in version 2.5.</span></div>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">source:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">filename:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>CodeType</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="jinja2.environment.Environment._filter_test_common">
    
  </a>
  <a name="_filter_test_common">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_filter_test_common</span>(self, name, value, args, kwargs, context, eval_ctx, is_filter):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">name:</span><code>t.Union[<wbr></wbr>str, <wbr></wbr><a href="jinja2.runtime.Undefined.html" class="internal-link" title="jinja2.runtime.Undefined">Undefined</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">value:</span><code>t.Any</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">args:</span><code>t.Optional[<wbr></wbr>t.Sequence[<wbr></wbr>t.Any]]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">kwargs:</span><code>t.Optional[<wbr></wbr>t.Mapping[<wbr></wbr>str, <wbr></wbr>t.Any]]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">context:</span><code>t.Optional[<wbr></wbr><a href="jinja2.runtime.Context.html" class="internal-link" title="jinja2.runtime.Context">Context</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">eval​_ctx:</span><code>t.Optional[<wbr></wbr><a href="jinja2.nodes.EvalContext.html" class="internal-link" title="jinja2.nodes.EvalContext">EvalContext</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">is​_filter:</span><code>bool</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>t.Any</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="jinja2.environment.Environment._generate">
    
  </a>
  <a name="_generate">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_generate</span>(self, source, name, filename, defer_init=False):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Internal hook that can be overridden to hook a different generate
method in.</p>
<div class="rst-versionadded">
<span class="rst-versionmodified rst-added">New in version 2.5.</span></div>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">source:</span><code><a href="jinja2.nodes.Template.html" class="internal-link" title="jinja2.nodes.Template">nodes.Template</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">name:</span><code>t.Optional[<wbr></wbr>str]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">filename:</span><code>t.Optional[<wbr></wbr>str]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">defer​_init:</span><code>bool</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="jinja2.environment.Environment._load_template">
    
  </a>
  <a name="_load_template">
    
  </a>
  <div class="functionHeader">
    @<a href="jinja2.utils.html#internalcode" class="internal-link" title="jinja2.utils.internalcode">internalcode</a><br />
    <span class="py-keyword">def</span> <span class="py-defname">_load_template</span>(self, name, globals):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">name:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">globals:</span><code>t.Optional[<wbr></wbr>t.Mapping[<wbr></wbr>str, <wbr></wbr>t.Any]]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="jinja2.environment.Template.html" class="internal-link" title="jinja2.environment.Template">Template</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="jinja2.environment.Environment._parse">
    
  </a>
  <a name="_parse">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_parse</span>(self, source, name, filename):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div>Internal parsing function used by <code><a href="#parse" class="internal-link" title="jinja2.environment.Environment.parse">parse</a></code> and <code><a href="#compile" class="internal-link" title="jinja2.environment.Environment.compile">compile</a></code>.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">source:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">name:</span><code>t.Optional[<wbr></wbr>str]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">filename:</span><code>t.Optional[<wbr></wbr>str]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="jinja2.nodes.Template.html" class="internal-link" title="jinja2.nodes.Template">nodes.Template</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="jinja2.environment.Environment._tokenize">
    
  </a>
  <a name="_tokenize">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_tokenize</span>(self, source, name, filename=None, state=None):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div>Called by the parser to do the preprocessing and filtering
for all the extensions.  Returns a <code>~jinja2.lexer.TokenStream</code>.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">source:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">name:</span><code>t.Optional[<wbr></wbr>str]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">filename:</span><code>t.Optional[<wbr></wbr>str]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">state:</span><code>t.Optional[<wbr></wbr>str]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="jinja2.lexer.TokenStream.html" class="internal-link" title="jinja2.lexer.TokenStream">TokenStream</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div>

      </div>
    </div>

    <footer class="navbar navbar-default">
  
  <div class="container">
    <a href="index.html">API Documentation</a> for jinja2,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    22.2.0 at 2022-02-23 04:36:20.
  </div>
</footer>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>