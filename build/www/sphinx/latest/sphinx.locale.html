<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>sphinx.locale</title>
    <meta name="generator" content="pydoctor 22.2.0"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=0.75" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    

    <nav class="navbar navbar-default">
  
  <div class="container">

    <div class="navbar-header">
      
      <div class="navlinks">
          <span class="navbar-brand">
            sphinx <a href="index.html">API Documentation</a>
          </span>

          <a href="moduleIndex.html">
            Modules
          </a>

          <a href="classIndex.html">
            Classes
          </a>

          <a href="nameIndex.html">
            Names
          </a>
      </div>

    </div>
  </div>
</nav>

    

    <div class="container">

      <div class="page-header">
        <h1 class="package"><code><code><a href="index.html" class="internal-link">sphinx</a></code><wbr></wbr>.<code><a href="sphinx.locale.html" class="internal-link" title="sphinx.locale">locale</a></code></code></h1>
        <div id="showPrivate">
          <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
        </div>
      </div>

      <div class="categoryHeader">
        package documentation
      </div>

      <div class="extrasDocstring">
        
        <p></p>
      </div>

      <div class="moduleDocstring">
        <div><p>Locale utilities.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Unknown Field: copyright</td></tr><tr><td colspan="2">Copyright 2007-2022 by the Sphinx team, see AUTHORS.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Unknown Field: license</td></tr><tr><td colspan="2">BSD, see LICENSE for details.</td></tr></table></div>
      </div>

      <div id="splitTables">
        
        

          <p class="fromInitPy">From <code>__init__.py</code>:</p><table class="children sortable" id="id13732">
  
  
  <tr class="function">
    
    <td>Function</td>
    <td><code><a href="#get_translation" class="internal-link" title="sphinx.locale.get_translation">get​_translation</a></code></td>
    <td>Get a translation function based on the <em>catalog</em> and <em>namespace</em>.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#get_translator" class="internal-link" title="sphinx.locale.get_translator">get​_translator</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#init" class="internal-link" title="sphinx.locale.init">init</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#init_console" class="internal-link" title="sphinx.locale.init_console">init​_console</a></code></td>
    <td>Initialize locale for console.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#is_translator_registered" class="internal-link" title="sphinx.locale.is_translator_registered">is​_translator​_registered</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#setlocale" class="internal-link" title="sphinx.locale.setlocale">setlocale</a></code></td>
    <td>Update locale settings.</td>
  </tr><tr class="variable">
    
    <td>Variable</td>
    <td><code><a href="#__" class="internal-link" title="sphinx.locale.__">__</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="variable">
    
    <td>Variable</td>
    <td><code><a href="#admonitionlabels" class="internal-link" title="sphinx.locale.admonitionlabels">admonitionlabels</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="variable">
    
    <td>Variable</td>
    <td><code><a href="#pairindextypes" class="internal-link" title="sphinx.locale.pairindextypes">pairindextypes</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="variable">
    
    <td>Variable</td>
    <td><code><a href="#translators" class="internal-link" title="sphinx.locale.translators">translators</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="variable">
    
    <td>Variable</td>
    <td><code><a href="#versionlabels" class="internal-link" title="sphinx.locale.versionlabels">versionlabels</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="class private">
    
    <td>Class</td>
    <td><code><a href="sphinx.locale._TranslationProxy.html" class="internal-link" title="sphinx.locale._TranslationProxy">_​Translation​Proxy</a></code></td>
    <td>Class for proxy strings from gettext translations. This is a helper for the lazy_* functions from this module.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_lazy_translate" class="internal-link" title="sphinx.locale._lazy_translate">​_lazy​_translate</a></code></td>
    <td>Used instead of _ when creating TranslationProxy, because _ is not bound yet at that time.</td>
  </tr><tr class="variable private">
    
    <td>Variable</td>
    <td><code><a href="#_" class="internal-link" title="sphinx.locale._">_</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
      </div>

      <div id="childList">

        <div class="basevariable">
  
  
  <a name="sphinx.locale.translators">
    
  </a>
  <a name="translators">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">translators</span>: <code>Dict[<wbr></wbr>Tuple[<wbr></wbr>str, <wbr></wbr>str], <wbr></wbr>NullTranslations]</code> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="basefunction">
  
  
  <a name="sphinx.locale.init">
    
  </a>
  <a name="init">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">init</span>(locale_dirs, language, catalog=<span class="rst-variable-quote">'</span><span class="rst-variable-string">sphinx</span><span class="rst-variable-quote">'</span>, namespace=<span class="rst-variable-quote">'</span><span class="rst-variable-string">general</span><span class="rst-variable-quote">'</span>):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div>Look for message catalogs in <code>locale_dirs</code> and <em>ensure</em> that there is at
least a NullTranslations catalog set in <code><a href="#translators" class="internal-link" title="sphinx.locale.translators">translators</a></code>. If called multiple
times or if several <tt class="rst-docutils literal">.mo</tt> files are found, their contents are merged
together (thus making <tt class="rst-docutils literal">init</tt> reentrant).<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">locale​_dirs:</span><code>List[<wbr></wbr>Optional[<wbr></wbr>str]]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">language:</span><code>Optional[<wbr></wbr>str]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">catalog:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">namespace:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>Tuple[<wbr></wbr>NullTranslations, <wbr></wbr>bool]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="sphinx.locale.setlocale">
    
  </a>
  <a name="setlocale">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">setlocale</span>(category, value=None):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Update locale settings.</p>
<p>This does not throw any exception even if update fails.
This is workaround for Python's bug.</p>
<p>For more details:</p>
<ul class="rst-simple">
<li><a class="rst-reference external" href="https://github.com/sphinx-doc/sphinx/issues/5724" target="_top">https://github.com/sphinx-doc/sphinx/issues/5724</a></li>
<li><a class="rst-reference external" href="https://bugs.python.org/issue18378#msg215215" target="_top">https://bugs.python.org/issue18378#msg215215</a></li>
</ul>
<div class="rst-admonition note">
<p class="rst-first rst-admonition-title">Note</p>
<p class="rst-last">Only for internal use.  Please don't call this method from extensions.
This will be removed in future.</p>
</div>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">category:</span><code>int</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">value:</span><code>Union[<wbr></wbr>str, <wbr></wbr>Iterable[<wbr></wbr>str]]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="sphinx.locale.init_console">
    
  </a>
  <a name="init_console">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">init_console</span>(locale_dir, catalog):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Initialize locale for console.</p>
<div class="rst-versionadded">
<span class="rst-versionmodified rst-added">New in version 1.8.</span></div>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">locale​_dir:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">catalog:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>Tuple[<wbr></wbr>NullTranslations, <wbr></wbr>bool]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="sphinx.locale.get_translator">
    
  </a>
  <a name="get_translator">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">get_translator</span>(catalog=<span class="rst-variable-quote">'</span><span class="rst-variable-string">sphinx</span><span class="rst-variable-quote">'</span>, namespace=<span class="rst-variable-quote">'</span><span class="rst-variable-string">general</span><span class="rst-variable-quote">'</span>):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">catalog:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">namespace:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>NullTranslations</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="sphinx.locale.is_translator_registered">
    
  </a>
  <a name="is_translator_registered">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">is_translator_registered</span>(catalog=<span class="rst-variable-quote">'</span><span class="rst-variable-string">sphinx</span><span class="rst-variable-quote">'</span>, namespace=<span class="rst-variable-quote">'</span><span class="rst-variable-string">general</span><span class="rst-variable-quote">'</span>):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">catalog:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">namespace:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>bool</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="sphinx.locale._lazy_translate">
    
  </a>
  <a name="_lazy_translate">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_lazy_translate</span>(catalog, namespace, message):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div>Used instead of _ when creating TranslationProxy, because _ is
not bound yet at that time.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">catalog:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">namespace:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">message:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="sphinx.locale.get_translation">
    
  </a>
  <a name="get_translation">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">get_translation</span>(catalog, namespace=<span class="rst-variable-quote">'</span><span class="rst-variable-string">general</span><span class="rst-variable-quote">'</span>):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Get a translation function based on the <em>catalog</em> and <em>namespace</em>.</p>
<p>The extension can use this API to translate the messages on the
extension:</p>
<pre class="rst-literal-block">
import os
from sphinx.locale import get_translation

MESSAGE_CATALOG_NAME = 'myextension'  # name of *.pot, *.po and *.mo files
_ = get_translation(MESSAGE_CATALOG_NAME)
text = _('Hello Sphinx!')


def setup(app):
    package_dir = os.path.abspath(os.path.dirname(__file__))
    locale_dir = os.path.join(package_dir, 'locales')
    app.add_message_catalog(MESSAGE_CATALOG_NAME, locale_dir)
</pre>
<p>With this code, sphinx searches a message catalog from
<tt class="rst-docutils literal"><span class="pre">${package_dir}/locales/${language}/LC_MESSAGES/myextension.mo</span></tt>.
The <a href="#system-message-1"><span class="rst-problematic" id="rst-problematic-1">:confval:`language`</span></a> is used for the searching.</p>
<div class="rst-versionadded">
<span class="rst-versionmodified rst-added">New in version 1.8.</span></div>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">catalog:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">namespace:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>Callable</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basevariable private">
  
  
  <a name="sphinx.locale._">
    
  </a>
  <a name="_">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="basevariable">
  
  
  <a name="sphinx.locale.__">
    
  </a>
  <a name="__">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">__</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="basevariable">
  
  
  <a name="sphinx.locale.admonitionlabels">
    
  </a>
  <a name="admonitionlabels">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">admonitionlabels</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="basevariable">
  
  
  <a name="sphinx.locale.versionlabels">
    
  </a>
  <a name="versionlabels">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">versionlabels</span>: <code>Dict[<wbr></wbr>str, <wbr></wbr>str]</code> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="basevariable">
  
  
  <a name="sphinx.locale.pairindextypes">
    
  </a>
  <a name="pairindextypes">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">pairindextypes</span>: <code>Dict[<wbr></wbr>str, <wbr></wbr>str]</code> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div>

      </div>
    </div>

    <footer class="navbar navbar-default">
  
  <div class="container">
    <a href="index.html">API Documentation</a> for sphinx,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    22.2.0 at 2022-02-23 04:40:29.
  </div>
</footer>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>