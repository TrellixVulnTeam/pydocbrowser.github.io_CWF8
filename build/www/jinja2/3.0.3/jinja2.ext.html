<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>jinja2.ext</title>
    <meta name="generator" content="pydoctor 22.2.0"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=0.75" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    

    <nav class="navbar navbar-default">
  
  <div class="container">

    <div class="navbar-header">
      
      <div class="navlinks">
          <span class="navbar-brand">
            jinja2 <a href="index.html">API Documentation</a>
          </span>

          <a href="moduleIndex.html">
            Modules
          </a>

          <a href="classIndex.html">
            Classes
          </a>

          <a href="nameIndex.html">
            Names
          </a>
      </div>

    </div>
  </div>
</nav>

    

    <div class="container">

      <div class="page-header">
        <h1 class="module"><code><code><a href="index.html" class="internal-link">jinja2</a></code><wbr></wbr>.<code><a href="jinja2.ext.html" class="internal-link" title="jinja2.ext">ext</a></code></code></h1>
        <div id="showPrivate">
          <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
        </div>
      </div>

      <div class="categoryHeader">
        module documentation
      </div>

      <div class="extrasDocstring">
        
        <p></p>
      </div>

      <div class="moduleDocstring">
        <div>Extension API for adding custom tags and behavior.</div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id7683">
  
  
  <tr class="class">
    
    <td>Class</td>
    <td><code><a href="jinja2.ext.AutoEscapeExtension.html" class="internal-link" title="jinja2.ext.AutoEscapeExtension">​Auto​Escape​Extension</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="jinja2.ext.DebugExtension.html" class="internal-link" title="jinja2.ext.DebugExtension">​Debug​Extension</a></code></td>
    <td>A <tt class="rst-docutils literal">{% debug %}</tt> tag that dumps the available variables, filters, and tests.</td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="jinja2.ext.ExprStmtExtension.html" class="internal-link" title="jinja2.ext.ExprStmtExtension">​Expr​Stmt​Extension</a></code></td>
    <td>Adds a <code><a href="jinja2.ext.ExprStmtExtension.html" class="internal-link" title="jinja2.ext.ExprStmtExtension">do</a></code> tag to Jinja that works like the print statement just that it doesn't print the return value.</td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="jinja2.ext.Extension.html" class="internal-link" title="jinja2.ext.Extension">​Extension</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="jinja2.ext.InternationalizationExtension.html" class="internal-link" title="jinja2.ext.InternationalizationExtension">​Internationalization​Extension</a></code></td>
    <td>This extension adds gettext support to Jinja.</td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="jinja2.ext.LoopControlExtension.html" class="internal-link" title="jinja2.ext.LoopControlExtension">​Loop​Control​Extension</a></code></td>
    <td>Adds break and continue to the template engine.</td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="jinja2.ext.WithExtension.html" class="internal-link" title="jinja2.ext.WithExtension">​With​Extension</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#babel_extract" class="internal-link" title="jinja2.ext.babel_extract">babel​_extract</a></code></td>
    <td>Babel extraction method for Jinja templates.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#extract_from_ast" class="internal-link" title="jinja2.ext.extract_from_ast">extract​_from​_ast</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="constant">
    
    <td>Constant</td>
    <td><code><a href="#GETTEXT_FUNCTIONS" class="internal-link" title="jinja2.ext.GETTEXT_FUNCTIONS">GETTEXT​_FUNCTIONS</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="class private">
    
    <td>Class</td>
    <td><code><a href="jinja2.ext._CommentFinder.html" class="internal-link" title="jinja2.ext._CommentFinder">_​Comment​Finder</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="class private">
    
    <td>Class</td>
    <td><code><a href="jinja2.ext._TranslationsBasic.html" class="internal-link" title="jinja2.ext._TranslationsBasic">_​Translations​Basic</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="class private">
    
    <td>Class</td>
    <td><code><a href="jinja2.ext._TranslationsContext.html" class="internal-link" title="jinja2.ext._TranslationsContext">_​Translations​Context</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_gettext_alias" class="internal-link" title="jinja2.ext._gettext_alias">​_gettext​_alias</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_make_new_gettext" class="internal-link" title="jinja2.ext._make_new_gettext">​_make​_new​_gettext</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_make_new_ngettext" class="internal-link" title="jinja2.ext._make_new_ngettext">​_make​_new​_ngettext</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_make_new_npgettext" class="internal-link" title="jinja2.ext._make_new_npgettext">​_make​_new​_npgettext</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_make_new_pgettext" class="internal-link" title="jinja2.ext._make_new_pgettext">​_make​_new​_pgettext</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="variable private">
    
    <td>Variable</td>
    <td><code><a href="#_SupportedTranslations" class="internal-link" title="jinja2.ext._SupportedTranslations">_​Supported​Translations</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="variable private">
    
    <td>Variable</td>
    <td><code><a href="#_ws_re" class="internal-link" title="jinja2.ext._ws_re">​_ws​_re</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="basefunction">
  
  
  <a name="jinja2.ext.babel_extract">
    
  </a>
  <a name="babel_extract">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">babel_extract</span>(fileobj, keywords, comment_tags, options):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Babel extraction method for Jinja templates.</p>
<div class="rst-versionchanged">
<span class="rst-versionmodified rst-changed">Changed in version 2.3: </span><span>Basic support for translation comments was added.  If <code><a href="jinja2.ext._CommentFinder.html#comment_tags" class="internal-link" title="jinja2.ext._CommentFinder.comment_tags">comment_tags</a></code>
is now set to a list of keywords for extraction, the extractor will
try to find the best preceding comment that begins with one of the
keywords.  For best results, make sure to not have more than one
gettext call in one line of code and the matching comment in the
same line or the line before.</span></div>
<div class="rst-versionchanged">
<span class="rst-versionmodified rst-changed">Changed in version 2.5.1: </span><span>The <code>newstyle_gettext</code> flag can be set to <code>True</code> to enable newstyle
gettext calls.</span></div>
<div class="rst-versionchanged">
<span class="rst-versionmodified rst-changed">Changed in version 2.7: </span><span>A <code>silent</code> option can now be provided.  If set to <code>False</code> template
syntax errors are propagated instead of being ignored.</span></div>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">fileobj:</span><code>t.BinaryIO</code></td><td class="fieldArgDesc">the file-like object the messages should be extracted from</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">keywords:</span><code>t.Sequence[<wbr></wbr>str]</code></td><td class="fieldArgDesc">a list of keywords (i.e. function names) that should be
recognized as translation functions</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">comment​_tags:</span><code>t.Sequence[<wbr></wbr>str]</code></td><td class="fieldArgDesc">a list of translator tags to search for and include
in the results.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">options:</span><code>t.Dict[<wbr></wbr>str, <wbr></wbr>t.Any]</code></td><td class="fieldArgDesc">a dictionary of additional options (optional)</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>t.Iterator[<wbr></wbr>t.Tuple[<wbr></wbr>int, <wbr></wbr>str, <wbr></wbr>t.Union[<wbr></wbr>t.Optional[<wbr></wbr>str], <wbr></wbr>t.Tuple[<wbr></wbr>t.Optional[<wbr></wbr>str], <wbr></wbr><span class="rst-variable-ellipsis">...</span>]], <wbr></wbr>t.List[<wbr></wbr>str]]]</code></td><td class="fieldArgDesc">an iterator over <tt class="rst-docutils literal">(lineno, funcname, message, comments)</tt> tuples.
(comments will be empty currently)</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="jinja2.ext.extract_from_ast">
    
  </a>
  <a name="extract_from_ast">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">extract_from_ast</span>(ast, gettext_functions=<a href="#GETTEXT_FUNCTIONS" class="internal-link" title="jinja2.ext.GETTEXT_FUNCTIONS">GETTEXT_FUNCTIONS</a>, babel_style=True):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Extract localizable strings from the given template node.  Per
default this function returns matches in babel style that means non string
parameters as well as keyword arguments are returned as <code>None</code>.  This
allows Babel to figure out what you really meant if you are using
gettext functions that allow keyword arguments for placeholder expansion.
If you don't want that behavior set the <code>babel_style</code> parameter to <code>False</code>
which causes only strings to be returned and parameters are always stored
in tuples.  As a consequence invalid gettext calls (calls without a single
string parameter or string parameters after non-string parameters) are
skipped.</p>
<p>This example explains the behavior:</p>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span><span class="py-keyword">from</span> jinja2 <span class="py-keyword">import</span> Environment
<span class="py-prompt">&gt;&gt;&gt; </span>env = Environment()
<span class="py-prompt">&gt;&gt;&gt; </span>node = env.parse(<span class="py-string">'{{ (_("foo"), _(), ngettext("foo", "bar", 42)) }}'</span>)
<span class="py-prompt">&gt;&gt;&gt; </span><span class="py-builtin">list</span>(extract_from_ast(node))
<span class="py-output">[(1, '_', 'foo'), (1, '_', ()), (1, 'ngettext', ('foo', 'bar', None))]</span>
<span class="py-prompt">&gt;&gt;&gt; </span><span class="py-builtin">list</span>(extract_from_ast(node, babel_style=<span class="py-builtin">False</span>))
<span class="py-output">[(1, '_', ('foo',)), (1, 'ngettext', ('foo', 'bar'))]</span>
</pre><p>For every string found this function yields a <tt class="rst-docutils literal">(lineno, function,
message)</tt> tuple, where:</p>
<ul class="rst-simple">
<li><tt class="rst-docutils literal">lineno</tt> is the number of the line on which the string was found,</li>
<li><tt class="rst-docutils literal">function</tt> is the name of the <tt class="rst-docutils literal">gettext</tt> function used (if the
string was extracted from embedded Python code), and</li>
<li><dl class="rst-first rst-docutils">
<dt><tt class="rst-docutils literal">message</tt> is the string, or a tuple of strings for functions</dt>
<dd>with multiple string arguments.</dd>
</dl>
</li>
</ul>
<p>This extraction function operates on the AST and is because of that unable
to extract any comments.  For comment support you have to use the babel
extraction interface or extract comments yourself.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">ast:</span><code><a href="jinja2.nodes.Template.html" class="internal-link" title="jinja2.nodes.Template">nodes.Template</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">gettext​_functions:</span><code>t.Sequence[<wbr></wbr>str]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">babel​_style:</span><code>bool</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>t.Iterator[<wbr></wbr>t.Tuple[<wbr></wbr>int, <wbr></wbr>str, <wbr></wbr>t.Union[<wbr></wbr>t.Optional[<wbr></wbr>str], <wbr></wbr>t.Tuple[<wbr></wbr>t.Optional[<wbr></wbr>str], <wbr></wbr><span class="rst-variable-ellipsis">...</span>]]]]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="baseconstant">
  
  
  <a name="jinja2.ext.GETTEXT_FUNCTIONS">
    
  </a>
  <a name="GETTEXT_FUNCTIONS">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">GETTEXT_FUNCTIONS</span>: <code>t.Tuple[<wbr></wbr>str, <wbr></wbr><span class="rst-variable-ellipsis">...</span>]</code> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    <table class="valueTable"><tr class="fieldStart"><td class="fieldName">Value</td></tr><tr><td><pre class="constant-value"><code>(<wbr></wbr><span class="rst-variable-quote">'</span><span class="rst-variable-string">_</span><span class="rst-variable-quote">'</span>, <wbr></wbr><span class="rst-variable-quote">'</span><span class="rst-variable-string">gettext</span><span class="rst-variable-quote">'</span>, <wbr></wbr><span class="rst-variable-quote">'</span><span class="rst-variable-string">ngettext</span><span class="rst-variable-quote">'</span>, <wbr></wbr><span class="rst-variable-quote">'</span><span class="rst-variable-string">pgettext</span><span class="rst-variable-quote">'</span>, <wbr></wbr><span class="rst-variable-quote">'</span><span class="rst-variable-string">npgettext</span><span class="rst-variable-quote">'</span>)</code></pre></td></tr></table>
  </div>
</div><div class="basefunction private">
  
  
  <a name="jinja2.ext._gettext_alias">
    
  </a>
  <a name="_gettext_alias">
    
  </a>
  <div class="functionHeader">
    @<a href="jinja2.utils.html#pass_context" class="internal-link" title="jinja2.utils.pass_context">pass_context</a><br />
    <span class="py-keyword">def</span> <span class="py-defname">_gettext_alias</span>(__context, *args, **kwargs):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">__context:</span><code><a href="jinja2.runtime.Context.html" class="internal-link" title="jinja2.runtime.Context">Context</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">*args:</span><code>t.Any</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">**kwargs:</span><code>t.Any</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>t.Union[<wbr></wbr>t.Any, <wbr></wbr><a href="jinja2.runtime.Undefined.html" class="internal-link" title="jinja2.runtime.Undefined">Undefined</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="jinja2.ext._make_new_gettext">
    
  </a>
  <a name="_make_new_gettext">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_make_new_gettext</span>(func):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">func:</span><code>t.Callable[<wbr></wbr>[<wbr></wbr>str], <wbr></wbr>str]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>t.Callable[<wbr></wbr><span class="rst-variable-ellipsis">...</span>, <wbr></wbr>str]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="jinja2.ext._make_new_ngettext">
    
  </a>
  <a name="_make_new_ngettext">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_make_new_ngettext</span>(func):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">func:</span><code>t.Callable[<wbr></wbr>[<wbr></wbr>str, <wbr></wbr>str, <wbr></wbr>int], <wbr></wbr>str]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>t.Callable[<wbr></wbr><span class="rst-variable-ellipsis">...</span>, <wbr></wbr>str]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="jinja2.ext._make_new_npgettext">
    
  </a>
  <a name="_make_new_npgettext">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_make_new_npgettext</span>(func):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">func:</span><code>t.Callable[<wbr></wbr>[<wbr></wbr>str, <wbr></wbr>str, <wbr></wbr>str, <wbr></wbr>int], <wbr></wbr>str]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>t.Callable[<wbr></wbr><span class="rst-variable-ellipsis">...</span>, <wbr></wbr>str]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="jinja2.ext._make_new_pgettext">
    
  </a>
  <a name="_make_new_pgettext">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_make_new_pgettext</span>(func):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">func:</span><code>t.Callable[<wbr></wbr>[<wbr></wbr>str, <wbr></wbr>str], <wbr></wbr>str]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>t.Callable[<wbr></wbr><span class="rst-variable-ellipsis">...</span>, <wbr></wbr>str]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basevariable private">
  
  
  <a name="jinja2.ext._SupportedTranslations">
    
  </a>
  <a name="_SupportedTranslations">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_SupportedTranslations</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="basevariable private">
  
  
  <a name="jinja2.ext._ws_re">
    
  </a>
  <a name="_ws_re">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_ws_re</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div>

      </div>
    </div>

    <footer class="navbar navbar-default">
  
  <div class="container">
    <a href="index.html">API Documentation</a> for jinja2,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    22.2.0 at 2022-02-23 04:36:20.
  </div>
</footer>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>