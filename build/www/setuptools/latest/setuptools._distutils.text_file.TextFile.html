<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>setuptools._distutils.text_file.TextFile</title>
    <meta name="generator" content="pydoctor 22.2.0"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=0.75" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    <div id="banner" class="container">    
    <div>
        <a href="https://pydocbrowser.github.io/">Home</a>
        &gt; setuptools-60.9.3 
        <!-- This is an important placeholder and will be 
            replaced by project name and version on building docs -->
        
        <!-- (<a href=""&gt;show all versions</a&gt;) -->
    </div>
</div>

    <nav class="navbar navbar-default">
  
  <div class="container">

    <div class="navbar-header">
      
      <div class="navlinks">
          <span class="navbar-brand">
            setuptools <a href="index.html">API Documentation</a>
          </span>

          <a href="moduleIndex.html">
            Modules
          </a>

          <a href="classIndex.html">
            Classes
          </a>

          <a href="nameIndex.html">
            Names
          </a>
      </div>

    </div>
  </div>
</nav>

    

    <div class="container">

      <div class="page-header">
        <h1 class="class"><code><code><a href="index.html" class="internal-link">setuptools</a></code><wbr></wbr>.<code><a href="setuptools._distutils.html" class="internal-link" title="setuptools._distutils">_distutils</a></code><wbr></wbr>.<code><a href="setuptools._distutils.text_file.html" class="internal-link" title="setuptools._distutils.text_file">text_file</a></code><wbr></wbr>.<code><a href="setuptools._distutils.text_file.TextFile.html" class="internal-link" title="setuptools._distutils.text_file.TextFile">TextFile</a></code></code></h1>
        <div id="showPrivate">
          <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
        </div>
      </div>

      <div class="categoryHeader">
        class documentation
      </div>

      <div class="extrasDocstring">
        <p><code><span class="py-keyword">class</span> <span class="py-defname">TextFile</span>: <a href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/setuptools-60.9.3//setuptools/_distutils/text_file.py#L10" class="sourceLink">(source)</a></code></p>
        <p><a href="classIndex.html#setuptools._distutils.text_file.TextFile">View In Hierarchy</a></p>
      </div>

      <div class="moduleDocstring">
        <div><p>Provides a file-like object that takes care of all the things you
commonly want to do when processing a text file that has some
line-by-line syntax: strip comments (as long as "#" is your
comment character), skip blank lines, join adjacent lines by
escaping the newline (ie. backslash at end of line), strip
leading and/or trailing whitespace.  All of these are optional
and independently controllable.</p>
<p>Provides a 'warn()' method so you can generate warning messages that
report physical line number, even if the logical line in question
spans multiple physical lines.  Also provides 'unreadline()' for
implementing line-at-a-time lookahead.</p>
<p>Constructor is called as:</p>
<blockquote>
TextFile (filename=None, file=None, <a href="#system-message-1"><span class="rst-problematic" id="rst-problematic-1">**</span></a>options)</blockquote>
<p>It bombs (RuntimeError) if both 'filename' and 'file' are None;
'filename' should be a string, and 'file' a file object (or
something that provides 'readline()' and 'close()' methods).  It is
recommended that you supply at least 'filename', so that TextFile
can include it in warning messages.  If 'file' is not supplied,
TextFile creates its own using 'io.open()'.</p>
<p>The options are all boolean, and affect the value returned by
'readline()':</p>
<blockquote>
<dl class="rst-docutils">
<dt>strip_comments [default: true]</dt>
<dd>strip from "#" to end-of-line, as well as any whitespace
leading up to the "#" -- unless it is escaped by a backslash</dd>
<dt>lstrip_ws [default: false]</dt>
<dd>strip leading whitespace from each line before returning it</dd>
<dt>rstrip_ws [default: true]</dt>
<dd>strip trailing whitespace (including line terminator!) from
each line before returning it</dd>
<dt>skip_blanks [default: true}</dt>
<dd>skip lines that are empty <em>after</em> stripping comments and
whitespace.  (If both lstrip_ws and rstrip_ws are false,
then some lines may consist of solely whitespace: these will
<em>not</em> be skipped, even if 'skip_blanks' is true.)</dd>
<dt>join_lines [default: false]</dt>
<dd>if a backslash is the last non-newline character on a line
after stripping comments and whitespace, join the following line
to it to form one "logical line"; if N consecutive lines end
with a backslash, then N+1 physical lines will be joined to
form one logical line.</dd>
<dt>collapse_join [default: false]</dt>
<dd>strip leading whitespace from lines that are joined to their
predecessor; only matters if (join_lines and not lstrip_ws)</dd>
<dt>errors [default: 'strict']</dt>
<dd>error handler used to decode the file content</dd>
</dl>
</blockquote>
<p>Note that since 'rstrip_ws' can strip the trailing newline, the
semantics of 'readline()' must differ from those of the builtin file
object's 'readline()' method!  In particular, 'readline()' returns
None for end-of-file: an empty string might just be a blank line (or
an all-whitespace line), if 'rstrip_ws' is true but 'skip_blanks' is
not.</p>
</div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id15914">
  
  
  <tr class="method">
    
    <td>Method</td>
    <td><code><a href="#__init__" class="internal-link" title="setuptools._distutils.text_file.TextFile.__init__">__init__</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#close" class="internal-link" title="setuptools._distutils.text_file.TextFile.close">close</a></code></td>
    <td>Close the current file and forget everything we know about it (filename, current line number).</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#error" class="internal-link" title="setuptools._distutils.text_file.TextFile.error">error</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#gen_error" class="internal-link" title="setuptools._distutils.text_file.TextFile.gen_error">gen​_error</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#open" class="internal-link" title="setuptools._distutils.text_file.TextFile.open">open</a></code></td>
    <td>Open a new file named 'filename'.  This overrides both the 'filename' and 'file' arguments to the constructor.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#readline" class="internal-link" title="setuptools._distutils.text_file.TextFile.readline">readline</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#readlines" class="internal-link" title="setuptools._distutils.text_file.TextFile.readlines">readlines</a></code></td>
    <td>Read and return the list of all logical lines remaining in the current file.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#unreadline" class="internal-link" title="setuptools._distutils.text_file.TextFile.unreadline">unreadline</a></code></td>
    <td>Push 'line' (a string) onto an internal buffer that will be checked by future 'readline()' calls.  Handy for implementing a parser with line-at-a-time lookahead.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#warn" class="internal-link" title="setuptools._distutils.text_file.TextFile.warn">warn</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="classvariable">
    
    <td>Class Variable</td>
    <td><code><a href="#default_options" class="internal-link" title="setuptools._distutils.text_file.TextFile.default_options">default​_options</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#current_line" class="internal-link" title="setuptools._distutils.text_file.TextFile.current_line">current​_line</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#file" class="internal-link" title="setuptools._distutils.text_file.TextFile.file">file</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#filename" class="internal-link" title="setuptools._distutils.text_file.TextFile.filename">filename</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#linebuf" class="internal-link" title="setuptools._distutils.text_file.TextFile.linebuf">linebuf</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="basemethod">
  
  
  <a name="setuptools._distutils.text_file.TextFile.__init__">
    
  </a>
  <a name="__init__">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">__init__</span>(self, filename=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>, file=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>, **options):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/setuptools-60.9.3//setuptools/_distutils/text_file.py#L78">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Construct a new TextFile object.  At least one of 'filename'
(a string) and 'file' (a file-like object) must be supplied.
They keyword argument options are described above and affect
the values returned by 'readline()'.</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="setuptools._distutils.text_file.TextFile.close">
    
  </a>
  <a name="close">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">close</span>(self):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/setuptools-60.9.3//setuptools/_distutils/text_file.py#L118">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Close the current file and forget everything we know about it
(filename, current line number).</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="setuptools._distutils.text_file.TextFile.error">
    
  </a>
  <a name="error">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">error</span>(self, msg, line=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/setuptools-60.9.3//setuptools/_distutils/text_file.py#L139">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="setuptools._distutils.text_file.TextFile.gen_error">
    
  </a>
  <a name="gen_error">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">gen_error</span>(self, msg, line=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/setuptools-60.9.3//setuptools/_distutils/text_file.py#L127">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="setuptools._distutils.text_file.TextFile.open">
    
  </a>
  <a name="open">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">open</span>(self, filename):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/setuptools-60.9.3//setuptools/_distutils/text_file.py#L111">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Open a new file named 'filename'.  This overrides both the
'filename' and 'file' arguments to the constructor.</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="setuptools._distutils.text_file.TextFile.readline">
    
  </a>
  <a name="readline">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">readline</span>(self):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/setuptools-60.9.3//setuptools/_distutils/text_file.py#L152">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Read and return a single logical line from the current file (or
from an internal buffer if lines have previously been "unread"
with 'unreadline()').  If the 'join_lines' option is true, this
may involve reading multiple physical lines concatenated into a
single string.  Updates the current line number, so calling
'warn()' after 'readline()' emits a warning about the physical
line(s) just read.  Returns None on end-of-file, since the empty
string can occur if 'rstrip_ws' is true but 'strip_blanks' is
not.</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="setuptools._distutils.text_file.TextFile.readlines">
    
  </a>
  <a name="readlines">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">readlines</span>(self):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/setuptools-60.9.3//setuptools/_distutils/text_file.py#L272">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Read and return the list of all logical lines remaining in the
current file.</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="setuptools._distutils.text_file.TextFile.unreadline">
    
  </a>
  <a name="unreadline">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">unreadline</span>(self, line):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/setuptools-60.9.3//setuptools/_distutils/text_file.py#L282">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Push 'line' (a string) onto an internal buffer that will be
checked by future 'readline()' calls.  Handy for implementing
a parser with line-at-a-time lookahead.</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="setuptools._distutils.text_file.TextFile.warn">
    
  </a>
  <a name="warn">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">warn</span>(self, msg, line=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/setuptools-60.9.3//setuptools/_distutils/text_file.py#L142">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Print (to stderr) a warning message tied to the current logical
line in the current file.  If the current logical line in the
file spans multiple physical lines, the warning refers to the
whole range, eg. "lines 3-5".  If 'line' supplied, it overrides
the current line number; it may be a list or tuple to indicate a
range of physical lines, or an integer for a single physical
line.</div>
  </div>
</div><div class="baseclassvariable">
  
  
  <a name="setuptools._distutils.text_file.TextFile.default_options">
    
  </a>
  <a name="default_options">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">default_options</span>: <code><a href="https://docs.python.org/3/library/stdtypes.html#dict" class="intersphinx-link">dict</a></code> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/setuptools-60.9.3//setuptools/_distutils/text_file.py#L69">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="setuptools._distutils.text_file.TextFile.current_line">
    
  </a>
  <a name="current_line">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">current_line</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/setuptools-60.9.3//setuptools/_distutils/text_file.py#L116">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="setuptools._distutils.text_file.TextFile.file">
    
  </a>
  <a name="file">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">file</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/setuptools-60.9.3//setuptools/_distutils/text_file.py#L115">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="setuptools._distutils.text_file.TextFile.filename">
    
  </a>
  <a name="filename">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">filename</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/setuptools-60.9.3//setuptools/_distutils/text_file.py#L114">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="setuptools._distutils.text_file.TextFile.linebuf">
    
  </a>
  <a name="linebuf">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">linebuf</span>: <code><a href="https://docs.python.org/3/library/stdtypes.html#list" class="intersphinx-link">list</a></code> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/setuptools-60.9.3//setuptools/_distutils/text_file.py#L109">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div>

      </div>
    </div>

    <footer class="navbar navbar-default">
  
  <div class="container">
    <a href="index.html">API Documentation</a> for setuptools,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    22.2.0 at 2022-02-23 08:20:16.
  </div>
</footer>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>