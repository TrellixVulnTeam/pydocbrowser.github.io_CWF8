<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>twisted.internet.endpoints.HostnameEndpoint</title>
    <meta name="generator" content="pydoctor 22.2.0"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=0.75" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    <div id="banner">    
    <div>
        <a href="/">Home</a>
        &gt; twisted-22.1.0 <!-- This is a placeholder -->
        
        <!-- (<a href=""&gt;show all versions</a&gt;) -->
    </div>
</div>

    <nav class="navbar navbar-default">
  
  <div class="container">

    <div class="navbar-header">
      
      <div class="navlinks">
          <span class="navbar-brand">
            twisted <a href="index.html">API Documentation</a>
          </span>

          <a href="moduleIndex.html">
            Modules
          </a>

          <a href="classIndex.html">
            Classes
          </a>

          <a href="nameIndex.html">
            Names
          </a>
      </div>

    </div>
  </div>
</nav>

    

    <div class="container">

      <div class="page-header">
        <h1 class="class"><code><code><a href="index.html" class="internal-link">twisted</a></code><wbr></wbr>.<code><a href="twisted.internet.html" class="internal-link" title="twisted.internet">internet</a></code><wbr></wbr>.<code><a href="twisted.internet.endpoints.html" class="internal-link" title="twisted.internet.endpoints">endpoints</a></code><wbr></wbr>.<code><a href="twisted.internet.endpoints.HostnameEndpoint.html" class="internal-link" title="twisted.internet.endpoints.HostnameEndpoint">HostnameEndpoint</a></code></code></h1>
        <div id="showPrivate">
          <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
        </div>
      </div>

      <div class="categoryHeader">
        class documentation
      </div>

      <div class="extrasDocstring">
        <p><code><span class="py-keyword">class</span> <span class="py-defname">HostnameEndpoint</span>: <a href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/internet/endpoints.py#L753" class="sourceLink">(source)</a></code></p><p>Implements interfaces: <code><a href="twisted.internet.interfaces.IStreamClientEndpoint.html" class="internal-link">twisted.internet.interfaces.IStreamClientEndpoint</a></code></p>
        <p><a href="classIndex.html#twisted.internet.endpoints.HostnameEndpoint">View In Hierarchy</a></p>
      </div>

      <div class="moduleDocstring">
        <div><p>A name-based endpoint that connects to the fastest amongst the resolved
host addresses.</p>
<dl class="rst-docutils">
<dt>@cvar _DEFAULT_ATTEMPT_DELAY: The default time to use between attempts, in</dt>
<dd>seconds, when no C{attemptDelay} is given to
L{HostnameEndpoint.__init__}.</dd>
<dt>@ivar _hostText: the textual representation of the hostname passed to the</dt>
<dd>constructor.  Used to pass to the reactor's hostname resolver.</dd>
</dl>
<p>@type _hostText: L{unicode}</p>
<dl class="rst-docutils">
<dt>@ivar _hostBytes: the encoded bytes-representation of the hostname passed</dt>
<dd>to the constructor.  Used to construct the L{HostnameAddress}
associated with this endpoint.</dd>
</dl>
<p>@type _hostBytes: L{bytes}</p>
<dl class="rst-docutils">
<dt>@ivar _hostStr: the native-string representation of the hostname passed to</dt>
<dd>the constructor, used for exception construction</dd>
</dl>
<p>@type _hostStr: native L{str}</p>
<dl class="rst-docutils">
<dt>@ivar _badHostname: a flag - hopefully false!  - indicating that an invalid</dt>
<dd>hostname was passed to the constructor.  This might be a textual
hostname that isn't valid IDNA, or non-ASCII bytes.</dd>
</dl>
<p>@type _badHostname: L{bool}</p>
</div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id3095">
  
  
  <tr class="method">
    
    <td>Method</td>
    <td><code><a href="#__init__" class="internal-link" title="twisted.internet.endpoints.HostnameEndpoint.__init__">__init__</a></code></td>
    <td>Create a L{HostnameEndpoint}.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#__repr__" class="internal-link" title="twisted.internet.endpoints.HostnameEndpoint.__repr__">__repr__</a></code></td>
    <td>Produce a string representation of the L{HostnameEndpoint}.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#connect" class="internal-link" title="twisted.internet.endpoints.HostnameEndpoint.connect">connect</a></code></td>
    <td>Attempts a connection to each resolved address, and returns a connection which is established first.</td>
  </tr><tr class="staticmethod private">
    
    <td>Static Method</td>
    <td><code><a href="#_hostAsBytesAndText" class="internal-link" title="twisted.internet.endpoints.HostnameEndpoint._hostAsBytesAndText">_host​As​Bytes​And​Text</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_fallbackNameResolution" class="internal-link" title="twisted.internet.endpoints.HostnameEndpoint._fallbackNameResolution">_fallback​Name​Resolution</a></code></td>
    <td>Resolve the hostname string into a tuple containing the host address.  This is method is only used when the reactor does not provide L{IReactorPluggableNameResolver}.</td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_getNameResolverAndMaybeWarn" class="internal-link" title="twisted.internet.endpoints.HostnameEndpoint._getNameResolverAndMaybeWarn">_get​Name​Resolver​And​Maybe​Warn</a></code></td>
    <td>Retrieve a C{nameResolver} callable and warn the caller's caller that using a reactor which doesn't provide L{IReactorPluggableNameResolver} is deprecated.</td>
  </tr><tr class="constant private">
    
    <td>Constant</td>
    <td><code><a href="#_DEFAULT_ATTEMPT_DELAY" class="internal-link" title="twisted.internet.endpoints.HostnameEndpoint._DEFAULT_ATTEMPT_DELAY">​_DEFAULT​_ATTEMPT​_DELAY</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="classvariable private">
    
    <td>Class Variable</td>
    <td><code><a href="#_deferToThread" class="internal-link" title="twisted.internet.endpoints.HostnameEndpoint._deferToThread">_defer​To​Thread</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="classvariable private">
    
    <td>Class Variable</td>
    <td><code><a href="#_getaddrinfo" class="internal-link" title="twisted.internet.endpoints.HostnameEndpoint._getaddrinfo">​_getaddrinfo</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable private">
    
    <td>Instance Variable</td>
    <td><code><a href="#_attemptDelay" class="internal-link" title="twisted.internet.endpoints.HostnameEndpoint._attemptDelay">_attempt​Delay</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable private">
    
    <td>Instance Variable</td>
    <td><code><a href="#_bindAddress" class="internal-link" title="twisted.internet.endpoints.HostnameEndpoint._bindAddress">_bind​Address</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable private">
    
    <td>Instance Variable</td>
    <td><code><a href="#_hostStr" class="internal-link" title="twisted.internet.endpoints.HostnameEndpoint._hostStr">_host​Str</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable private">
    
    <td>Instance Variable</td>
    <td><code><a href="#_nameResolver" class="internal-link" title="twisted.internet.endpoints.HostnameEndpoint._nameResolver">_name​Resolver</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable private">
    
    <td>Instance Variable</td>
    <td><code><a href="#_port" class="internal-link" title="twisted.internet.endpoints.HostnameEndpoint._port">​_port</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable private">
    
    <td>Instance Variable</td>
    <td><code><a href="#_reactor" class="internal-link" title="twisted.internet.endpoints.HostnameEndpoint._reactor">​_reactor</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable private">
    
    <td>Instance Variable</td>
    <td><code><a href="#_timeout" class="internal-link" title="twisted.internet.endpoints.HostnameEndpoint._timeout">​_timeout</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="basemethod">
  
  
  <a name="twisted.internet.endpoints.HostnameEndpoint.__init__">
    
  </a>
  <a name="__init__">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">__init__</span>(self, reactor, host, port, timeout=30, bindAddress=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>, attemptDelay=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/internet/endpoints.py#L786">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Create a L{HostnameEndpoint}.</p>
<p>@param reactor: The reactor to use for connections and delayed calls.
@type reactor: provider of L{IReactorTCP}, L{IReactorTime} and either</p>
<blockquote>
L{IReactorPluggableNameResolver} or L{IReactorPluggableResolver}.</blockquote>
<p>@param host: A hostname to connect to.
@type host: L{bytes} or L{unicode}</p>
<p>@param port: The port number to connect to.
@type port: L{int}</p>
<dl class="rst-docutils">
<dt>@param timeout: For each individual connection attempt, the number of</dt>
<dd>seconds to wait before assuming the connection has failed.</dd>
</dl>
<p>@type timeout: L{float} or L{int}</p>
<dl class="rst-docutils">
<dt>@param bindAddress: the local address of the network interface to make</dt>
<dd>the connections from.</dd>
</dl>
<p>@type bindAddress: L{bytes}</p>
<dl class="rst-docutils">
<dt>@param attemptDelay: The number of seconds to delay between connection</dt>
<dd>attempts.</dd>
</dl>
<p>@type attemptDelay: L{float}</p>
<p>@see: L{twisted.internet.interfaces.IReactorTCP.connectTCP}</p>
</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.internet.endpoints.HostnameEndpoint.__repr__">
    
  </a>
  <a name="__repr__">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">__repr__</span>(self):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/internet/endpoints.py#L830">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Produce a string representation of the L{HostnameEndpoint}.</p>
<p>@return: A L{str}</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.internet.endpoints.HostnameEndpoint.connect">
    
  </a>
  <a name="connect">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">connect</span>(self, protocolFactory):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/internet/endpoints.py#L922">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">from <code><a href="twisted.internet.interfaces.IStreamClientEndpoint.html#connect" class="internal-link" title="twisted.internet.interfaces.IStreamClientEndpoint.connect">twisted.internet.interfaces.IStreamClientEndpoint</a></code></div>
    
    <div><p>Attempts a connection to each resolved address, and returns a
connection which is established first.</p>
<dl class="rst-docutils">
<dt>@param protocolFactory: The protocol factory whose protocol</dt>
<dd>will be connected.</dd>
<dt>@type protocolFactory:</dt>
<dd>L{IProtocolFactory&lt;twisted.internet.interfaces.IProtocolFactory&gt;}</dd>
<dt>@return: A L{Deferred} that fires with the connected protocol</dt>
<dd>or fails a connection-related error.</dd>
</dl>
</div>
  </div>
</div><div class="basestaticmethod private">
  
  
  <a name="twisted.internet.endpoints.HostnameEndpoint._hostAsBytesAndText">
    
  </a>
  <a name="_hostAsBytesAndText">
    
  </a>
  <div class="functionHeader">
    @<a href="https://docs.python.org/3/library/functions.html#staticmethod" class="intersphinx-link">staticmethod</a><br />
    <span class="py-keyword">def</span> <span class="py-defname">_hostAsBytesAndText</span>(host):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/internet/endpoints.py#L877">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>For various reasons (documented in the <a class="rst-reference external" href="mailto:C{@ivar}'s" target="_top">C{@ivar}'s</a> in the class
docstring) we need both a textual and a binary representation of the
hostname given to the constructor.  For compatibility and convenience,
we accept both textual and binary representations of the hostname, save
the form that was passed, and convert into the other form.  This is
mostly just because L{HostnameAddress} chose somewhat poorly to define
its attribute as bytes; hopefully we can find a compatible way to clean
this up in the future and just operate in terms of text internally.</p>
<p>@param host: A hostname to convert.
@type host: L{bytes} or C{str}</p>
<dl class="rst-docutils">
<dt>@return: a 3-tuple of C{(invalid, bytes, text)} where C{invalid} is a</dt>
<dd>boolean indicating the validity of the hostname, C{bytes} is a
binary representation of C{host}, and C{text} is a textual
representation of C{host}.</dd>
</dl>
</div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="twisted.internet.endpoints.HostnameEndpoint._fallbackNameResolution">
    
  </a>
  <a name="_fallbackNameResolution">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_fallbackNameResolution</span>(self, host, port):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/internet/endpoints.py#L1078">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Resolve the hostname string into a tuple containing the host
address.  This is method is only used when the reactor does
not provide L{IReactorPluggableNameResolver}.</p>
<p>@param host: A unicode hostname to resolve.</p>
<p>@param port: The port to include in the resolution.</p>
<dl class="rst-docutils">
<dt>@return: A L{Deferred} that fires with L{_getaddrinfo}'s</dt>
<dd>return value.</dd>
</dl>
</div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="twisted.internet.endpoints.HostnameEndpoint._getNameResolverAndMaybeWarn">
    
  </a>
  <a name="_getNameResolverAndMaybeWarn">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_getNameResolverAndMaybeWarn</span>(self, reactor):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/internet/endpoints.py#L850">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Retrieve a C{nameResolver} callable and warn the caller's
caller that using a reactor which doesn't provide
L{IReactorPluggableNameResolver} is deprecated.</p>
<p>@param reactor: The reactor to check.</p>
<p>@return: A L{IHostnameResolver} provider.</p>
</div>
  </div>
</div><div class="baseconstant private">
  
  
  <a name="twisted.internet.endpoints.HostnameEndpoint._DEFAULT_ATTEMPT_DELAY">
    
  </a>
  <a name="_DEFAULT_ATTEMPT_DELAY">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_DEFAULT_ATTEMPT_DELAY</span>: <code><a href="https://docs.python.org/3/library/functions.html#float" class="intersphinx-link">float</a></code> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/internet/endpoints.py#L784">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    <table class="valueTable"><tr class="fieldStart"><td class="fieldName">Value</td></tr><tr><td><pre class="constant-value"><code>0.3</code></pre></td></tr></table>
  </div>
</div><div class="baseclassvariable private">
  
  
  <a name="twisted.internet.endpoints.HostnameEndpoint._deferToThread">
    
  </a>
  <a name="_deferToThread">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_deferToThread</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/internet/endpoints.py#L783">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseclassvariable private">
  
  
  <a name="twisted.internet.endpoints.HostnameEndpoint._getaddrinfo">
    
  </a>
  <a name="_getaddrinfo">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_getaddrinfo</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/internet/endpoints.py#L782">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable private">
  
  
  <a name="twisted.internet.endpoints.HostnameEndpoint._attemptDelay">
    
  </a>
  <a name="_attemptDelay">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_attemptDelay</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/internet/endpoints.py#L828">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable private">
  
  
  <a name="twisted.internet.endpoints.HostnameEndpoint._bindAddress">
    
  </a>
  <a name="_bindAddress">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_bindAddress</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/internet/endpoints.py#L825">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable private">
  
  
  <a name="twisted.internet.endpoints.HostnameEndpoint._hostStr">
    
  </a>
  <a name="_hostStr">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_hostStr</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/internet/endpoints.py#L822">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable private">
  
  
  <a name="twisted.internet.endpoints.HostnameEndpoint._nameResolver">
    
  </a>
  <a name="_nameResolver">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_nameResolver</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/internet/endpoints.py#L818">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable private">
  
  
  <a name="twisted.internet.endpoints.HostnameEndpoint._port">
    
  </a>
  <a name="_port">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_port</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/internet/endpoints.py#L823">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable private">
  
  
  <a name="twisted.internet.endpoints.HostnameEndpoint._reactor">
    
  </a>
  <a name="_reactor">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_reactor</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/internet/endpoints.py#L817">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable private">
  
  
  <a name="twisted.internet.endpoints.HostnameEndpoint._timeout">
    
  </a>
  <a name="_timeout">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_timeout</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/internet/endpoints.py#L824">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div>

      </div>
    </div>

    <footer class="navbar navbar-default">
  
  <div class="container">
    <a href="index.html">API Documentation</a> for twisted,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    22.2.0 at 2022-02-23 16:05:07.
  </div>
</footer>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>