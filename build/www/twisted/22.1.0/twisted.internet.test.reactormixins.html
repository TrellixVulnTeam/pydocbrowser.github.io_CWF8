<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>twisted.internet.test.reactormixins</title>
    <meta name="generator" content="pydoctor 22.2.0"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=0.75" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    <div id="banner">    
    <div>
        <a href="/">Home</a>
        &gt; twisted-22.1.0 <!-- This is a placeholder -->
        
        <!-- (<a href=""&gt;show all versions</a&gt;) -->
    </div>
</div>

    <nav class="navbar navbar-default">
  
  <div class="container">

    <div class="navbar-header">
      
      <div class="navlinks">
          <span class="navbar-brand">
            twisted <a href="index.html">API Documentation</a>
          </span>

          <a href="moduleIndex.html">
            Modules
          </a>

          <a href="classIndex.html">
            Classes
          </a>

          <a href="nameIndex.html">
            Names
          </a>
      </div>

    </div>
  </div>
</nav>

    

    <div class="container">

      <div class="page-header">
        <h1 class="module"><code><code><a href="index.html" class="internal-link">twisted</a></code><wbr></wbr>.<code><a href="twisted.internet.html" class="internal-link" title="twisted.internet">internet</a></code><wbr></wbr>.<code><a href="twisted.internet.test.html" class="internal-link" title="twisted.internet.test">test</a></code><wbr></wbr>.<code><a href="twisted.internet.test.reactormixins.html" class="internal-link" title="twisted.internet.test.reactormixins">reactormixins</a></code></code></h1>
        <div id="showPrivate">
          <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
        </div>
      </div>

      <div class="categoryHeader">
        module documentation
      </div>

      <div class="extrasDocstring">
        <a href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/internet/test/reactormixins.py" class="sourceLink">(source)</a>
        <p></p>
      </div>

      <div class="moduleDocstring">
        <div><p>Utilities for unit testing reactor implementations.</p>
<p>The main feature of this module is L{ReactorBuilder}, a base class for use when
writing interface/blackbox tests for reactor implementations.  Test case classes
for reactor features should subclass L{ReactorBuilder} instead of
L{SynchronousTestCase}.  All of the features of L{SynchronousTestCase} will be
available.  Additionally, the tests will automatically be applied to all
available reactor implementations.</p>
</div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id3655">
  
  
  <tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.internet.test.reactormixins.ReactorBuilder.html" class="internal-link" title="twisted.internet.test.reactormixins.ReactorBuilder">​Reactor​Builder</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.internet.test.reactormixins.TestTimeoutError.html" class="internal-link" title="twisted.internet.test.reactormixins.TestTimeoutError">​Test​Timeout​Error</a></code></td>
    <td>The reactor was still running after the timeout period elapsed in L{ReactorBuilder.runReactor}.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#needsRunningReactor" class="internal-link" title="twisted.internet.test.reactormixins.needsRunningReactor">needs​Running​Reactor</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#stopOnError" class="internal-link" title="twisted.internet.test.reactormixins.stopOnError">stop​On​Error</a></code></td>
    <td>Stop the reactor as soon as any error is logged on the given publisher.</td>
  </tr><tr class="variable">
    
    <td>Variable</td>
    <td><code><a href="#process" class="internal-link" title="twisted.internet.test.reactormixins.process">process</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="basefunction">
  
  
  <a name="twisted.internet.test.reactormixins.needsRunningReactor">
    
  </a>
  <a name="needsRunningReactor">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">needsRunningReactor</span>(reactor, thunk):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/internet/test/reactormixins.py#L49">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Various functions within these tests need an already-running reactor at
some point.  They need to stop the reactor when the test has completed, and
that means calling reactor.stop().  However, reactor.stop() raises an
exception if the reactor isn't already running, so if the L{Deferred} that
a particular API under test returns fires synchronously (as especially an
endpoint's C{connect()} method may do, if the connect is to a local
interface address) then the test won't be able to stop the reactor being
tested and finish.  So this calls C{thunk} only once C{reactor} is running.</p>
<p>(This is just an alias for
L{twisted.internet.interfaces.IReactorCore.callWhenRunning} on the given
reactor parameter, in order to centrally reference the above paragraph and
repeating it everywhere as a comment.)</p>
<p>@param reactor: the L{twisted.internet.interfaces.IReactorCore} under test</p>
<dl class="rst-docutils">
<dt>@param thunk: a 0-argument callable, which eventually finishes the test in</dt>
<dd>question, probably in a L{Deferred} callback.</dd>
</dl>
</div>
  </div>
</div><div class="basefunction">
  
  
  <a name="twisted.internet.test.reactormixins.stopOnError">
    
  </a>
  <a name="stopOnError">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">stopOnError</span>(case, reactor, publisher=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/internet/test/reactormixins.py#L73">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Stop the reactor as soon as any error is logged on the given publisher.</p>
<p>This is beneficial for tests which will wait for a L{Deferred} to fire
before completing (by passing or failing).  Certain implementation bugs may
prevent the L{Deferred} from firing with any result at all (consider a
protocol's {dataReceived} method that raises an exception: this exception
is logged but it won't ever cause a L{Deferred} to fire).  In that case the
test would have to complete by timing out which is a much less desirable
outcome than completing as soon as the unexpected error is encountered.</p>
<dl class="rst-docutils">
<dt>@param case: A L{SynchronousTestCase} to use to clean up the necessary log</dt>
<dd>observer when the test is over.</dd>
</dl>
<p>@param reactor: The reactor to stop.
@param publisher: A L{LogPublisher} to watch for errors.  If L{None}, the</p>
<blockquote>
global log publisher will be watched.</blockquote>
</div>
  </div>
</div><div class="basevariable">
  
  
  <a name="twisted.internet.test.reactormixins.process">
    
  </a>
  <a name="process">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">process</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/internet/test/reactormixins.py#L37">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div>

      </div>
    </div>

    <footer class="navbar navbar-default">
  
  <div class="container">
    <a href="index.html">API Documentation</a> for twisted,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    22.2.0 at 2022-02-23 16:05:07.
  </div>
</footer>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>