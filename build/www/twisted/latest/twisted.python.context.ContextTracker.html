<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>twisted.python.context.ContextTracker</title>
    <meta name="generator" content="pydoctor 22.2.0"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=0.75" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    <div id="banner">    
    <div>
        <a href="/">Home</a>
        &gt; twisted-22.1.0 <!-- This is a placeholder -->
        
        <!-- (<a href=""&gt;show all versions</a&gt;) -->
    </div>
</div>

    <nav class="navbar navbar-default">
  
  <div class="container">

    <div class="navbar-header">
      
      <div class="navlinks">
          <span class="navbar-brand">
            twisted <a href="index.html">API Documentation</a>
          </span>

          <a href="moduleIndex.html">
            Modules
          </a>

          <a href="classIndex.html">
            Classes
          </a>

          <a href="nameIndex.html">
            Names
          </a>
      </div>

    </div>
  </div>
</nav>

    

    <div class="container">

      <div class="page-header">
        <h1 class="class"><code><code><a href="index.html" class="internal-link">twisted</a></code><wbr></wbr>.<code><a href="twisted.python.html" class="internal-link" title="twisted.python">python</a></code><wbr></wbr>.<code><a href="twisted.python.context.html" class="internal-link" title="twisted.python.context">context</a></code><wbr></wbr>.<code><a href="twisted.python.context.ContextTracker.html" class="internal-link" title="twisted.python.context.ContextTracker">ContextTracker</a></code></code></h1>
        <div id="showPrivate">
          <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
        </div>
      </div>

      <div class="categoryHeader">
        class documentation
      </div>

      <div class="extrasDocstring">
        <p><code><span class="py-keyword">class</span> <span class="py-defname">ContextTracker</span>: <a href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/python/context.py#L24" class="sourceLink">(source)</a></code></p>
        <p><a href="classIndex.html#twisted.python.context.ContextTracker">View In Hierarchy</a></p>
      </div>

      <div class="moduleDocstring">
        <div><p>A L{ContextTracker} provides a way to pass arbitrary key/value data up and
down a call stack without passing them as parameters to the functions on
that call stack.</p>
<p>This can be useful when functions on the top and bottom of the call stack
need to cooperate but the functions in between them do not allow passing the
necessary state.  For example:</p>
<pre class="rst-literal-block">
from twisted.python.context import call, get

def handleRequest(request):
    call({'request-id': request.id}, renderRequest, request.url)

def renderRequest(url):
    renderHeader(url)
    renderBody(url)

def renderHeader(url):
    return "the header"

def renderBody(url):
    return "the body (request id=%r)" % (get("request-id"),)
</pre>
<p>This should be used sparingly, since the lack of a clear connection between
the two halves can result in code which is difficult to understand and
maintain.</p>
<dl class="rst-docutils">
<dt>@ivar contexts: A C{list} of C{dict}s tracking the context state.  Each new</dt>
<dd>L{ContextTracker.callWithContext} pushes a new C{dict} onto this stack
for the duration of the call, making the data available to the function
called and restoring the previous data once it is complete..</dd>
</dl>
</div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id7270">
  
  
  <tr class="method">
    
    <td>Method</td>
    <td><code><a href="#__init__" class="internal-link" title="twisted.python.context.ContextTracker.__init__">__init__</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#callWithContext" class="internal-link" title="twisted.python.context.ContextTracker.callWithContext">call​With​Context</a></code></td>
    <td>Call C{func(<a href="#system-message-1"><span class="rst-problematic" id="rst-problematic-1">*</span></a>args, <a href="#system-message-2"><span class="rst-problematic" id="rst-problematic-2">**</span></a>kw)} such that the contents of C{newContext} will be available for it to retrieve using L{getContext}.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#getContext" class="internal-link" title="twisted.python.context.ContextTracker.getContext">get​Context</a></code></td>
    <td>Retrieve the value for a key from the context.</td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#contexts" class="internal-link" title="twisted.python.context.ContextTracker.contexts">contexts</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="basemethod">
  
  
  <a name="twisted.python.context.ContextTracker.__init__">
    
  </a>
  <a name="__init__">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">__init__</span>(self):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/python/context.py#L59">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.python.context.ContextTracker.callWithContext">
    
  </a>
  <a name="callWithContext">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">callWithContext</span>(self, newContext, func, *args, **kw):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/python/context.py#L62">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Call C{func(<a href="#system-message-1"><span class="rst-problematic" id="rst-problematic-1">*</span></a>args, <a href="#system-message-2"><span class="rst-problematic" id="rst-problematic-2">**</span></a>kw)} such that the contents of C{newContext} will
be available for it to retrieve using L{getContext}.</p>
<dl class="rst-docutils">
<dt>@param newContext: A C{dict} of data to push onto the context for the</dt>
<dd>duration of the call to C{func}.</dd>
</dl>
<p>@param func: A callable which will be called.</p>
<p>@param args: Any additional positional arguments to pass to C{func}.</p>
<p>@param kw: Any additional keyword arguments to pass to C{func}.</p>
<p>@return: Whatever is returned by C{func}</p>
<p>@raise Exception: Whatever is raised by C{func}.</p>
</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.python.context.ContextTracker.getContext">
    
  </a>
  <a name="getContext">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">getContext</span>(self, key, default=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/python/context.py#L86">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Retrieve the value for a key from the context.</p>
<p>@param key: The key to look up in the context.</p>
<dl class="rst-docutils">
<dt>@param default: The value to return if C{key} is not found in the</dt>
<dd>context.</dd>
</dl>
<p>@return: The value most recently remembered in the context for C{key}.</p>
</div>
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="twisted.python.context.ContextTracker.contexts">
    
  </a>
  <a name="contexts">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">contexts</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/python/context.py#L60">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div>

      </div>
    </div>

    <footer class="navbar navbar-default">
  
  <div class="container">
    <a href="index.html">API Documentation</a> for twisted,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    22.2.0 at 2022-02-23 16:05:07.
  </div>
</footer>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>