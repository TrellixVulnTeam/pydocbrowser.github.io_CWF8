<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>twisted.internet.test.reactormixins</title>
    <meta name="generator" content="pydoctor 22.3.0.dev0"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1 maximum-scale=1" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    <div id="banner">    
    <div>
        <a href="/">Home</a>
        &gt; twisted-22.2.0 <!-- This is a placeholder -->
        
        <!-- (<a href=""&gt;show all versions</a&gt;) -->
    </div>
</div>

    <nav class="navbar navbar-default">
  
  <div class="container">

    <div class="navbar-header">
      
      <div class="navlinks">
        <span class="navbar-brand">
          twisted <a href="index.html">API Documentation</a>
        </span>

        <a href="moduleIndex.html">
          Modules
        </a>

        <a href="classIndex.html">
          Classes
        </a>

        <a href="nameIndex.html">
          Names
        </a>

        <div id="search-box-container">
          <div class="input-group">
            <input id="search-box" type="search" name="search-query" placeholder="Search..." aria-label="Search" minlength="2" class="form-control" autocomplete="off" />
            
            <span class="input-group-btn">
              <a style="display: none;" class="btn btn-default" id="search-clear-button" title="Clear" onclick="clearSearch()"><img src="fonts/x-circle.svg" alt="Clear" /></a>
              <a class="btn btn-default" id="search-help-button" title="Help" onclick="toggleSearchHelpText()"><img src="fonts/info.svg" alt="Help" /></a>
            </span>
          </div>
        </div>

      </div>

      <div id="search-results-container" style="display: none;">
        
        <div id="search-buttons">
          <span class="label label-default" id="search-docstrings-button">
          <label class="checkbox-inline">
            <input type="checkbox" id="toggle-search-in-docstrings-checkbox" value="false" onclick="toggleSearchInDocstrings()">
              search in docstrings
            </input>
          </label>
          </span>
          
        </div>
        
        <noscript>
            <h1>Cannot search: JavaScript is not supported/enabled in your browser.</h1>
        </noscript>

        <div class="hint" id="search-help-box">
          <p class="rst-last">
      
            Search bar offers the following options:
            <ul>   
                <li>
                  <strong>Term presence.</strong> The below example searches for documents that 
                    must contain “foo”, might contain “bar” and must not contain “baz”: <code>+foo bar -baz</code>
                </li> 

                <li>
                  <strong>Wildcards.</strong> The below example searches for documents with words beginning with “foo”: <code>foo*</code>
                </li> 

                <li>
                  <strong>Search in specific fields.</strong> The following search matches all objects 
                  in "twisted.mail" that matches “search”: <code>+qname:twisted.mail.* +search</code>

                  <p>
                    Possible fields: 'name', 'qname' (fully qualified name), 'docstring', and 'kind'.
                    Last two fields are only applicable if "search in docstrings" is enabled.
                  </p>
                </li>

                <li>
                  <strong>Fuzzy matches.</strong> The following search matches all documents 
                  that have a word within 1 edit distance of “foo”: <code>foo~1</code>
                </li>
            </ul>

          </p>
        </div>

        <div id="search-status"> </div>

        <div class="warning" id="search-warn-box" style="display: none;">
          <p class="rst-last"><span id="search-warn"></span></p>
        </div>

        <table id="search-results">
          <!-- Filled dynamically by JS -->
        </table>
        
        <div style="margin-top: 8px;">
          <p>Results provided by <a href="https://lunrjs.com">Lunr.js</a></p>
        </div>
      </div>

    </div>
  </div>
</nav>

    

    <div class="container">

      <div class="page-header">
        <h1 class="module"><code><code><a href="index.html" class="internal-link">twisted</a></code><wbr></wbr>.<code><a href="twisted.internet.html" class="internal-link" title="twisted.internet">internet</a></code><wbr></wbr>.<code><a href="twisted.internet.test.html" class="internal-link" title="twisted.internet.test">test</a></code><wbr></wbr>.<code><a href="twisted.internet.test.reactormixins.html" class="internal-link" title="twisted.internet.test.reactormixins">reactormixins</a></code></code></h1>
        <div id="showPrivate">
          <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
        </div>
      </div>

      <div class="categoryHeader">
        module documentation
      </div>

      <div class="extrasDocstring">
        <a href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.2.0//src/twisted/internet/test/reactormixins.py" class="sourceLink">(source)</a>
        <p></p>
      </div>

      <div class="moduleDocstring">
        <div><p>Utilities for unit testing reactor implementations.</p>
<p>The main feature of this module is <code><a href="https://pydocbrowser.github.io/twisted/latest/twisted.internet.test.reactormixins.ReactorBuilder.html" class="intersphinx-link">ReactorBuilder</a></code>, a base class for use when writing interface/blackbox tests for reactor implementations.  Test case classes for reactor features should subclass <code><a href="https://pydocbrowser.github.io/twisted/latest/twisted.internet.test.reactormixins.ReactorBuilder.html" class="intersphinx-link">ReactorBuilder</a></code> instead of <code><a href="https://pydocbrowser.github.io/twisted/latest/twisted.trial.unittest.SynchronousTestCase.html" class="intersphinx-link">SynchronousTestCase</a></code>.  All of the features of <code><a href="https://pydocbrowser.github.io/twisted/latest/twisted.trial.unittest.SynchronousTestCase.html" class="intersphinx-link">SynchronousTestCase</a></code> will be available.  Additionally, the tests will automatically be applied to all available reactor implementations.</p>
</div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id4378">
  
  
  <tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.internet.test.reactormixins.ReactorBuilder.html" class="internal-link" title="twisted.internet.test.reactormixins.ReactorBuilder">​Reactor​Builder</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.internet.test.reactormixins.TestTimeoutError.html" class="internal-link" title="twisted.internet.test.reactormixins.TestTimeoutError">​Test​Timeout​Error</a></code></td>
    <td>The reactor was still running after the timeout period elapsed in <code><a href="https://pydocbrowser.github.io/twisted/latest/twisted.internet.test.reactormixins.ReactorBuilder.html#runReactor" class="intersphinx-link">ReactorBuilder.runReactor</a></code>.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#needsRunningReactor" class="internal-link" title="twisted.internet.test.reactormixins.needsRunningReactor">needs​Running​Reactor</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#stopOnError" class="internal-link" title="twisted.internet.test.reactormixins.stopOnError">stop​On​Error</a></code></td>
    <td>Stop the reactor as soon as any error is logged on the given publisher.</td>
  </tr><tr class="variable">
    
    <td>Variable</td>
    <td><code><a href="#process" class="internal-link" title="twisted.internet.test.reactormixins.process">process</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="basefunction">
  
  
  <a name="twisted.internet.test.reactormixins.needsRunningReactor">
    
  </a>
  <a name="needsRunningReactor">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">needsRunningReactor</span>(reactor, thunk):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.2.0//src/twisted/internet/test/reactormixins.py#L49">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Various functions within these tests need an already-running reactor at some point.  They need to stop the reactor when the test has completed, and that means calling reactor.stop().  However, reactor.stop() raises an exception if the reactor isn't already running, so if the <code><a href="twisted.internet.defer.Deferred.html" class="internal-link" title="twisted.internet.defer.Deferred">Deferred</a></code> that a particular API under test returns fires synchronously (as especially an endpoint's <tt class="rst-docutils literal">connect()</tt> method may do, if the connect is to a local interface address) then the test won't be able to stop the reactor being tested and finish.  So this calls <tt class="rst-docutils literal">thunk</tt> only once <tt class="rst-docutils literal">reactor</tt> is running.</p>
<p>(This is just an alias for <code><a href="twisted.internet.interfaces.IReactorCore.html#callWhenRunning" class="internal-link" title="twisted.internet.interfaces.IReactorCore.callWhenRunning">twisted.internet.interfaces.IReactorCore.callWhenRunning</a></code> on the given reactor parameter, in order to centrally reference the above paragraph and repeating it everywhere as a comment.)</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">reactor</span></td><td class="fieldArgDesc">the <code><a href="twisted.internet.interfaces.IReactorCore.html" class="internal-link" title="twisted.internet.interfaces.IReactorCore">twisted.internet.interfaces.IReactorCore</a></code> under test</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">thunk</span></td><td class="fieldArgDesc">a 0-argument callable, which eventually finishes the test in question, probably in a <code><a href="twisted.internet.defer.Deferred.html" class="internal-link" title="twisted.internet.defer.Deferred">Deferred</a></code> callback.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="twisted.internet.test.reactormixins.stopOnError">
    
  </a>
  <a name="stopOnError">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">stopOnError</span>(case, reactor, publisher=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.2.0//src/twisted/internet/test/reactormixins.py#L73">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Stop the reactor as soon as any error is logged on the given publisher.</p>
<p>This is beneficial for tests which will wait for a <code><a href="twisted.internet.defer.Deferred.html" class="internal-link" title="twisted.internet.defer.Deferred">Deferred</a></code> to fire before completing (by passing or failing).  Certain implementation bugs may prevent the <code><a href="twisted.internet.defer.Deferred.html" class="internal-link" title="twisted.internet.defer.Deferred">Deferred</a></code> from firing with any result at all (consider a protocol's {dataReceived} method that raises an exception: this exception is logged but it won't ever cause a <code><a href="twisted.internet.defer.Deferred.html" class="internal-link" title="twisted.internet.defer.Deferred">Deferred</a></code> to fire).  In that case the test would have to complete by timing out which is a much less desirable outcome than completing as soon as the unexpected error is encountered.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">case</span></td><td class="fieldArgDesc">A <code><a href="https://pydocbrowser.github.io/twisted/latest/twisted.trial.unittest.SynchronousTestCase.html" class="intersphinx-link">SynchronousTestCase</a></code> to use to clean up the necessary log observer when the test is over.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">reactor</span></td><td class="fieldArgDesc">The reactor to stop.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">publisher</span></td><td class="fieldArgDesc">A <code><a href="twisted.logger.LogPublisher.html" class="internal-link" title="twisted.logger.LogPublisher">LogPublisher</a></code> to watch for errors.  If <code><a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a></code>, the global log publisher will be watched.</td></tr></table></div>
  </div>
</div><div class="basevariable">
  
  
  <a name="twisted.internet.test.reactormixins.process">
    
  </a>
  <a name="process">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">process</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.2.0//src/twisted/internet/test/reactormixins.py#L37">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div>

      </div>
    </div>

    <footer class="navbar navbar-default">

  
  <div class="container">
    <a href="index.html">API Documentation</a> for twisted,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    22.3.0.dev0 at 2022-03-14 01:57:55.
  </div>

  <!-- Search related scripts needs to be loaded at the end of HTML 
    parsing not to introduce overhead and display HTML data asap -->
  <script src="ajax.js" type="text/javascript"></script>
  <script src="searchlib.js" type="text/javascript"></script>
  <script src="search.js" type="text/javascript"></script>

</footer>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>