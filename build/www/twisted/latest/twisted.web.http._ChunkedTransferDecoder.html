<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>twisted.web.http._ChunkedTransferDecoder</title>
    <meta name="generator" content="pydoctor 22.2.0"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=0.75" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    <div id="banner">    
    <div>
        <a href="/">Home</a>
        &gt; twisted-22.1.0 <!-- This is a placeholder -->
        
        <!-- (<a href=""&gt;show all versions</a&gt;) -->
    </div>
</div>

    <nav class="navbar navbar-default">
  
  <div class="container">

    <div class="navbar-header">
      
      <div class="navlinks">
          <span class="navbar-brand">
            twisted <a href="index.html">API Documentation</a>
          </span>

          <a href="moduleIndex.html">
            Modules
          </a>

          <a href="classIndex.html">
            Classes
          </a>

          <a href="nameIndex.html">
            Names
          </a>
      </div>

    </div>
  </div>
</nav>

    

    <div class="container">

      <div class="page-header">
        <h1 class="class private"><code><code><a href="index.html" class="internal-link">twisted</a></code><wbr></wbr>.<code><a href="twisted.web.html" class="internal-link" title="twisted.web">web</a></code><wbr></wbr>.<code><a href="twisted.web.http.html" class="internal-link" title="twisted.web.http">http</a></code><wbr></wbr>.<code><a href="twisted.web.http._ChunkedTransferDecoder.html" class="internal-link" title="twisted.web.http._ChunkedTransferDecoder">_ChunkedTransferDecoder</a></code></code></h1>
        <div id="showPrivate">
          <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
        </div>
      </div>

      <div class="categoryHeader">
        class documentation
      </div>

      <div class="extrasDocstring">
        <p><code><span class="py-keyword">class</span> <span class="py-defname">_ChunkedTransferDecoder</span>: <a href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/http.py#L1792" class="sourceLink">(source)</a></code></p>
        <p><a href="classIndex.html#twisted.web.http._ChunkedTransferDecoder">View In Hierarchy</a></p>
      </div>

      <div class="moduleDocstring">
        <div><p>Protocol for decoding I{chunked} Transfer-Encoding, as defined by RFC 7230,
section 4.1.  This protocol can interpret the contents of a request or
response body which uses the I{chunked} Transfer-Encoding.  It cannot
interpret any of the rest of the HTTP protocol.</p>
<p>It may make sense for _ChunkedTransferDecoder to be an actual IProtocol
implementation.  Currently, the only user of this class will only ever
call dataReceived on it.  However, it might be an improvement if the
user could connect this to a transport and deliver connection lost
notification.  This way, <code><a href="#dataCallback" class="internal-link" title="twisted.web.http._ChunkedTransferDecoder.dataCallback">dataCallback</a></code> becomes <code>self.transport.write</code>
and perhaps <code><a href="#finishCallback" class="internal-link" title="twisted.web.http._ChunkedTransferDecoder.finishCallback">finishCallback</a></code> becomes <code>self.transport.loseConnection()</code>
(although I'm not sure where the extra data goes in that case).  This
could also allow this object to indicate to the receiver of data that
the stream was not completely received, an error case which should be
noticed. -exarkun</p>
<dl class="rst-docutils">
<dt>@ivar dataCallback: A one-argument callable which will be invoked each</dt>
<dd>time application data is received. This callback is not reentrant.</dd>
<dt>@ivar finishCallback: A one-argument callable which will be invoked when</dt>
<dd>the terminal chunk is received.  It will be invoked with all bytes
which were delivered to this protocol which came after the terminal
chunk.</dd>
<dt>@ivar length: Counter keeping track of how many more bytes in a chunk there</dt>
<dd>are to receive.</dd>
<dt>@ivar state: One of C{'CHUNK_LENGTH'}, C{'CRLF'}, C{'TRAILER'},</dt>
<dd>C{'BODY'}, or C{'FINISHED'}.  For C{'CHUNK_LENGTH'}, data for the
chunk length line is currently being read.  For C{'CRLF'}, the CR LF
pair which follows each chunk is being read. For C{'TRAILER'}, the CR
LF pair which follows the terminal 0-length chunk is currently being
read. For C{'BODY'}, the contents of a chunk are being read. For
C{'FINISHED'}, the last chunk has been completely read and no more
input is valid.</dd>
<dt>@ivar _buffer: Accumulated received data for the current state. At each</dt>
<dd>state transition this is truncated at the front so that index 0 is
where the next state shall begin.</dd>
<dt>@ivar _start: While in the C{'CHUNK_LENGTH'} state, tracks the index into</dt>
<dd><p class="rst-first">the buffer at which search for CRLF should resume. Resuming the search
at this position avoids doing quadratic work if the chunk length line
arrives over many calls to C{dataReceived}.</p>
<p class="rst-last">Not used in any other state.</p>
</dd>
</dl>
</div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id11974">
  
  
  <tr class="method">
    
    <td>Method</td>
    <td><code><a href="#__init__" class="internal-link" title="twisted.web.http._ChunkedTransferDecoder.__init__">__init__</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#dataReceived" class="internal-link" title="twisted.web.http._ChunkedTransferDecoder.dataReceived">data​Received</a></code></td>
    <td>Interpret data from a request or response body which uses the I{chunked} Transfer-Encoding.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#noMoreData" class="internal-link" title="twisted.web.http._ChunkedTransferDecoder.noMoreData">no​More​Data</a></code></td>
    <td>Verify that all data has been received.  If it has not been, raise L{_DataLoss}.</td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#dataCallback" class="internal-link" title="twisted.web.http._ChunkedTransferDecoder.dataCallback">data​Callback</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#finishCallback" class="internal-link" title="twisted.web.http._ChunkedTransferDecoder.finishCallback">finish​Callback</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#length" class="internal-link" title="twisted.web.http._ChunkedTransferDecoder.length">length</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#state" class="internal-link" title="twisted.web.http._ChunkedTransferDecoder.state">state</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_dataReceived_BODY" class="internal-link" title="twisted.web.http._ChunkedTransferDecoder._dataReceived_BODY">_data​Received_​BODY</a></code></td>
    <td>Deliver any available chunk data to the C{dataCallback}. When all the remaining data for the chunk arrives, switch to state C{'CRLF'}.</td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_dataReceived_CHUNK_LENGTH" class="internal-link" title="twisted.web.http._ChunkedTransferDecoder._dataReceived_CHUNK_LENGTH">_data​Received_​CHUNK_​LENGTH</a></code></td>
    <td>Read the chunk size line, ignoring any extensions.</td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_dataReceived_CRLF" class="internal-link" title="twisted.web.http._ChunkedTransferDecoder._dataReceived_CRLF">_data​Received_​CRLF</a></code></td>
    <td>Await the carriage return and line feed characters that are the end of chunk marker that follow the chunk data.</td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_dataReceived_FINISHED" class="internal-link" title="twisted.web.http._ChunkedTransferDecoder._dataReceived_FINISHED">_data​Received_​FINISHED</a></code></td>
    <td>Once C{finishCallback} has been invoked receipt of additional data raises L{RuntimeError} because it represents a programming error in the caller.</td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_dataReceived_TRAILER" class="internal-link" title="twisted.web.http._ChunkedTransferDecoder._dataReceived_TRAILER">_data​Received_​TRAILER</a></code></td>
    <td>Await the carriage return and line feed characters that follow the terminal zero-length chunk. Then invoke C{finishCallback} and switch to state C{'FINISHED'}.</td>
  </tr><tr class="instancevariable private">
    
    <td>Instance Variable</td>
    <td><code><a href="#_buffer" class="internal-link" title="twisted.web.http._ChunkedTransferDecoder._buffer">​_buffer</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable private">
    
    <td>Instance Variable</td>
    <td><code><a href="#_start" class="internal-link" title="twisted.web.http._ChunkedTransferDecoder._start">​_start</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="basemethod">
  
  
  <a name="twisted.web.http._ChunkedTransferDecoder.__init__">
    
  </a>
  <a name="__init__">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">__init__</span>(self, dataCallback, finishCallback):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/http.py#L1844">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">data​Callback:</span><code><a href="https://docs.python.org/3/library/typing.html#typing.Callable" class="intersphinx-link">Callable</a>[<wbr></wbr>[<wbr></wbr><a href="https://docs.python.org/3/library/stdtypes.html#bytes" class="intersphinx-link">bytes</a>], <wbr></wbr><a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">finish​Callback:</span><code><a href="https://docs.python.org/3/library/typing.html#typing.Callable" class="intersphinx-link">Callable</a>[<wbr></wbr>[<wbr></wbr><a href="https://docs.python.org/3/library/stdtypes.html#bytes" class="intersphinx-link">bytes</a>], <wbr></wbr><a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.web.http._ChunkedTransferDecoder.dataReceived">
    
  </a>
  <a name="dataReceived">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">dataReceived</span>(self, data):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/http.py#L1976">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Interpret data from a request or response body which uses the
I{chunked} Transfer-Encoding.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">data:</span><code><a href="https://docs.python.org/3/library/stdtypes.html#bytes" class="intersphinx-link">bytes</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.web.http._ChunkedTransferDecoder.noMoreData">
    
  </a>
  <a name="noMoreData">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">noMoreData</span>(self):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/http.py#L1986">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Verify that all data has been received.  If it has not been, raise
L{_DataLoss}.</div>
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="twisted.web.http._ChunkedTransferDecoder.dataCallback">
    
  </a>
  <a name="dataCallback">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">dataCallback</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/http.py#L1849">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="twisted.web.http._ChunkedTransferDecoder.finishCallback">
    
  </a>
  <a name="finishCallback">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">finishCallback</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/http.py#L1850">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="twisted.web.http._ChunkedTransferDecoder.length">
    
  </a>
  <a name="length">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">length</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/http.py#L1897">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="twisted.web.http._ChunkedTransferDecoder.state">
    
  </a>
  <a name="state">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">state</span>: <code><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a></code> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/http.py#L1842">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="basemethod private">
  
  
  <a name="twisted.web.http._ChunkedTransferDecoder._dataReceived_BODY">
    
  </a>
  <a name="_dataReceived_BODY">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_dataReceived_BODY</span>(self):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/http.py#L1946">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Deliver any available chunk data to the C{dataCallback}. When all the
remaining data for the chunk arrives, switch to state C{'CRLF'}.</p>
<p>@returns: C{True} to continue processing of any buffered data.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="https://docs.python.org/3/library/functions.html#bool" class="intersphinx-link">bool</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="twisted.web.http._ChunkedTransferDecoder._dataReceived_CHUNK_LENGTH">
    
  </a>
  <a name="_dataReceived_CHUNK_LENGTH">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_dataReceived_CHUNK_LENGTH</span>(self):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/http.py#L1854">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Read the chunk size line, ignoring any extensions.</p>
<dl class="rst-docutils">
<dt>@returns: C{True} once the line has been read and removed from</dt>
<dd>C{self._buffer}.  C{False} when more data is required.</dd>
<dt>@raises _MalformedChunkedDataError: when the chunk size cannot be</dt>
<dd>decoded or the length of the line exceeds L{maxChunkSizeLineLength}.</dd>
</dl>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="https://docs.python.org/3/library/functions.html#bool" class="intersphinx-link">bool</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="twisted.web.http._ChunkedTransferDecoder._dataReceived_CRLF">
    
  </a>
  <a name="_dataReceived_CRLF">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_dataReceived_CRLF</span>(self):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/http.py#L1902">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Await the carriage return and line feed characters that are the end of
chunk marker that follow the chunk data.</p>
<p>@returns: C{True} when the CRLF have been read, otherwise C{False}.</p>
<dl class="rst-docutils">
<dt>@raises _MalformedChunkedDataError: when anything other than CRLF are</dt>
<dd>received.</dd>
</dl>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="https://docs.python.org/3/library/functions.html#bool" class="intersphinx-link">bool</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="twisted.web.http._ChunkedTransferDecoder._dataReceived_FINISHED">
    
  </a>
  <a name="_dataReceived_FINISHED">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_dataReceived_FINISHED</span>(self):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/http.py#L1965">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Once C{finishCallback} has been invoked receipt of additional data
raises L{RuntimeError} because it represents a programming error in
the caller.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="https://docs.python.org/3/library/functions.html#bool" class="intersphinx-link">bool</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="twisted.web.http._ChunkedTransferDecoder._dataReceived_TRAILER">
    
  </a>
  <a name="_dataReceived_TRAILER">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_dataReceived_TRAILER</span>(self):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/http.py#L1922">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Await the carriage return and line feed characters that follow the
terminal zero-length chunk. Then invoke C{finishCallback} and switch to
state C{'FINISHED'}.</p>
<dl class="rst-docutils">
<dt>@returns: C{False}, as there is either insufficient data to continue,</dt>
<dd>or no data remains.</dd>
<dt>@raises _MalformedChunkedDataError: when anything other than CRLF is</dt>
<dd>received.</dd>
</dl>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="https://docs.python.org/3/library/functions.html#bool" class="intersphinx-link">bool</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="baseinstancevariable private">
  
  
  <a name="twisted.web.http._ChunkedTransferDecoder._buffer">
    
  </a>
  <a name="_buffer">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_buffer</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/http.py#L1851">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable private">
  
  
  <a name="twisted.web.http._ChunkedTransferDecoder._start">
    
  </a>
  <a name="_start">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_start</span>: <code><a href="https://docs.python.org/3/library/functions.html#int" class="intersphinx-link">int</a></code> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/http.py#L1852">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div>

      </div>
    </div>

    <footer class="navbar navbar-default">
  
  <div class="container">
    <a href="index.html">API Documentation</a> for twisted,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    22.2.0 at 2022-02-23 16:05:07.
  </div>
</footer>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>