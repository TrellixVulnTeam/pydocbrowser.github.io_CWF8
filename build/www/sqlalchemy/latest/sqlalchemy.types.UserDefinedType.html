<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>sqlalchemy.types.UserDefinedType</title>
    <meta name="generator" content="pydoctor 22.2.0"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=0.75" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    <div id="banner" class="container">    
    <div>
        <a href="https://pydocbrowser.github.io/">Home</a>
        &gt; sqlalchemy-1.4.31 
        <!-- This is an important placeholder and will be 
            replaced by project name and version on building docs -->
        
        <!-- (<a href=""&gt;show all versions</a&gt;) -->
    </div>
</div>

    <nav class="navbar navbar-default">
  
  <div class="container">

    <div class="navbar-header">
      
      <div class="navlinks">
          <span class="navbar-brand">
            sqlalchemy <a href="index.html">API Documentation</a>
          </span>

          <a href="moduleIndex.html">
            Modules
          </a>

          <a href="classIndex.html">
            Classes
          </a>

          <a href="nameIndex.html">
            Names
          </a>
      </div>

    </div>
  </div>
</nav>

    

    <div class="container">

      <div class="page-header">
        <h1 class="class"><code><code><a href="index.html" class="internal-link">sqlalchemy</a></code><wbr></wbr>.<code><a href="sqlalchemy.types.html" class="internal-link" title="sqlalchemy.types">types</a></code><wbr></wbr>.<code><a href="sqlalchemy.types.UserDefinedType.html" class="internal-link" title="sqlalchemy.types.UserDefinedType">UserDefinedType</a></code></code></h1>
        <div id="showPrivate">
          <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
        </div>
      </div>

      <div class="categoryHeader">
        class documentation
      </div>

      <div class="extrasDocstring">
        <p><code><span class="py-keyword">class</span> <span class="py-defname">UserDefinedType</span>(util.with_metaclass(VisitableCheckKWArg, ExternalType, TypeEngine)): <a href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/sqlalchemy-1.4.31//lib/sqlalchemy/sql/type_api.py#L1005" class="sourceLink">(source)</a></code></p>
        <p><a href="classIndex.html#sqlalchemy.types.UserDefinedType">View In Hierarchy</a></p>
      </div>

      <div class="moduleDocstring">
        <div><p>Base for user defined types.</p>
<p>This should be the base of new types.  Note that
for most cases, <code>.TypeDecorator</code> is probably
more appropriate:</p>
<pre class="rst-literal-block">
import sqlalchemy.types as types

class MyType(types.UserDefinedType):
    cache_ok = True

    def __init__(self, precision = 8):
        self.precision = precision

    def get_col_spec(self, **kw):
        return "MYTYPE(%s)" % self.precision

    def bind_processor(self, dialect):
        def process(value):
            return value
        return process

    def result_processor(self, dialect, coltype):
        def process(value):
            return value
        return process
</pre>
<p>Once the type is made, it's immediately usable:</p>
<pre class="rst-literal-block">
table = Table('foo', metadata_obj,
    Column('id', Integer, primary_key=True),
    Column('data', MyType(16))
    )
</pre>
<p>The <tt class="rst-docutils literal">get_col_spec()</tt> method will in most cases receive a keyword
argument <tt class="rst-docutils literal">type_expression</tt> which refers to the owning expression
of the type as being compiled, such as a <code>_schema.Column</code> or
<code>.cast</code> construct.  This keyword is only sent if the method
accepts keyword arguments (e.g. <tt class="rst-docutils literal">**kw</tt>) in its argument signature;
introspection is used to check for this in order to support legacy
forms of this function.</p>
<div class="rst-versionadded">
<span class="rst-versionmodified rst-added">New in version 1.0.0: </span><span>the owning expression is passed to
the <tt class="rst-docutils literal">get_col_spec()</tt> method via the keyword argument
<tt class="rst-docutils literal">type_expression</tt>, if it receives <tt class="rst-docutils literal">**kw</tt> in its signature.</span></div>
<p>The <code>.UserDefinedType.cache_ok</code> class-level flag indicates if this
custom <code>.UserDefinedType</code> is safe to be used as part of a cache key.
This flag defaults to <tt class="rst-docutils literal">None</tt> which will initially generate a warning
when the SQL compiler attempts to generate a cache key for a statement
that uses this type.  If the <code>.UserDefinedType</code> is not guaranteed
to produce the same bind/result behavior and SQL generation
every time, this flag should be set to <tt class="rst-docutils literal">False</tt>; otherwise if the
class produces the same behavior each time, it may be set to <tt class="rst-docutils literal">True</tt>.
See <code>.UserDefinedType.cache_ok</code> for further notes on how this works.</p>
<div class="rst-versionadded">
<span class="rst-versionmodified rst-added">New in version 1.4.28: </span><span>Generalized the <code>.ExternalType.cache_ok</code>
flag so that it is available for both <code>.TypeDecorator</code> as well
as <code>.UserDefinedType</code>.</span></div>
</div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id25472">
  
  
  <tr class="method">
    
    <td>Method</td>
    <td><code><a href="#coerce_compared_value" class="internal-link" title="sqlalchemy.types.UserDefinedType.coerce_compared_value">coerce​_compared​_value</a></code></td>
    <td>Suggest a type for a 'coerced' Python value in an expression.</td>
  </tr><tr class="classvariable">
    
    <td>Class Variable</td>
    <td><code><a href="#__visit_name__" class="internal-link" title="sqlalchemy.types.UserDefinedType.__visit_name__">__visit​_name__</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="classvariable">
    
    <td>Class Variable</td>
    <td><code><a href="#ensure_kwarg" class="internal-link" title="sqlalchemy.types.UserDefinedType.ensure_kwarg">ensure​_kwarg</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="basemethod">
  
  
  <a name="sqlalchemy.types.UserDefinedType.coerce_compared_value">
    
  </a>
  <a name="coerce_compared_value">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">coerce_compared_value</span>(self, op, value):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/sqlalchemy-1.4.31//lib/sqlalchemy/sql/type_api.py#L1074">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Suggest a type for a 'coerced' Python value in an expression.</p>
<p>Default behavior for <code>.UserDefinedType</code> is the
same as that of <code>.TypeDecorator</code>; by default it returns
<tt class="rst-docutils literal">self</tt>, assuming the compared value should be coerced into
the same type as this one.  See
<code>.TypeDecorator.coerce_compared_value</code> for more detail.</p>
</div>
  </div>
</div><div class="baseclassvariable">
  
  
  <a name="sqlalchemy.types.UserDefinedType.__visit_name__">
    
  </a>
  <a name="__visit_name__">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">__visit_name__</span>: <code><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a></code> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/sqlalchemy-1.4.31//lib/sqlalchemy/sql/type_api.py#L1070">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseclassvariable">
  
  
  <a name="sqlalchemy.types.UserDefinedType.ensure_kwarg">
    
  </a>
  <a name="ensure_kwarg">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">ensure_kwarg</span>: <code><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a></code> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/sqlalchemy-1.4.31//lib/sqlalchemy/sql/type_api.py#L1072">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div>

      </div>
    </div>

    <footer class="navbar navbar-default">
  
  <div class="container">
    <a href="index.html">API Documentation</a> for sqlalchemy,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    22.2.0 at 2022-02-23 08:22:50.
  </div>
</footer>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>