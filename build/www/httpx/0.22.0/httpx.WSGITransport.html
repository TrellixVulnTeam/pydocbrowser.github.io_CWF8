<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>httpx.WSGITransport</title>
    <meta name="generator" content="pydoctor 22.2.0"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=0.75" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    <div id="banner" class="container">    
    <div>
        <a href="https://pydocbrowser.github.io/">Home</a>
        &gt; httpx-0.22.0 
        <!-- This is an important placeholder and will be 
            replaced by project name and version on building docs -->
        
        <!-- (<a href=""&gt;show all versions</a&gt;) -->
    </div>
</div>

    <nav class="navbar navbar-default">
  
  <div class="container">

    <div class="navbar-header">
      
      <div class="navlinks">
          <span class="navbar-brand">
            httpx <a href="index.html">API Documentation</a>
          </span>

          <a href="moduleIndex.html">
            Modules
          </a>

          <a href="classIndex.html">
            Classes
          </a>

          <a href="nameIndex.html">
            Names
          </a>
      </div>

    </div>
  </div>
</nav>

    

    <div class="container">

      <div class="page-header">
        <h1 class="class"><code><code><a href="index.html" class="internal-link">httpx</a></code><wbr></wbr>.<code><a href="httpx.WSGITransport.html" class="internal-link" title="httpx.WSGITransport">WSGITransport</a></code></code></h1>
        <div id="showPrivate">
          <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
        </div>
      </div>

      <div class="categoryHeader">
        class documentation
      </div>

      <div class="extrasDocstring">
        <p><code><span class="py-keyword">class</span> <span class="py-defname">WSGITransport</span>(<a href="httpx.BaseTransport.html" class="internal-link" title="httpx._transports.base.BaseTransport">BaseTransport</a>): <a href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/httpx-0.22.0//httpx/_transports/wsgi.py#L33" class="sourceLink">(source)</a></code></p>
        <p><a href="classIndex.html#httpx.WSGITransport">View In Hierarchy</a></p>
      </div>

      <div class="moduleDocstring">
        <div><p>A custom transport that handles sending requests directly to an WSGI app.
The simplest way to use this functionality is to use the <code><a href="#app" class="internal-link" title="httpx.WSGITransport.app">app</a></code> argument.</p>
<p><tt class="rst-docutils literal">`
client = httpx.Client(app=app)
`</tt></p>
<p>Alternatively, you can setup the transport instance explicitly.
This allows you to include any additional configuration arguments specific
to the WSGITransport class:</p>
<p><a href="#system-message-1"><span class="rst-problematic" id="rst-problematic-1">``</span></a>`
transport = httpx.WSGITransport(</p>
<blockquote>
app=app,
script_name="/submount",
remote_addr="1.2.3.4"</blockquote>
<p>)
client = httpx.Client(transport=transport)
<a href="#system-message-2"><span class="rst-problematic" id="rst-problematic-2">``</span></a><a href="#system-message-3"><span class="rst-problematic" id="rst-problematic-3">`</span></a></p>
<p>Arguments:</p>
<ul class="rst-simple">
<li><code><a href="#app" class="internal-link" title="httpx.WSGITransport.app">app</a></code> - The ASGI application.</li>
<li><dl class="rst-first rst-docutils">
<dt><code><a href="#raise_app_exceptions" class="internal-link" title="httpx.WSGITransport.raise_app_exceptions">raise_app_exceptions</a></code> - Boolean indicating if exceptions in the application</dt>
<dd>should be raised. Default to <code><a href="https://docs.python.org/3/library/constants.html#True" class="intersphinx-link">True</a></code>. Can be set to <code><a href="https://docs.python.org/3/library/constants.html#False" class="intersphinx-link">False</a></code> for use cases
such as testing the content of a client 500 response.</dd>
</dl>
</li>
<li><code><a href="#script_name" class="internal-link" title="httpx.WSGITransport.script_name">script_name</a></code> - The root path on which the WSGI application should be mounted.</li>
<li><code><a href="#remote_addr" class="internal-link" title="httpx.WSGITransport.remote_addr">remote_addr</a></code> - A string indicating the client IP of incoming requests.</li>
</ul>
<p><a href="#system-message-4"><span class="rst-problematic" id="rst-problematic-4">``</span></a><a href="#system-message-5"><span class="rst-problematic" id="rst-problematic-5">`</span></a></p>
</div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id10482">
  
  
  <tr class="method">
    
    <td>Method</td>
    <td><code><a href="#__init__" class="internal-link" title="httpx.WSGITransport.__init__">__init__</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#handle_request" class="internal-link" title="httpx.WSGITransport.handle_request">handle​_request</a></code></td>
    <td>Send a single HTTP request and return a response.</td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#app" class="internal-link" title="httpx.WSGITransport.app">app</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#raise_app_exceptions" class="internal-link" title="httpx.WSGITransport.raise_app_exceptions">raise​_app​_exceptions</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#remote_addr" class="internal-link" title="httpx.WSGITransport.remote_addr">remote​_addr</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#script_name" class="internal-link" title="httpx.WSGITransport.script_name">script​_name</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#wsgi_errors" class="internal-link" title="httpx.WSGITransport.wsgi_errors">wsgi​_errors</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
        
          <p class="inheritedFrom">
            Inherited from <code><a href="httpx.BaseTransport.html" class="internal-link" title="httpx.BaseTransport">BaseTransport</a></code>:
          </p>
          <table class="children sortable" id="id10483">
  
  
  <tr class="basemethod">
    
    <td>Method</td>
    <td><code><a href="httpx.BaseTransport.html#__enter__" class="internal-link" title="httpx.BaseTransport.__enter__">__enter__</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="basemethod">
    
    <td>Method</td>
    <td><code><a href="httpx.BaseTransport.html#__exit__" class="internal-link" title="httpx.BaseTransport.__exit__">__exit__</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="basemethod">
    
    <td>Method</td>
    <td><code><a href="httpx.BaseTransport.html#close" class="internal-link" title="httpx.BaseTransport.close">close</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
          

          
      </div>

      <div id="childList">

        <div class="basemethod">
  
  
  <a name="httpx.WSGITransport.__init__">
    
  </a>
  <a name="__init__">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">__init__</span>(self, app, raise_app_exceptions=<a href="https://docs.python.org/3/library/constants.html#True" class="intersphinx-link">True</a>, script_name=<span class="rst-variable-quote">'</span><span class="rst-variable-string"></span><span class="rst-variable-quote">'</span>, remote_addr=<span class="rst-variable-quote">'</span><span class="rst-variable-string">127.0.0.1</span><span class="rst-variable-quote">'</span>, wsgi_errors=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/httpx-0.22.0//httpx/_transports/wsgi.py#L66">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">app:</span><code><a href="https://docs.python.org/3/library/typing.html#typing.Callable" class="intersphinx-link">typing.Callable</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">raise​_app​_exceptions:</span><code><a href="https://docs.python.org/3/library/functions.html#bool" class="intersphinx-link">bool</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">script​_name:</span><code><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">remote​_addr:</span><code><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">wsgi​_errors:</span><code><a href="https://docs.python.org/3/library/typing.html#typing.Optional" class="intersphinx-link">typing.Optional</a>[<wbr></wbr><a href="https://docs.python.org/3/library/typing.html#typing.TextIO" class="intersphinx-link">typing.TextIO</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="httpx.WSGITransport.handle_request">
    
  </a>
  <a name="handle_request">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">handle_request</span>(self, request):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/httpx-0.22.0//httpx/_transports/wsgi.py#L80">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">overrides <code><a href="httpx.BaseTransport.html#handle_request" class="internal-link">httpx.BaseTransport.handle_request</a></code></div>
    
    <div><p>Send a single HTTP request and return a response.</p>
<p>At this layer of API we're simply using plain primitives. No <code><a href="httpx.Request.html" class="internal-link" title="httpx.Request">Request</a></code> or
<code><a href="httpx.Response.html" class="internal-link" title="httpx.Response">Response</a></code> models, no fancy <code><a href="httpx.URL.html" class="internal-link" title="httpx.URL">URL</a></code> or <code>Header</code> handling. This strict point
of cut-off provides a clear design separation between the HTTPX API,
and the low-level network handling.</p>
<p>Developers shouldn't typically ever need to call into this API directly,
since the Client class provides all the higher level user-facing API
niceties.</p>
<p>In order to properly release any network resources, the response stream
should <em>either</em> be consumed immediately, with a call to <code>stream.read()</code>,
or else the <code><a href="#handle_request" class="internal-link" title="httpx.BaseTransport.handle_request">handle_request</a></code> call should be followed with a try/finally
block to ensuring the stream is always closed.</p>
<p>Example usage:</p>
<blockquote>
<dl class="rst-docutils">
<dt>with httpx.HTTPTransport() as transport:</dt>
<dd><dl class="rst-first rst-docutils">
<dt>status_code, headers, stream, extensions = transport.handle_request(</dt>
<dd>method=b'GET',
url=(b'https', b'www.example.com', 443, b'/'),
headers=[(b'Host', b'www.example.com')],
stream=[],
extensions={}</dd>
</dl>
<p class="rst-last">)
body = stream.read()
print(status_code, headers, body)</p>
</dd>
</dl>
</blockquote>
<p>Arguments:</p>
<p>method: The request method as bytes. Eg. b'GET'.
url: The components of the request URL, as a tuple of <code>(scheme, host, port, target)</code>.</p>
<blockquote>
The target will usually be the URL path, but also allows for alternative
formulations, such as proxy requests which include the complete URL in
the target portion of the HTTP request, or for "OPTIONS <a href="#system-message-1"><span class="rst-problematic" id="rst-problematic-1">*</span></a>" requests, which
cannot be expressed in a URL string.</blockquote>
<p>headers: The request headers as a list of byte pairs.
stream: The request body as a bytes iterator.
extensions: An open ended dictionary, including optional extensions to the</p>
<blockquote>
<blockquote>
core request/response API. Keys may include:</blockquote>
<dl class="rst-docutils">
<dt>timeout: A dictionary of str:Optional[float] timeout values.</dt>
<dd>May include values for 'connect', 'read', 'write', or 'pool'.</dd>
</dl>
</blockquote>
<p>Returns a tuple of:</p>
<p>status_code: The response status code as an integer. Should be in the range 1xx-5xx.
headers: The response headers as a list of byte pairs.
stream: The response body as a bytes iterator.
extensions: An open ended dictionary, including optional extensions to the</p>
<blockquote>
<blockquote>
core request/response API. Keys are plain strings, and may include:</blockquote>
<dl class="rst-docutils">
<dt>reason_phrase: The reason-phrase of the HTTP response, as bytes. Eg b'OK'.</dt>
<dd>HTTP/2 onwards does not include a reason phrase on the wire.
When no key is included, a default based on the status code may
be used. An empty-string reason phrase should not be substituted
for a default, as it indicates the server left the portion blank
eg. the leading response bytes were b"HTTP/1.1 200 &lt;CRLF&gt;".</dd>
<dt>http_version: The HTTP version, as bytes. Eg. b"HTTP/1.1".</dt>
<dd>When no http_version key is included, HTTP/1.1 may be assumed.</dd>
</dl>
</blockquote>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">request:</span><code><a href="httpx.Request.html" class="internal-link" title="httpx.Request">Request</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="httpx.Response.html" class="internal-link" title="httpx.Response">Response</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="httpx.WSGITransport.app">
    
  </a>
  <a name="app">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">app</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/httpx-0.22.0//httpx/_transports/wsgi.py#L74">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="httpx.WSGITransport.raise_app_exceptions">
    
  </a>
  <a name="raise_app_exceptions">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">raise_app_exceptions</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/httpx-0.22.0//httpx/_transports/wsgi.py#L75">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="httpx.WSGITransport.remote_addr">
    
  </a>
  <a name="remote_addr">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">remote_addr</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/httpx-0.22.0//httpx/_transports/wsgi.py#L77">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="httpx.WSGITransport.script_name">
    
  </a>
  <a name="script_name">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">script_name</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/httpx-0.22.0//httpx/_transports/wsgi.py#L76">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="httpx.WSGITransport.wsgi_errors">
    
  </a>
  <a name="wsgi_errors">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">wsgi_errors</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/httpx-0.22.0//httpx/_transports/wsgi.py#L78">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div>

      </div>
    </div>

    <footer class="navbar navbar-default">
  
  <div class="container">
    <a href="index.html">API Documentation</a> for httpx,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    22.2.0 at 2022-02-23 08:15:00.
  </div>
</footer>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>