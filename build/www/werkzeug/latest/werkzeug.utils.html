<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>werkzeug.utils</title>
    <meta name="generator" content="pydoctor 22.2.0"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=0.75" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    

    <nav class="navbar navbar-default">
  
  <div class="container">

    <div class="navbar-header">
      
      <div class="navlinks">
          <span class="navbar-brand">
            werkzeug <a href="index.html">API Documentation</a>
          </span>

          <a href="moduleIndex.html">
            Modules
          </a>

          <a href="classIndex.html">
            Classes
          </a>

          <a href="nameIndex.html">
            Names
          </a>
      </div>

    </div>
  </div>
</nav>

    

    <div class="container">

      <div class="page-header">
        <h1 class="module"><code><code><a href="index.html" class="internal-link">werkzeug</a></code><wbr></wbr>.<code><a href="werkzeug.utils.html" class="internal-link" title="werkzeug.utils">utils</a></code></code></h1>
        <div id="showPrivate">
          <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
        </div>
      </div>

      <div class="categoryHeader">
        module documentation
      </div>

      <div class="extrasDocstring">
        
        <p></p>
      </div>

      <div class="moduleDocstring">
        <div><p class="undocumented">Undocumented</p></div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id21836">
  
  
  <tr class="class">
    
    <td>Class</td>
    <td><code><a href="werkzeug.utils.ArgumentValidationError.html" class="internal-link" title="werkzeug.utils.ArgumentValidationError">​Argument​Validation​Error</a></code></td>
    <td>Raised if <code><a href="werkzeug.utils.html#validate_arguments" class="internal-link" title="werkzeug.utils.validate_arguments">validate_arguments</a></code> fails to validate</td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="werkzeug.utils.cached_property.html" class="internal-link" title="werkzeug.utils.cached_property">cached​_property</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="werkzeug.utils.environ_property.html" class="internal-link" title="werkzeug.utils.environ_property">environ​_property</a></code></td>
    <td>Maps request attributes to environment variables. This works not only for the Werkzeug request object, but also any other class with an environ attribute:</td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="werkzeug.utils.header_property.html" class="internal-link" title="werkzeug.utils.header_property">header​_property</a></code></td>
    <td>Like <code><a href="werkzeug.utils.environ_property.html" class="internal-link" title="werkzeug.utils.environ_property">environ_property</a></code> but for headers.</td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="werkzeug.utils.HTMLBuilder.html" class="internal-link" title="werkzeug.utils.HTMLBuilder">​HTMLBuilder</a></code></td>
    <td>Helper object for HTML generation.</td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="werkzeug.utils.ImportStringError.html" class="internal-link" title="werkzeug.utils.ImportStringError">​Import​String​Error</a></code></td>
    <td>Provides information about a failed <code><a href="werkzeug.utils.html#import_string" class="internal-link" title="werkzeug.utils.import_string">import_string</a></code> attempt.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#append_slash_redirect" class="internal-link" title="werkzeug.utils.append_slash_redirect">append​_slash​_redirect</a></code></td>
    <td>Redirects to the same URL but with a slash appended.  The behavior of this function is undefined if the path ends with a slash already.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#bind_arguments" class="internal-link" title="werkzeug.utils.bind_arguments">bind​_arguments</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#detect_utf_encoding" class="internal-link" title="werkzeug.utils.detect_utf_encoding">detect​_utf​_encoding</a></code></td>
    <td>Detect which UTF encoding was used to encode the given bytes.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#escape" class="internal-link" title="werkzeug.utils.escape">escape</a></code></td>
    <td>Replace <tt class="rst-docutils literal">&amp;</tt>, <tt class="rst-docutils literal">&lt;</tt>, <tt class="rst-docutils literal">&gt;</tt>, <tt class="rst-docutils literal">"</tt>, and <tt class="rst-docutils literal">'</tt> with HTML-safe sequences.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#find_modules" class="internal-link" title="werkzeug.utils.find_modules">find​_modules</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#format_string" class="internal-link" title="werkzeug.utils.format_string">format​_string</a></code></td>
    <td>String-template format a string:</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#get_content_type" class="internal-link" title="werkzeug.utils.get_content_type">get​_content​_type</a></code></td>
    <td>Returns the full content type string with charset for a mimetype.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#import_string" class="internal-link" title="werkzeug.utils.import_string">import​_string</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#invalidate_cached_property" class="internal-link" title="werkzeug.utils.invalidate_cached_property">invalidate​_cached​_property</a></code></td>
    <td>Invalidates the cache for a <code><a href="werkzeug.utils.cached_property.html" class="internal-link" title="werkzeug.utils.cached_property">cached_property</a></code>:</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#redirect" class="internal-link" title="werkzeug.utils.redirect">redirect</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#secure_filename" class="internal-link" title="werkzeug.utils.secure_filename">secure​_filename</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#send_file" class="internal-link" title="werkzeug.utils.send_file">send​_file</a></code></td>
    <td>Send the contents of a file to the client.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#send_from_directory" class="internal-link" title="werkzeug.utils.send_from_directory">send​_from​_directory</a></code></td>
    <td>Send a file from within a directory using <code><a href="#send_file" class="internal-link" title="werkzeug.utils.send_file">send_file</a></code>.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#unescape" class="internal-link" title="werkzeug.utils.unescape">unescape</a></code></td>
    <td>The reverse of <code><a href="#escape" class="internal-link" title="werkzeug.utils.escape">escape</a></code>. This unescapes all the HTML entities, not only those inserted by <tt class="rst-docutils literal">escape</tt>.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#validate_arguments" class="internal-link" title="werkzeug.utils.validate_arguments">validate​_arguments</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="variable">
    
    <td>Variable</td>
    <td><code><a href="#html" class="internal-link" title="werkzeug.utils.html">html</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="variable">
    
    <td>Variable</td>
    <td><code><a href="#xhtml" class="internal-link" title="werkzeug.utils.xhtml">xhtml</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="constant private">
    
    <td>Constant</td>
    <td><code><a href="#_T" class="internal-link" title="werkzeug.utils._T">​_T</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="variable private">
    
    <td>Variable</td>
    <td><code><a href="#_charset_mimetypes" class="internal-link" title="werkzeug.utils._charset_mimetypes">​_charset​_mimetypes</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="variable private">
    
    <td>Variable</td>
    <td><code><a href="#_entity_re" class="internal-link" title="werkzeug.utils._entity_re">​_entity​_re</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="variable private">
    
    <td>Variable</td>
    <td><code><a href="#_filename_ascii_strip_re" class="internal-link" title="werkzeug.utils._filename_ascii_strip_re">​_filename​_ascii​_strip​_re</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="variable private">
    
    <td>Variable</td>
    <td><code><a href="#_windows_device_files" class="internal-link" title="werkzeug.utils._windows_device_files">​_windows​_device​_files</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="basefunction">
  
  
  <a name="werkzeug.utils.append_slash_redirect">
    
  </a>
  <a name="append_slash_redirect">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">append_slash_redirect</span>(environ, code=301):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div>Redirects to the same URL but with a slash appended.  The behavior
of this function is undefined if the path ends with a slash already.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">environ:</span><code>WSGIEnvironment</code></td><td class="fieldArgDesc">the WSGI environment for the request that triggers
the redirect.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">code:</span><code>int</code></td><td class="fieldArgDesc">the status code for the redirect.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="werkzeug.wrappers.response.Response.html" class="internal-link" title="werkzeug.wrappers.response.Response">Response</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="werkzeug.utils.bind_arguments">
    
  </a>
  <a name="bind_arguments">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">bind_arguments</span>(func, args, kwargs):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Bind the arguments provided into a dict.  When passed a function,
a tuple of arguments and a dict of keyword arguments <code><a href="#bind_arguments" class="internal-link" title="werkzeug.utils.bind_arguments">bind_arguments</a></code>
returns a dict of names as the function would see it.  This can be useful
to implement a cache decorator that uses the function arguments to build
the cache key based on the values of the arguments.</p>
<div class="rst-deprecated">
<span class="rst-versionmodified rst-deprecated">Deprecated since version 2.0: </span><span>Will be removed in Werkzeug 2.1. Use <code>Signature.bind</code>
instead.</span></div>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">func</span></td><td class="fieldArgDesc">the function the arguments should be bound for.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">args</span></td><td class="fieldArgDesc">tuple of positional arguments.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">kwargs</span></td><td class="fieldArgDesc">a dict of keyword arguments.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">a <code>dict</code> of bound keyword arguments.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="werkzeug.utils.detect_utf_encoding">
    
  </a>
  <a name="detect_utf_encoding">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">detect_utf_encoding</span>(data):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Detect which UTF encoding was used to encode the given bytes.</p>
<p>The latest JSON standard (<a class="rst-reference external" href="http://tools.ietf.org/html/rfc8259.html" target="_top">RFC 8259</a>) suggests that only UTF-8 is
accepted. Older documents allowed 8, 16, or 32. 16 and 32 can be big
or little endian. Some editors or libraries may prepend a BOM.</p>
<div class="rst-deprecated">
<span class="rst-versionmodified rst-deprecated">Deprecated since version 2.0: </span><span>Will be removed in Werkzeug 2.1. This is built in to
<code>json.loads</code>.</span></div>
<div class="rst-versionadded">
<span class="rst-versionmodified rst-added">New in version 0.15.</span></div>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">data:</span><code>bytes</code></td><td class="fieldArgDesc">Bytes in unknown UTF encoding.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>str</code></td><td class="fieldArgDesc">UTF encoding name</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Unknown Field: internal</td></tr><tr><td colspan="2"></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="werkzeug.utils.escape">
    
  </a>
  <a name="escape">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">escape</span>(s):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Replace <tt class="rst-docutils literal">&amp;</tt>, <tt class="rst-docutils literal">&lt;</tt>, <tt class="rst-docutils literal">&gt;</tt>, <tt class="rst-docutils literal">"</tt>, and <tt class="rst-docutils literal">'</tt> with HTML-safe
sequences.</p>
<p><tt class="rst-docutils literal">None</tt> is escaped to an empty string.</p>
<div class="rst-deprecated">
<span class="rst-versionmodified rst-deprecated">Deprecated since version 2.0: </span><span>Will be removed in Werkzeug 2.1. Use MarkupSafe instead.</span></div>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">s:</span><code>t.Any</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="werkzeug.utils.find_modules">
    
  </a>
  <a name="find_modules">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">find_modules</span>(import_path, include_packages=False, recursive=False):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Finds all the modules below a package.  This can be useful to
automatically import all views / controllers so that their metaclasses /
function decorators have a chance to register themselves on the
application.</p>
<p>Packages are not returned unless <code>include_packages</code> is <code>True</code>.  This can
also recursively list modules but in that case it will import all the
packages to get the correct load path of that module.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">import​_path:</span><code>str</code></td><td class="fieldArgDesc">the dotted name for the package to find child modules.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">include​_packages:</span><code>bool</code></td><td class="fieldArgDesc">set to <code>True</code> if packages should be returned, too.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">recursive:</span><code>bool</code></td><td class="fieldArgDesc">set to <code>True</code> if recursion should happen.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>t.Iterator[<wbr></wbr>str]</code></td><td class="fieldArgDesc">generator</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="werkzeug.utils.format_string">
    
  </a>
  <a name="format_string">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">format_string</span>(string, context):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>String-template format a string:</p>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span>format_string(<span class="py-string">'$foo and ${foo}s'</span>, <span class="py-builtin">dict</span>(foo=42))
<span class="py-output">'42 and 42s'</span>
</pre><p>This does not do any attribute lookup.</p>
<div class="rst-deprecated">
<span class="rst-versionmodified rst-deprecated">Deprecated since version 2.0: </span><span>Will be removed in Werkzeug 2.1. Use <code>string.Template</code>
instead.</span></div>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">string:</span><code>str</code></td><td class="fieldArgDesc">the format string.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">context:</span><code>t.Mapping[<wbr></wbr>str, <wbr></wbr>t.Any]</code></td><td class="fieldArgDesc">a dict with the variables to insert.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="werkzeug.utils.get_content_type">
    
  </a>
  <a name="get_content_type">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">get_content_type</span>(mimetype, charset):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Returns the full content type string with charset for a mimetype.</p>
<p>If the mimetype represents text, the charset parameter will be
appended, otherwise the mimetype is returned unchanged.</p>
<div class="rst-versionchanged">
<span class="rst-versionmodified rst-changed">Changed in version 0.15: </span><span>Any type that ends with <tt class="rst-docutils literal">+xml</tt> gets a charset, not just those
that start with <tt class="rst-docutils literal">application/</tt>. Known text types such as
<tt class="rst-docutils literal">application/javascript</tt> are also given charsets.</span></div>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">mimetype:</span><code>str</code></td><td class="fieldArgDesc">The mimetype to be used as content type.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">charset:</span><code>str</code></td><td class="fieldArgDesc">The charset to be appended for text mimetypes.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>str</code></td><td class="fieldArgDesc">The content type.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="werkzeug.utils.import_string">
    
  </a>
  <a name="import_string">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">import_string</span>(import_name, silent=False):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Imports an object based on a string.  This is useful if you want to
use import paths as endpoints or something similar.  An import path can
be specified either in dotted notation (<tt class="rst-docutils literal">xml.sax.saxutils.escape</tt>)
or with a colon as object delimiter (<tt class="rst-docutils literal">xml.sax.saxutils:escape</tt>).</p>
<p>If <code>silent</code> is True the return value will be <code>None</code> if the import fails.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">import​_name:</span><code>str</code></td><td class="fieldArgDesc">the dotted name for the object to import.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">silent:</span><code>bool</code></td><td class="fieldArgDesc">if set to <code>True</code> import errors are ignored and
<code>None</code> is returned instead.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>t.Any</code></td><td class="fieldArgDesc">imported object</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="werkzeug.utils.invalidate_cached_property">
    
  </a>
  <a name="invalidate_cached_property">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">invalidate_cached_property</span>(obj, name):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Invalidates the cache for a <code><a href="werkzeug.utils.cached_property.html" class="internal-link" title="werkzeug.utils.cached_property">cached_property</a></code>:</p>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span><span class="py-keyword">class</span> <span class="py-defname">Test</span>(<span class="py-builtin">object</span>):
<span class="py-more">... </span>    @cached_property
<span class="py-more">... </span>    <span class="py-keyword">def</span> <span class="py-defname">magic_number</span>(self):
<span class="py-more">... </span>        <span class="py-builtin">print</span>(<span class="py-string">"recalculating..."</span>)
<span class="py-more">... </span>        <span class="py-keyword">return</span> 42
<span class="py-more">...</span>
<span class="py-prompt">&gt;&gt;&gt; </span>var = Test()
<span class="py-prompt">&gt;&gt;&gt; </span>var.magic_number
<span class="py-output">recalculating...</span>
<span class="py-output">42</span>
<span class="py-prompt">&gt;&gt;&gt; </span>var.magic_number
<span class="py-output">42</span>
<span class="py-prompt">&gt;&gt;&gt; </span>invalidate_cached_property(var, <span class="py-string">"magic_number"</span>)
<span class="py-prompt">&gt;&gt;&gt; </span>var.magic_number
<span class="py-output">recalculating...</span>
<span class="py-output">42</span>
</pre><p>You must pass the name of the cached property as the second argument.</p>
<div class="rst-deprecated">
<span class="rst-versionmodified rst-deprecated">Deprecated since version 2.0: </span><span>Will be removed in Werkzeug 2.1. Use <tt class="rst-docutils literal">del obj.name</tt> instead.</span></div>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">obj:</span><code>object</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">name:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="werkzeug.utils.redirect">
    
  </a>
  <a name="redirect">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">redirect</span>(location, code=302, Response=None):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Returns a response object (a WSGI application) that, if called,
redirects the client to the target location. Supported codes are
301, 302, 303, 305, 307, and 308. 300 is not supported because
it's not a real redirect and 304 because it's the answer for a
request with a request with defined If-Modified-Since headers.</p>
<div class="rst-versionadded">
<span class="rst-versionmodified rst-added">New in version 0.6: </span><span>The location can now be a unicode string that is encoded using
the <code><a href="werkzeug.urls.html#iri_to_uri" class="internal-link" title="werkzeug.urls.iri_to_uri">iri_to_uri</a></code> function.</span></div>
<div class="rst-versionadded">
<span class="rst-versionmodified rst-added">New in version 0.10: </span><span>The class used for the Response object can now be passed in.</span></div>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">location:</span><code>str</code></td><td class="fieldArgDesc">the location the response should redirect to.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">code:</span><code>int</code></td><td class="fieldArgDesc">the redirect status code. defaults to 302.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">​Response:</span><code>t.Optional[<wbr></wbr>t.Type[<wbr></wbr><a href="werkzeug.wrappers.response.Response.html" class="internal-link" title="werkzeug.wrappers.response.Response">Response</a>]]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">class ​Response</span></td><td class="fieldArgDesc">a Response class to use when instantiating a
response. The default is <code><a href="werkzeug.wrappers.response.Response.html" class="internal-link" title="werkzeug.wrappers.response.Response">werkzeug.wrappers.Response</a></code> if
unspecified.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="werkzeug.wrappers.response.Response.html" class="internal-link" title="werkzeug.wrappers.response.Response">Response</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="werkzeug.utils.secure_filename">
    
  </a>
  <a name="secure_filename">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">secure_filename</span>(filename):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Pass it a filename and it will return a secure version of it.  This
filename can then safely be stored on a regular file system and passed
to <code>os.path.join</code>.  The filename returned is an ASCII only string
for maximum portability.</p>
<p>On windows systems the function also makes sure that the file is not
named after one of the special device files.</p>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span>secure_filename(<span class="py-string">"My cool movie.mov"</span>)
<span class="py-output">'My_cool_movie.mov'</span>
<span class="py-prompt">&gt;&gt;&gt; </span>secure_filename(<span class="py-string">"../../../etc/passwd"</span>)
<span class="py-output">'etc_passwd'</span>
<span class="py-prompt">&gt;&gt;&gt; </span>secure_filename(<span class="py-string">'i contain cool \xfcml\xe4uts.txt'</span>)
<span class="py-output">'i_contain_cool_umlauts.txt'</span>
</pre><p>The function might return an empty filename.  It's your responsibility
to ensure that the filename is unique and that you abort or
generate a random filename if the function returned an empty one.</p>
<div class="rst-versionadded">
<span class="rst-versionmodified rst-added">New in version 0.5.</span></div>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">filename:</span><code>str</code></td><td class="fieldArgDesc">the filename to secure</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="werkzeug.utils.send_file">
    
  </a>
  <a name="send_file">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">send_file</span>(path_or_file, environ, mimetype=None, as_attachment=False, download_name=None, conditional=True, etag=True, last_modified=None, max_age=None, use_x_sendfile=False, response_class=None, _root_path=None):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Send the contents of a file to the client.</p>
<p>The first argument can be a file path or a file-like object. Paths
are preferred in most cases because Werkzeug can manage the file and
get extra information from the path. Passing a file-like object
requires that the file is opened in binary mode, and is mostly
useful when building a file in memory with <code>io.BytesIO</code>.</p>
<p>Never pass file paths provided by a user. The path is assumed to be
trusted, so a user could craft a path to access a file you didn't
intend.</p>
<p>If the WSGI server sets a <tt class="rst-docutils literal">file_wrapper</tt> in <tt class="rst-docutils literal">environ</tt>, it is
used, otherwise Werkzeug's built-in wrapper is used. Alternatively,
if the HTTP server supports <tt class="rst-docutils literal"><span class="pre">X-Sendfile</span></tt>, <tt class="rst-docutils literal">use_x_sendfile=True</tt>
will tell the server to send the given path, which is much more
efficient than reading it in Python.</p>
<div class="rst-versionchanged">
<span class="rst-versionmodified rst-changed">Changed in version 2.0.2: </span><span><tt class="rst-docutils literal">send_file</tt> only sets a detected <tt class="rst-docutils literal"><span class="pre">Content-Encoding</span></tt> if
<tt class="rst-docutils literal">as_attachment</tt> is disabled.</span></div>
<div class="rst-versionadded">
<span class="rst-versionmodified rst-added">New in version 2.0: </span><span>Adapted from Flask's implementation.</span></div>
<div class="rst-versionchanged">
<span class="rst-versionmodified rst-changed">Changed in version 2.0: </span><span><tt class="rst-docutils literal">download_name</tt> replaces Flask's <tt class="rst-docutils literal">attachment_filename</tt>
 parameter. If <tt class="rst-docutils literal">as_attachment=False</tt>, it is passed with
 <tt class="rst-docutils literal"><span class="pre">Content-Disposition:</span> inline</tt> instead.</span></div>
<div class="rst-versionchanged">
<span class="rst-versionmodified rst-changed">Changed in version 2.0: </span><span><tt class="rst-docutils literal">max_age</tt> replaces Flask's <tt class="rst-docutils literal">cache_timeout</tt> parameter.
<tt class="rst-docutils literal">conditional</tt> is enabled and <tt class="rst-docutils literal">max_age</tt> is not set by
default.</span></div>
<div class="rst-versionchanged">
<span class="rst-versionmodified rst-changed">Changed in version 2.0: </span><span><tt class="rst-docutils literal">etag</tt> replaces Flask's <tt class="rst-docutils literal">add_etags</tt> parameter. It can be a
string to use instead of generating one.</span></div>
<div class="rst-versionchanged">
<span class="rst-versionmodified rst-changed">Changed in version 2.0: </span><span>If an encoding is returned when guessing <tt class="rst-docutils literal">mimetype</tt> from
<tt class="rst-docutils literal">download_name</tt>, set the <tt class="rst-docutils literal"><span class="pre">Content-Encoding</span></tt> header.</span></div>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">path​_or​_file:</span><code>t.Union[<wbr></wbr>os.PathLike, <wbr></wbr>str, <wbr></wbr>t.IO[<wbr></wbr>bytes]]</code></td><td class="fieldArgDesc">The path to the file to send, relative to the
current working directory if a relative path is given.
Alternatively, a file-like object opened in binary mode. Make
sure the file pointer is seeked to the start of the data.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">environ:</span><code>WSGIEnvironment</code></td><td class="fieldArgDesc">The WSGI environ for the current request.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">mimetype:</span><code>t.Optional[<wbr></wbr>str]</code></td><td class="fieldArgDesc">The MIME type to send for the file. If not
provided, it will try to detect it from the file name.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">as​_attachment:</span><code>bool</code></td><td class="fieldArgDesc">Indicate to a browser that it should offer to
save the file instead of displaying it.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">download​_name:</span><code>t.Optional[<wbr></wbr>str]</code></td><td class="fieldArgDesc">The default name browsers will use when saving
the file. Defaults to the passed file name.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">conditional:</span><code>bool</code></td><td class="fieldArgDesc">Enable conditional and range responses based on
request headers. Requires passing a file path and <tt class="rst-docutils literal">environ</tt>.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">etag:</span><code>t.Union[<wbr></wbr>bool, <wbr></wbr>str]</code></td><td class="fieldArgDesc">Calculate an ETag for the file, which requires passing
a file path. Can also be a string to use instead.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">last​_modified:</span><code>t.Optional[<wbr></wbr>t.Union[<wbr></wbr>datetime, <wbr></wbr>int, <wbr></wbr>float]]</code></td><td class="fieldArgDesc">The last modified time to send for the file,
in seconds. If not provided, it will try to detect it from the
file path.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">max​_age:</span><code>t.Optional[<wbr></wbr>t.Union[<wbr></wbr>int, <wbr></wbr>t.Callable[<wbr></wbr>[<wbr></wbr>t.Optional[<wbr></wbr>str]], <wbr></wbr>t.Optional[<wbr></wbr>int]]]]</code></td><td class="fieldArgDesc">How long the client should cache the file, in
seconds. If set, <tt class="rst-docutils literal"><span class="pre">Cache-Control</span></tt> will be <tt class="rst-docutils literal">public</tt>, otherwise
it will be <tt class="rst-docutils literal"><span class="pre">no-cache</span></tt> to prefer conditional caching.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">use​_x​_sendfile:</span><code>bool</code></td><td class="fieldArgDesc">Set the <tt class="rst-docutils literal"><span class="pre">X-Sendfile</span></tt> header to let the
server to efficiently send the file. Requires support from the
HTTP server. Requires passing a file path.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">response​_class:</span><code>t.Optional[<wbr></wbr>t.Type[<wbr></wbr><a href="werkzeug.wrappers.response.Response.html" class="internal-link" title="werkzeug.wrappers.response.Response">Response</a>]]</code></td><td class="fieldArgDesc">Build the response using this class. Defaults
to <code>~werkzeug.wrappers.Response</code>.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">​_root​_path:</span><code>t.Optional[<wbr></wbr>t.Union[<wbr></wbr>os.PathLike, <wbr></wbr>str]]</code></td><td class="fieldArgDesc">Do not use. For internal use only. Use
<code><a href="#send_from_directory" class="internal-link" title="werkzeug.utils.send_from_directory">send_from_directory</a></code> to safely send files under a path.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="werkzeug.wrappers.response.Response.html" class="internal-link" title="werkzeug.wrappers.response.Response">Response</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="werkzeug.utils.send_from_directory">
    
  </a>
  <a name="send_from_directory">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">send_from_directory</span>(directory, path, environ, **kwargs):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Send a file from within a directory using <code><a href="#send_file" class="internal-link" title="werkzeug.utils.send_file">send_file</a></code>.</p>
<p>This is a secure way to serve files from a folder, such as static
files or uploads. Uses <code>~werkzeug.security.safe_join</code> to
ensure the path coming from the client is not maliciously crafted to
point outside the specified directory.</p>
<p>If the final path does not point to an existing regular file,
returns a 404 <code>~werkzeug.exceptions.NotFound</code> error.</p>
<div class="rst-versionadded">
<span class="rst-versionmodified rst-added">New in version 2.0: </span><span>Adapted from Flask's implementation.</span></div>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">directory:</span><code>t.Union[<wbr></wbr>os.PathLike, <wbr></wbr>str]</code></td><td class="fieldArgDesc">The directory that <tt class="rst-docutils literal">path</tt> must be located under.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">path:</span><code>t.Union[<wbr></wbr>os.PathLike, <wbr></wbr>str]</code></td><td class="fieldArgDesc">The path to the file to send, relative to
<tt class="rst-docutils literal">directory</tt>.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">environ:</span><code>WSGIEnvironment</code></td><td class="fieldArgDesc">The WSGI environ for the current request.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">**kwargs:</span><code>t.Any</code></td><td class="fieldArgDesc">Arguments to pass to <code><a href="#send_file" class="internal-link" title="werkzeug.utils.send_file">send_file</a></code>.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="werkzeug.wrappers.response.Response.html" class="internal-link" title="werkzeug.wrappers.response.Response">Response</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="werkzeug.utils.unescape">
    
  </a>
  <a name="unescape">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">unescape</span>(s):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>The reverse of <code><a href="#escape" class="internal-link" title="werkzeug.utils.escape">escape</a></code>. This unescapes all the HTML
entities, not only those inserted by <tt class="rst-docutils literal">escape</tt>.</p>
<div class="rst-deprecated">
<span class="rst-versionmodified rst-deprecated">Deprecated since version 2.0: </span><span>Will be removed in Werkzeug 2.1. Use MarkupSafe instead.</span></div>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">s:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="werkzeug.utils.validate_arguments">
    
  </a>
  <a name="validate_arguments">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">validate_arguments</span>(func, args, kwargs, drop_extra=True):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Checks if the function accepts the arguments and keyword arguments.
Returns a new <tt class="rst-docutils literal">(args, kwargs)</tt> tuple that can safely be passed to
the function without causing a <code>TypeError</code> because the function signature
is incompatible.  If <code>drop_extra</code> is set to <code>True</code> (which is the default)
any extra positional or keyword arguments are dropped automatically.</p>
<p>The exception raised provides three attributes:</p>
<dl class="rst-docutils">
<dt><code><a href="werkzeug.utils.ArgumentValidationError.html#missing" class="internal-link" title="werkzeug.utils.ArgumentValidationError.missing">missing</a></code></dt>
<dd>A set of argument names that the function expected but where
missing.</dd>
<dt><code><a href="werkzeug.utils.ArgumentValidationError.html#extra" class="internal-link" title="werkzeug.utils.ArgumentValidationError.extra">extra</a></code></dt>
<dd>A dict of keyword arguments that the function can not handle but
where provided.</dd>
<dt><code><a href="werkzeug.utils.ArgumentValidationError.html#extra_positional" class="internal-link" title="werkzeug.utils.ArgumentValidationError.extra_positional">extra_positional</a></code></dt>
<dd>A list of values that where given by positional argument but the
function cannot accept.</dd>
</dl>
<p>This can be useful for decorators that forward user submitted data to
a view function:</p>
<pre class="rst-literal-block">
from werkzeug.utils import ArgumentValidationError, validate_arguments

def sanitize(f):
    def proxy(request):
        data = request.values.to_dict()
        try:
            args, kwargs = validate_arguments(f, (request,), data)
        except ArgumentValidationError:
            raise BadRequest('The browser failed to transmit all '
                             'the data expected.')
        return f(*args, **kwargs)
    return proxy
</pre>
<div class="rst-deprecated">
<span class="rst-versionmodified rst-deprecated">Deprecated since version 2.0: </span><span>Will be removed in Werkzeug 2.1. Use <code>inspect.signature</code>
instead.</span></div>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">func</span></td><td class="fieldArgDesc">the function the validation is performed against.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">args</span></td><td class="fieldArgDesc">a tuple of positional arguments.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">kwargs</span></td><td class="fieldArgDesc">a dict of keyword arguments.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">drop​_extra</span></td><td class="fieldArgDesc">set to <code>False</code> if you don't want extra arguments
to be silently dropped.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">tuple in the form <tt class="rst-docutils literal">(args, kwargs)</tt>.</td></tr></table></div>
  </div>
</div><div class="basevariable">
  
  
  <a name="werkzeug.utils.html">
    
  </a>
  <a name="html">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">html</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="basevariable">
  
  
  <a name="werkzeug.utils.xhtml">
    
  </a>
  <a name="xhtml">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">xhtml</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseconstant private">
  
  
  <a name="werkzeug.utils._T">
    
  </a>
  <a name="_T">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_T</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    <table class="valueTable"><tr class="fieldStart"><td class="fieldName">Value</td></tr><tr><td><pre class="constant-value"><code>t.TypeVar(<wbr></wbr><span class="rst-variable-quote">'</span><span class="rst-variable-string">_T</span><span class="rst-variable-quote">'</span>)</code></pre></td></tr></table>
  </div>
</div><div class="basevariable private">
  
  
  <a name="werkzeug.utils._charset_mimetypes">
    
  </a>
  <a name="_charset_mimetypes">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_charset_mimetypes</span>: <code>set[<wbr></wbr>str]</code> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="basevariable private">
  
  
  <a name="werkzeug.utils._entity_re">
    
  </a>
  <a name="_entity_re">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_entity_re</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="basevariable private">
  
  
  <a name="werkzeug.utils._filename_ascii_strip_re">
    
  </a>
  <a name="_filename_ascii_strip_re">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_filename_ascii_strip_re</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="basevariable private">
  
  
  <a name="werkzeug.utils._windows_device_files">
    
  </a>
  <a name="_windows_device_files">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_windows_device_files</span>: <code>tuple[<wbr></wbr>str, <wbr></wbr><span class="rst-variable-ellipsis">...</span>]</code> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div>

      </div>
    </div>

    <footer class="navbar navbar-default">
  
  <div class="container">
    <a href="index.html">API Documentation</a> for werkzeug,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    22.2.0 at 2022-02-23 04:47:03.
  </div>
</footer>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>