<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>flask.helpers</title>
    <meta name="generator" content="pydoctor 22.2.0"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=0.75" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    <div id="banner" class="container">    
    <div>
        <a href="https://pydocbrowser.github.io/">Home</a>
        &gt; flask-2.0.3 
        <!-- This is an important placeholder and will be 
            replaced by project name and version on building docs -->
        
        <!-- (<a href=""&gt;show all versions</a&gt;) -->
    </div>
</div>

    <nav class="navbar navbar-default">
  
  <div class="container">

    <div class="navbar-header">
      
      <div class="navlinks">
          <span class="navbar-brand">
            flask <a href="index.html">API Documentation</a>
          </span>

          <a href="moduleIndex.html">
            Modules
          </a>

          <a href="classIndex.html">
            Classes
          </a>

          <a href="nameIndex.html">
            Names
          </a>
      </div>

    </div>
  </div>
</nav>

    

    <div class="container">

      <div class="page-header">
        <h1 class="module"><code><code><a href="index.html" class="internal-link">flask</a></code><wbr></wbr>.<code><a href="flask.helpers.html" class="internal-link" title="flask.helpers">helpers</a></code></code></h1>
        <div id="showPrivate">
          <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
        </div>
      </div>

      <div class="categoryHeader">
        module documentation
      </div>

      <div class="extrasDocstring">
        <a href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/flask-2.0.3//src/flask/helpers.py" class="sourceLink">(source)</a>
        <p></p>
      </div>

      <div class="moduleDocstring">
        <div><p class="undocumented">Undocumented</p></div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id10305">
  
  
  <tr class="class">
    
    <td>Class</td>
    <td><code><a href="flask.helpers.locked_cached_property.html" class="internal-link" title="flask.helpers.locked_cached_property">locked​_cached​_property</a></code></td>
    <td>A <code><a href="https://docs.python.org/3/library/functions.html#property" class="intersphinx-link">property</a></code> that is only evaluated once. Like <code>werkzeug.utils.cached_property</code> except access uses a lock for thread safety.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#flash" class="internal-link" title="flask.helpers.flash">flash</a></code></td>
    <td>Flashes a message to the next request.  In order to remove the flashed message from the session and to display it to the user, the template has to call <code><a href="#get_flashed_messages" class="internal-link" title="flask.helpers.get_flashed_messages">get_flashed_messages</a></code>.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#get_debug_flag" class="internal-link" title="flask.helpers.get_debug_flag">get​_debug​_flag</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#get_env" class="internal-link" title="flask.helpers.get_env">get​_env</a></code></td>
    <td>Get the environment the app is running in, indicated by the <a href="#system-message-1"><span class="rst-problematic" id="rst-problematic-1">:envvar:`FLASK_ENV`</span></a> environment variable. The default is <tt class="rst-docutils literal">'production'</tt>.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#get_flashed_messages" class="internal-link" title="flask.helpers.get_flashed_messages">get​_flashed​_messages</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#get_load_dotenv" class="internal-link" title="flask.helpers.get_load_dotenv">get​_load​_dotenv</a></code></td>
    <td>Get whether the user has disabled loading dotenv files by setting <a href="#system-message-1"><span class="rst-problematic" id="rst-problematic-1">:envvar:`FLASK_SKIP_DOTENV`</span></a>. The default is <tt class="rst-docutils literal">True</tt>, load the files.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#get_root_path" class="internal-link" title="flask.helpers.get_root_path">get​_root​_path</a></code></td>
    <td>Find the root path of a package, or the path that contains a module. If it cannot be found, returns the current working directory.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#get_template_attribute" class="internal-link" title="flask.helpers.get_template_attribute">get​_template​_attribute</a></code></td>
    <td>Loads a macro (or variable) a template exports.  This can be used to invoke a macro from within Python code.  If you for example have a template named <a href="#system-message-1"><span class="rst-problematic" id="rst-problematic-1">:file:`_cider.html`</span></a> with the following contents:</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#is_ip" class="internal-link" title="flask.helpers.is_ip">is​_ip</a></code></td>
    <td>Determine if the given string is an IP address.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#make_response" class="internal-link" title="flask.helpers.make_response">make​_response</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#safe_join" class="internal-link" title="flask.helpers.safe_join">safe​_join</a></code></td>
    <td>Safely join zero or more untrusted path components to a base directory to avoid escaping the base directory.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#send_file" class="internal-link" title="flask.helpers.send_file">send​_file</a></code></td>
    <td>Send the contents of a file to the client.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#send_from_directory" class="internal-link" title="flask.helpers.send_from_directory">send​_from​_directory</a></code></td>
    <td>Send a file from within a directory using <code><a href="#send_file" class="internal-link" title="flask.helpers.send_file">send_file</a></code>.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#stream_with_context" class="internal-link" title="flask.helpers.stream_with_context">stream​_with​_context</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#total_seconds" class="internal-link" title="flask.helpers.total_seconds">total​_seconds</a></code></td>
    <td>Returns the total seconds from a timedelta object.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#url_for" class="internal-link" title="flask.helpers.url_for">url​_for</a></code></td>
    <td>Generates a URL to the given endpoint with the method provided.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_prepare_send_file_kwargs" class="internal-link" title="flask.helpers._prepare_send_file_kwargs">​_prepare​_send​_file​_kwargs</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_split_blueprint_path" class="internal-link" title="flask.helpers._split_blueprint_path">​_split​_blueprint​_path</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="basefunction">
  
  
  <a name="flask.helpers.flash">
    
  </a>
  <a name="flash">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">flash</span>(message, category=<span class="rst-variable-quote">'</span><span class="rst-variable-string">message</span><span class="rst-variable-quote">'</span>):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/flask-2.0.3//src/flask/helpers.py#L367">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Flashes a message to the next request.  In order to remove the
flashed message from the session and to display it to the user,
the template has to call <code><a href="#get_flashed_messages" class="internal-link" title="flask.helpers.get_flashed_messages">get_flashed_messages</a></code>.</p>
<div class="rst-versionchanged">
<span class="rst-versionmodified rst-changed">Changed in version 0.3: </span><span><code>category</code> parameter added.</span></div>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">message:</span><code><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a></code></td><td class="fieldArgDesc">the message to be flashed.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">category:</span><code><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a></code></td><td class="fieldArgDesc">the category for the message.  The following values
are recommended: <tt class="rst-docutils literal">'message'</tt> for any kind of message,
<tt class="rst-docutils literal">'error'</tt> for errors, <tt class="rst-docutils literal">'info'</tt> for information
messages and <tt class="rst-docutils literal">'warning'</tt> for warnings.  However any
kind of string can be used as category.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="flask.helpers.get_debug_flag">
    
  </a>
  <a name="get_debug_flag">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">get_debug_flag</span>():
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/flask-2.0.3//src/flask/helpers.py#L37">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Get whether debug mode should be enabled for the app, indicated
by the <a href="#system-message-1"><span class="rst-problematic" id="rst-problematic-1">:envvar:`FLASK_DEBUG`</span></a> environment variable. The default is
<tt class="rst-docutils literal">True</tt> if <code>.get_env</code> returns <tt class="rst-docutils literal">'development'</tt>, or <tt class="rst-docutils literal">False</tt>
otherwise.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="https://docs.python.org/3/library/functions.html#bool" class="intersphinx-link">bool</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="flask.helpers.get_env">
    
  </a>
  <a name="get_env">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">get_env</span>():
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/flask-2.0.3//src/flask/helpers.py#L29">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Get the environment the app is running in, indicated by the
<a href="#system-message-1"><span class="rst-problematic" id="rst-problematic-1">:envvar:`FLASK_ENV`</span></a> environment variable. The default is
<tt class="rst-docutils literal">'production'</tt>.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="flask.helpers.get_flashed_messages">
    
  </a>
  <a name="get_flashed_messages">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">get_flashed_messages</span>(with_categories=<a href="https://docs.python.org/3/library/constants.html#False" class="intersphinx-link">False</a>, category_filter=()):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/flask-2.0.3//src/flask/helpers.py#L399">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Pulls all flashed messages from the session and returns them.
Further calls in the same request to the function will return
the same messages.  By default just the messages are returned,
but when <code>with_categories</code> is set to <tt class="rst-docutils literal">True</tt>, the return value will
be a list of tuples in the form <tt class="rst-docutils literal">(category, message)</tt> instead.</p>
<p>Filter the flashed messages to one or more categories by providing those
categories in <code>category_filter</code>.  This allows rendering categories in
separate html blocks.  The <code>with_categories</code> and <code>category_filter</code>
arguments are distinct:</p>
<ul class="rst-simple">
<li><code>with_categories</code> controls whether categories are returned with message
text (<tt class="rst-docutils literal">True</tt> gives a tuple, where <tt class="rst-docutils literal">False</tt> gives just the message text).</li>
<li><code>category_filter</code> filters the messages down to only those matching the
provided categories.</li>
</ul>
<p>See <a href="#system-message-1"><span class="rst-problematic" id="rst-problematic-1">:doc:`/patterns/flashing`</span></a> for examples.</p>
<div class="rst-versionchanged">
<span class="rst-versionmodified rst-changed">Changed in version 0.3: </span><span><code>with_categories</code> parameter added.</span></div>
<div class="rst-versionchanged">
<span class="rst-versionmodified rst-changed">Changed in version 0.9: </span><span><code>category_filter</code> parameter added.</span></div>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">with​_categories:</span><code><a href="https://docs.python.org/3/library/functions.html#bool" class="intersphinx-link">bool</a></code></td><td class="fieldArgDesc">set to <tt class="rst-docutils literal">True</tt> to also receive categories.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">category​_filter:</span><code><a href="https://docs.python.org/3/library/typing.html#typing.Iterable" class="intersphinx-link">t.Iterable</a>[<wbr></wbr><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a>]</code></td><td class="fieldArgDesc">filter of categories to limit return values.  Only
categories in the list will be returned.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="https://docs.python.org/3/library/typing.html#typing.Union" class="intersphinx-link">t.Union</a>[<wbr></wbr><a href="https://docs.python.org/3/library/typing.html#typing.List" class="intersphinx-link">t.List</a>[<wbr></wbr><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a>], <wbr></wbr><a href="https://docs.python.org/3/library/typing.html#typing.List" class="intersphinx-link">t.List</a>[<wbr></wbr><a href="https://docs.python.org/3/library/typing.html#typing.Tuple" class="intersphinx-link">t.Tuple</a>[<wbr></wbr><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a>, <wbr></wbr><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a>]]]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="flask.helpers.get_load_dotenv">
    
  </a>
  <a name="get_load_dotenv">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">get_load_dotenv</span>(default=<a href="https://docs.python.org/3/library/constants.html#True" class="intersphinx-link">True</a>):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/flask-2.0.3//src/flask/helpers.py#L51">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Get whether the user has disabled loading dotenv files by setting
<a href="#system-message-1"><span class="rst-problematic" id="rst-problematic-1">:envvar:`FLASK_SKIP_DOTENV`</span></a>. The default is <tt class="rst-docutils literal">True</tt>, load the
files.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">default:</span><code><a href="https://docs.python.org/3/library/functions.html#bool" class="intersphinx-link">bool</a></code></td><td class="fieldArgDesc">What to return if the env var isn't set.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="https://docs.python.org/3/library/functions.html#bool" class="intersphinx-link">bool</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="flask.helpers.get_root_path">
    
  </a>
  <a name="get_root_path">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">get_root_path</span>(import_name):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/flask-2.0.3//src/flask/helpers.py#L705">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Find the root path of a package, or the path that contains a
module. If it cannot be found, returns the current working
directory.</p>
<p>Not to be confused with the value returned by <code><a href="flask.scaffold.html#find_package" class="internal-link" title="flask.scaffold.find_package">find_package</a></code>.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">import​_name:</span><code><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Unknown Field: meta</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">private</span></td><td class="fieldArgDesc"></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="flask.helpers.get_template_attribute">
    
  </a>
  <a name="get_template_attribute">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">get_template_attribute</span>(template_name, attribute):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/flask-2.0.3//src/flask/helpers.py#L345">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Loads a macro (or variable) a template exports.  This can be used to
invoke a macro from within Python code.  If you for example have a
template named <a href="#system-message-1"><span class="rst-problematic" id="rst-problematic-1">:file:`_cider.html`</span></a> with the following contents:</p>
<pre class="rst-code rst-html+jinja rst-literal-block">
{% macro hello(name) %}Hello {{ name }}!{% endmacro %}
</pre>
<p>You can access this from Python code like this:</p>
<pre class="rst-literal-block">
hello = get_template_attribute('_cider.html', 'hello')
return hello('World')
</pre>
<div class="rst-versionadded">
<span class="rst-versionmodified rst-added">New in version 0.2.</span></div>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">template​_name:</span><code><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a></code></td><td class="fieldArgDesc">the name of the template</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">attribute:</span><code><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a></code></td><td class="fieldArgDesc">the name of the variable of macro to access</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="https://docs.python.org/3/library/typing.html#typing.Any" class="intersphinx-link">t.Any</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="flask.helpers.is_ip">
    
  </a>
  <a name="is_ip">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">is_ip</span>(value):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/flask-2.0.3//src/flask/helpers.py#L809">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Determine if the given string is an IP address.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">value:</span>str</td><td class="fieldArgDesc">value to check</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">bool</td><td class="fieldArgDesc">True if string is an IP address</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="flask.helpers.make_response">
    
  </a>
  <a name="make_response">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">make_response</span>(*args):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/flask-2.0.3//src/flask/helpers.py#L145">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Sometimes it is necessary to set additional headers in a view.  Because
views do not have to return response objects but can return a value that
is converted into a response object by Flask itself, it becomes tricky to
add headers to it.  This function can be called instead of using a return
and you will get a response object which you can use to attach headers.</p>
<p>If view looked like this and you want to add a new header:</p>
<pre class="rst-literal-block">
def index():
    return render_template('index.html', foo=42)
</pre>
<p>You can now do something like this:</p>
<pre class="rst-literal-block">
def index():
    response = make_response(render_template('index.html', foo=42))
    response.headers['X-Parachutes'] = 'parachutes are cool'
    return response
</pre>
<p>This function accepts the very same arguments you can return from a
view function.  This for example creates a response with a 404 error
code:</p>
<pre class="rst-literal-block">
response = make_response(render_template('not_found.html'), 404)
</pre>
<p>The other use case of this function is to force the return value of a
view function into a response which is helpful with view
decorators:</p>
<pre class="rst-literal-block">
response = make_response(view_function())
response.headers['X-Parachutes'] = 'parachutes are cool'
</pre>
<p>Internally this function does the following things:</p>
<ul class="rst-simple">
<li>if no arguments are passed, it creates a new response argument</li>
<li>if one argument is passed, <code><a href="flask.app.Flask.html#make_response" class="internal-link" title="flask.app.Flask.make_response">flask.Flask.make_response</a></code>
is invoked with it.</li>
<li>if more than one argument is passed, the arguments are passed
to the <code><a href="flask.app.Flask.html#make_response" class="internal-link" title="flask.app.Flask.make_response">flask.Flask.make_response</a></code> function as tuple.</li>
</ul>
<div class="rst-versionadded">
<span class="rst-versionmodified rst-added">New in version 0.6.</span></div>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">*args:</span><code><a href="https://docs.python.org/3/library/typing.html#typing.Any" class="intersphinx-link">t.Any</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="flask.wrappers.Response.html" class="internal-link" title="flask.wrappers.Response">Response</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="flask.helpers.safe_join">
    
  </a>
  <a name="safe_join">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">safe_join</span>(directory, *pathnames):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/flask-2.0.3//src/flask/helpers.py#L630">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Safely join zero or more untrusted path components to a base
directory to avoid escaping the base directory.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">directory:</span><code><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a></code></td><td class="fieldArgDesc">The trusted base directory.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">*pathnames:</span><code><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a></code></td><td class="fieldArgDesc">The untrusted path components relative to the
base directory.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a></code></td><td class="fieldArgDesc">A safe path, otherwise <tt class="rst-docutils literal">None</tt>.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="flask.helpers.send_file">
    
  </a>
  <a name="send_file">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">send_file</span>(path_or_file, mimetype=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>, as_attachment=<a href="https://docs.python.org/3/library/constants.html#False" class="intersphinx-link">False</a>, download_name=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>, attachment_filename=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>, conditional=<a href="https://docs.python.org/3/library/constants.html#True" class="intersphinx-link">True</a>, etag=<a href="https://docs.python.org/3/library/constants.html#True" class="intersphinx-link">True</a>, add_etags=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>, last_modified=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>, max_age=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>, cache_timeout=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/flask-2.0.3//src/flask/helpers.py#L496">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Send the contents of a file to the client.</p>
<p>The first argument can be a file path or a file-like object. Paths
are preferred in most cases because Werkzeug can manage the file and
get extra information from the path. Passing a file-like object
requires that the file is opened in binary mode, and is mostly
useful when building a file in memory with <code><a href="https://docs.python.org/3/library/io.html#io.BytesIO" class="intersphinx-link">io.BytesIO</a></code>.</p>
<p>Never pass file paths provided by a user. The path is assumed to be
trusted, so a user could craft a path to access a file you didn't
intend. Use <code><a href="#send_from_directory" class="internal-link" title="flask.helpers.send_from_directory">send_from_directory</a></code> to safely serve
user-requested paths from within a directory.</p>
<p>If the WSGI server sets a <tt class="rst-docutils literal">file_wrapper</tt> in <tt class="rst-docutils literal">environ</tt>, it is
used, otherwise Werkzeug's built-in wrapper is used. Alternatively,
if the HTTP server supports <tt class="rst-docutils literal"><span class="pre">X-Sendfile</span></tt>, configuring Flask with
<tt class="rst-docutils literal">USE_X_SENDFILE = True</tt> will tell the server to send the given
path, which is much more efficient than reading it in Python.</p>
<div class="rst-versionchanged">
<span class="rst-versionmodified rst-changed">Changed in version 2.0: </span><span><tt class="rst-docutils literal">download_name</tt> replaces the <tt class="rst-docutils literal">attachment_filename</tt>
parameter. If <tt class="rst-docutils literal">as_attachment=False</tt>, it is passed with
<tt class="rst-docutils literal"><span class="pre">Content-Disposition:</span> inline</tt> instead.</span></div>
<div class="rst-versionchanged">
<span class="rst-versionmodified rst-changed">Changed in version 2.0: </span><span><tt class="rst-docutils literal">max_age</tt> replaces the <tt class="rst-docutils literal">cache_timeout</tt> parameter.
<tt class="rst-docutils literal">conditional</tt> is enabled and <tt class="rst-docutils literal">max_age</tt> is not set by
default.</span></div>
<div class="rst-versionchanged">
<span class="rst-versionmodified rst-changed">Changed in version 2.0: </span><span><tt class="rst-docutils literal">etag</tt> replaces the <tt class="rst-docutils literal">add_etags</tt> parameter. It can be a
string to use instead of generating one.</span></div>
<div class="rst-versionchanged">
<span class="rst-versionmodified rst-changed">Changed in version 2.0: </span><span>Passing a file-like object that inherits from
<code>~io.TextIOBase</code> will raise a <code><a href="https://docs.python.org/3/library/exceptions.html#ValueError" class="intersphinx-link">ValueError</a></code> rather
than sending an empty file.</span></div>
<div class="rst-versionadded">
<span class="rst-versionmodified rst-added">New in version 2.0: </span><span>Moved the implementation to Werkzeug. This is now a wrapper to
pass some Flask-specific arguments.</span></div>
<div class="rst-versionchanged">
<span class="rst-versionmodified rst-changed">Changed in version 1.1: </span><span><tt class="rst-docutils literal">filename</tt> may be a <code>~os.PathLike</code> object.</span></div>
<div class="rst-versionchanged">
<span class="rst-versionmodified rst-changed">Changed in version 1.1: </span><span>Passing a <code>~io.BytesIO</code> object supports range requests.</span></div>
<div class="rst-versionchanged">
<span class="rst-versionmodified rst-changed">Changed in version 1.0.3: </span><span>Filenames are encoded with ASCII instead of Latin-1 for broader
compatibility with WSGI servers.</span></div>
<div class="rst-versionchanged">
<span class="rst-versionmodified rst-changed">Changed in version 1.0: </span><span>UTF-8 filenames as specified in <a class="rst-reference external" href="http://tools.ietf.org/html/rfc2231.html" target="_top">RFC 2231</a> are supported.</span></div>
<div class="rst-versionchanged">
<span class="rst-versionmodified rst-changed">Changed in version 0.12: </span><span>The filename is no longer automatically inferred from file
objects. If you want to use automatic MIME and etag support,
pass a filename via <tt class="rst-docutils literal">filename_or_fp</tt> or
<tt class="rst-docutils literal">attachment_filename</tt>.</span></div>
<div class="rst-versionchanged">
<span class="rst-versionmodified rst-changed">Changed in version 0.12: </span><span><tt class="rst-docutils literal">attachment_filename</tt> is preferred over <tt class="rst-docutils literal">filename</tt> for MIME
detection.</span></div>
<div class="rst-versionchanged">
<span class="rst-versionmodified rst-changed">Changed in version 0.9: </span><span><tt class="rst-docutils literal">cache_timeout</tt> defaults to
<code><a href="flask.scaffold.Scaffold.html#get_send_file_max_age" class="internal-link" title="flask.scaffold.Scaffold.get_send_file_max_age">Flask.get_send_file_max_age</a></code>.</span></div>
<div class="rst-versionchanged">
<span class="rst-versionmodified rst-changed">Changed in version 0.7: </span><span>MIME guessing and etag support for file-like objects was
deprecated because it was unreliable. Pass a filename if you are
able to, otherwise attach an etag yourself.</span></div>
<div class="rst-versionchanged">
<span class="rst-versionmodified rst-changed">Changed in version 0.5: </span><span>The <tt class="rst-docutils literal">add_etags</tt>, <tt class="rst-docutils literal">cache_timeout</tt> and <tt class="rst-docutils literal">conditional</tt>
parameters were added. The default behavior is to add etags.</span></div>
<div class="rst-versionadded">
<span class="rst-versionmodified rst-added">New in version 0.2.</span></div>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">path​_or​_file:</span><code><a href="https://docs.python.org/3/library/typing.html#typing.Union" class="intersphinx-link">t.Union</a>[<wbr></wbr><a href="https://docs.python.org/3/library/os.html#os.PathLike" class="intersphinx-link">os.PathLike</a>, <wbr></wbr><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a>, <wbr></wbr><a href="https://docs.python.org/3/library/typing.html#typing.BinaryIO" class="intersphinx-link">t.BinaryIO</a>]</code></td><td class="fieldArgDesc">The path to the file to send, relative to the
current working directory if a relative path is given.
Alternatively, a file-like object opened in binary mode. Make
sure the file pointer is seeked to the start of the data.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">mimetype:</span><code><a href="https://docs.python.org/3/library/typing.html#typing.Optional" class="intersphinx-link">t.Optional</a>[<wbr></wbr><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a>]</code></td><td class="fieldArgDesc">The MIME type to send for the file. If not
provided, it will try to detect it from the file name.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">as​_attachment:</span><code><a href="https://docs.python.org/3/library/functions.html#bool" class="intersphinx-link">bool</a></code></td><td class="fieldArgDesc">Indicate to a browser that it should offer to
save the file instead of displaying it.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">download​_name:</span><code><a href="https://docs.python.org/3/library/typing.html#typing.Optional" class="intersphinx-link">t.Optional</a>[<wbr></wbr><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a>]</code></td><td class="fieldArgDesc">The default name browsers will use when saving
the file. Defaults to the passed file name.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">attachment​_filename:</span><code><a href="https://docs.python.org/3/library/typing.html#typing.Optional" class="intersphinx-link">t.Optional</a>[<wbr></wbr><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">conditional:</span><code><a href="https://docs.python.org/3/library/functions.html#bool" class="intersphinx-link">bool</a></code></td><td class="fieldArgDesc">Enable conditional and range responses based on
request headers. Requires passing a file path and <tt class="rst-docutils literal">environ</tt>.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">etag:</span><code><a href="https://docs.python.org/3/library/typing.html#typing.Union" class="intersphinx-link">t.Union</a>[<wbr></wbr><a href="https://docs.python.org/3/library/functions.html#bool" class="intersphinx-link">bool</a>, <wbr></wbr><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a>]</code></td><td class="fieldArgDesc">Calculate an ETag for the file, which requires passing
a file path. Can also be a string to use instead.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">add​_etags:</span><code><a href="https://docs.python.org/3/library/typing.html#typing.Optional" class="intersphinx-link">t.Optional</a>[<wbr></wbr><a href="https://docs.python.org/3/library/functions.html#bool" class="intersphinx-link">bool</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">last​_modified:</span><code><a href="https://docs.python.org/3/library/typing.html#typing.Optional" class="intersphinx-link">t.Optional</a>[<wbr></wbr><a href="https://docs.python.org/3/library/typing.html#typing.Union" class="intersphinx-link">t.Union</a>[<wbr></wbr><a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" class="intersphinx-link">datetime</a>, <wbr></wbr><a href="https://docs.python.org/3/library/functions.html#int" class="intersphinx-link">int</a>, <wbr></wbr><a href="https://docs.python.org/3/library/functions.html#float" class="intersphinx-link">float</a>]]</code></td><td class="fieldArgDesc">The last modified time to send for the file,
in seconds. If not provided, it will try to detect it from the
file path.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">max​_age:</span><code><a href="https://docs.python.org/3/library/typing.html#typing.Optional" class="intersphinx-link">t.Optional</a>[<wbr></wbr><a href="https://docs.python.org/3/library/typing.html#typing.Union" class="intersphinx-link">t.Union</a>[<wbr></wbr><a href="https://docs.python.org/3/library/functions.html#int" class="intersphinx-link">int</a>, <wbr></wbr><a href="https://docs.python.org/3/library/typing.html#typing.Callable" class="intersphinx-link">t.Callable</a>[<wbr></wbr>[<wbr></wbr><a href="https://docs.python.org/3/library/typing.html#typing.Optional" class="intersphinx-link">t.Optional</a>[<wbr></wbr><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a>]], <wbr></wbr><a href="https://docs.python.org/3/library/typing.html#typing.Optional" class="intersphinx-link">t.Optional</a>[<wbr></wbr><a href="https://docs.python.org/3/library/functions.html#int" class="intersphinx-link">int</a>]]]]</code></td><td class="fieldArgDesc">How long the client should cache the file, in
seconds. If set, <tt class="rst-docutils literal"><span class="pre">Cache-Control</span></tt> will be <tt class="rst-docutils literal">public</tt>, otherwise
it will be <tt class="rst-docutils literal"><span class="pre">no-cache</span></tt> to prefer conditional caching.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">cache​_timeout:</span><code><a href="https://docs.python.org/3/library/typing.html#typing.Optional" class="intersphinx-link">t.Optional</a>[<wbr></wbr><a href="https://docs.python.org/3/library/functions.html#int" class="intersphinx-link">int</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="flask.helpers.send_from_directory">
    
  </a>
  <a name="send_from_directory">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">send_from_directory</span>(directory, path, filename=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>, **kwargs):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/flask-2.0.3//src/flask/helpers.py#L653">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Send a file from within a directory using <code><a href="#send_file" class="internal-link" title="flask.helpers.send_file">send_file</a></code>.</p>
<pre class="rst-code rst-python rst-literal-block">
@app.route("/uploads/&lt;path:name&gt;")
def download_file(name):
    return send_from_directory(
        app.config['UPLOAD_FOLDER'], name, as_attachment=True
    )
</pre>
<p>This is a secure way to serve files from a folder, such as static
files or uploads. Uses <code>~werkzeug.security.safe_join</code> to
ensure the path coming from the client is not maliciously crafted to
point outside the specified directory.</p>
<p>If the final path does not point to an existing regular file,
raises a 404 <code>~werkzeug.exceptions.NotFound</code> error.</p>
<div class="rst-versionchanged">
<span class="rst-versionmodified rst-changed">Changed in version 2.0: </span><span><tt class="rst-docutils literal">path</tt> replaces the <tt class="rst-docutils literal">filename</tt> parameter.</span></div>
<div class="rst-versionadded">
<span class="rst-versionmodified rst-added">New in version 2.0: </span><span>Moved the implementation to Werkzeug. This is now a wrapper to
pass some Flask-specific arguments.</span></div>
<div class="rst-versionadded">
<span class="rst-versionmodified rst-added">New in version 0.5.</span></div>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">directory:</span><code><a href="https://docs.python.org/3/library/typing.html#typing.Union" class="intersphinx-link">t.Union</a>[<wbr></wbr><a href="https://docs.python.org/3/library/os.html#os.PathLike" class="intersphinx-link">os.PathLike</a>, <wbr></wbr><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a>]</code></td><td class="fieldArgDesc">The directory that <tt class="rst-docutils literal">path</tt> must be located under.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">path:</span><code><a href="https://docs.python.org/3/library/typing.html#typing.Union" class="intersphinx-link">t.Union</a>[<wbr></wbr><a href="https://docs.python.org/3/library/os.html#os.PathLike" class="intersphinx-link">os.PathLike</a>, <wbr></wbr><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a>]</code></td><td class="fieldArgDesc">The path to the file to send, relative to
<tt class="rst-docutils literal">directory</tt>.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">filename:</span><code><a href="https://docs.python.org/3/library/typing.html#typing.Optional" class="intersphinx-link">t.Optional</a>[<wbr></wbr><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">**kwargs:</span><code><a href="https://docs.python.org/3/library/typing.html#typing.Any" class="intersphinx-link">t.Any</a></code></td><td class="fieldArgDesc">Arguments to pass to <code><a href="#send_file" class="internal-link" title="flask.helpers.send_file">send_file</a></code>.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="flask.wrappers.Response.html" class="internal-link" title="flask.wrappers.Response">Response</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="flask.helpers.stream_with_context">
    
  </a>
  <a name="stream_with_context">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">stream_with_context</span>(generator_or_function):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/flask-2.0.3//src/flask/helpers.py#L66">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Request contexts disappear when the response is started on the server.
This is done for efficiency reasons and to make it less likely to encounter
memory leaks with badly written WSGI middlewares.  The downside is that if
you are using streamed responses, the generator cannot access request bound
information any more.</p>
<p>This function however can help you keep the context around for longer:</p>
<pre class="rst-literal-block">
from flask import stream_with_context, request, Response

@app.route('/stream')
def streamed_response():
    @stream_with_context
    def generate():
        yield 'Hello '
        yield request.args['name']
        yield '!'
    return Response(generate())
</pre>
<p>Alternatively it can also be used around a specific generator:</p>
<pre class="rst-literal-block">
from flask import stream_with_context, request, Response

@app.route('/stream')
def streamed_response():
    def generate():
        yield 'Hello '
        yield request.args['name']
        yield '!'
    return Response(stream_with_context(generate()))
</pre>
<div class="rst-versionadded">
<span class="rst-versionmodified rst-added">New in version 0.9.</span></div>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">generator​_or​_function:</span><code><a href="https://docs.python.org/3/library/typing.html#typing.Union" class="intersphinx-link">t.Union</a>[<wbr></wbr><a href="https://docs.python.org/3/library/typing.html#typing.Iterator" class="intersphinx-link">t.Iterator</a>[<wbr></wbr><a href="https://docs.python.org/3/library/typing.html#typing.AnyStr" class="intersphinx-link">t.AnyStr</a>], <wbr></wbr><a href="https://docs.python.org/3/library/typing.html#typing.Callable" class="intersphinx-link">t.Callable</a>[<wbr></wbr><span class="rst-variable-ellipsis">...</span>, <wbr></wbr><a href="https://docs.python.org/3/library/typing.html#typing.Iterator" class="intersphinx-link">t.Iterator</a>[<wbr></wbr><a href="https://docs.python.org/3/library/typing.html#typing.AnyStr" class="intersphinx-link">t.AnyStr</a>]]]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="https://docs.python.org/3/library/typing.html#typing.Iterator" class="intersphinx-link">t.Iterator</a>[<wbr></wbr><a href="https://docs.python.org/3/library/typing.html#typing.AnyStr" class="intersphinx-link">t.AnyStr</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="flask.helpers.total_seconds">
    
  </a>
  <a name="total_seconds">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">total_seconds</span>(td):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/flask-2.0.3//src/flask/helpers.py#L788">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Returns the total seconds from a timedelta object.</p>
<div class="rst-deprecated">
<span class="rst-versionmodified rst-deprecated">Deprecated since version 2.0: </span><span>Will be removed in Flask 2.1. Use
<code><a href="https://docs.python.org/3/library/datetime.html#datetime.timedelta.total_seconds" class="intersphinx-link">timedelta.total_seconds</a></code> instead.</span></div>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">td:</span><code><a href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" class="intersphinx-link">timedelta</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">timedelta td</span></td><td class="fieldArgDesc">the timedelta to be converted in seconds</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">int</td><td class="fieldArgDesc">number of seconds</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="flask.helpers.url_for">
    
  </a>
  <a name="url_for">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">url_for</span>(endpoint, **values):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/flask-2.0.3//src/flask/helpers.py#L194">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Generates a URL to the given endpoint with the method provided.</p>
<p>Variable arguments that are unknown to the target endpoint are appended
to the generated URL as query arguments.  If the value of a query argument
is <tt class="rst-docutils literal">None</tt>, the whole pair is skipped.  In case blueprints are active
you can shortcut references to the same blueprint by prefixing the
local endpoint with a dot (<tt class="rst-docutils literal">.</tt>).</p>
<p>This will reference the index function local to the current blueprint:</p>
<pre class="rst-literal-block">
url_for('.index')
</pre>
<p>See <a href="#system-message-1"><span class="rst-problematic" id="rst-problematic-1">:ref:`url-building`</span></a>.</p>
<p>Configuration values <tt class="rst-docutils literal">APPLICATION_ROOT</tt> and <tt class="rst-docutils literal">SERVER_NAME</tt> are only used when
generating URLs outside of a request context.</p>
<p>To integrate applications, <code><a href="flask.app.Flask.html" class="internal-link" title="flask.app.Flask">Flask</a></code> has a hook to intercept URL build
errors through <code><a href="flask.app.Flask.html#url_build_error_handlers" class="internal-link" title="flask.app.Flask.url_build_error_handlers">Flask.url_build_error_handlers</a></code>.  The <code><a href="#url_for" class="internal-link" title="flask.helpers.url_for">url_for</a></code>
function results in a <code>~werkzeug.routing.BuildError</code> when the current
app does not have a URL for the given endpoint and values.  When it does, the
<code>~flask.current_app</code> calls its <code>~Flask.url_build_error_handlers</code> if
it is not <tt class="rst-docutils literal">None</tt>, which can return a string to use as the result of
<code><a href="#url_for" class="internal-link" title="flask.helpers.url_for">url_for</a></code> (instead of <code><a href="#url_for" class="internal-link" title="flask.helpers.url_for">url_for</a></code>'s default to raise the
<code>~werkzeug.routing.BuildError</code> exception) or re-raise the exception.
An example:</p>
<pre class="rst-literal-block">
def external_url_handler(error, endpoint, values):
    "Looks up an external URL when `url_for` cannot build a URL."
    # This is an example of hooking the build_error_handler.
    # Here, lookup_url is some utility function you've built
    # which looks up the endpoint in some external URL registry.
    url = lookup_url(endpoint, **values)
    if url is None:
        # External lookup did not have a URL.
        # Re-raise the BuildError, in context of original traceback.
        exc_type, exc_value, tb = sys.exc_info()
        if exc_value is error:
            raise exc_type(exc_value).with_traceback(tb)
        else:
            raise error
    # url_for will use this result, instead of raising BuildError.
    return url

app.url_build_error_handlers.append(external_url_handler)
</pre>
<p>Here, <code>error</code> is the instance of <code>~werkzeug.routing.BuildError</code>, and
<code>endpoint</code> and <code>values</code> are the arguments passed into <code><a href="#url_for" class="internal-link" title="flask.helpers.url_for">url_for</a></code>.  Note
that this is for building URLs outside the current application, and not for
handling 404 NotFound errors.</p>
<div class="rst-versionadded">
<span class="rst-versionmodified rst-added">New in version 0.10: </span><span>The <code>_scheme</code> parameter was added.</span></div>
<div class="rst-versionadded">
<span class="rst-versionmodified rst-added">New in version 0.9: </span><span>The <code>_anchor</code> and <code>_method</code> parameters were added.</span></div>
<div class="rst-versionadded">
<span class="rst-versionmodified rst-added">New in version 0.9: </span><span>Calls <code>Flask.handle_build_error</code> on
<code>~werkzeug.routing.BuildError</code>.</span></div>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">endpoint:</span><code><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a></code></td><td class="fieldArgDesc">the endpoint of the URL (name of the function)</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">**values:</span><code><a href="https://docs.python.org/3/library/typing.html#typing.Any" class="intersphinx-link">t.Any</a></code></td><td class="fieldArgDesc">the variable arguments of the URL rule</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">​_external</span></td><td class="fieldArgDesc">if set to <tt class="rst-docutils literal">True</tt>, an absolute URL is generated. Server
address can be changed via <tt class="rst-docutils literal">SERVER_NAME</tt> configuration variable which
falls back to the <code>Host</code> header, then to the IP and port of the request.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">​_scheme</span></td><td class="fieldArgDesc">a string specifying the desired URL scheme. The <code>_external</code>
parameter must be set to <tt class="rst-docutils literal">True</tt> or a <code><a href="https://docs.python.org/3/library/exceptions.html#ValueError" class="intersphinx-link">ValueError</a></code> is raised. The default
behavior uses the same scheme as the current request, or
<code>PREFERRED_URL_SCHEME</code> if no request context is available.
This also can be set to an empty string to build protocol-relative
URLs.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">​_anchor</span></td><td class="fieldArgDesc">if provided this is added as anchor to the URL.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">​_method</span></td><td class="fieldArgDesc">if provided this explicitly specifies an HTTP method.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="flask.helpers._prepare_send_file_kwargs">
    
  </a>
  <a name="_prepare_send_file_kwargs">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_prepare_send_file_kwargs</span>(download_name=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>, attachment_filename=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>, etag=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>, add_etags=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>, max_age=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>, cache_timeout=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>, **kwargs):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/flask-2.0.3//src/flask/helpers.py#L442">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">download​_name:</span><code><a href="https://docs.python.org/3/library/typing.html#typing.Optional" class="intersphinx-link">t.Optional</a>[<wbr></wbr><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">attachment​_filename:</span><code><a href="https://docs.python.org/3/library/typing.html#typing.Optional" class="intersphinx-link">t.Optional</a>[<wbr></wbr><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">etag:</span><code><a href="https://docs.python.org/3/library/typing.html#typing.Optional" class="intersphinx-link">t.Optional</a>[<wbr></wbr><a href="https://docs.python.org/3/library/typing.html#typing.Union" class="intersphinx-link">t.Union</a>[<wbr></wbr><a href="https://docs.python.org/3/library/functions.html#bool" class="intersphinx-link">bool</a>, <wbr></wbr><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a>]]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">add​_etags:</span><code><a href="https://docs.python.org/3/library/typing.html#typing.Optional" class="intersphinx-link">t.Optional</a>[<wbr></wbr><a href="https://docs.python.org/3/library/typing.html#typing.Union" class="intersphinx-link">t.Union</a>[<wbr></wbr><a href="https://docs.python.org/3/library/functions.html#bool" class="intersphinx-link">bool</a>]]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">max​_age:</span><code><a href="https://docs.python.org/3/library/typing.html#typing.Optional" class="intersphinx-link">t.Optional</a>[<wbr></wbr><a href="https://docs.python.org/3/library/typing.html#typing.Union" class="intersphinx-link">t.Union</a>[<wbr></wbr><a href="https://docs.python.org/3/library/functions.html#int" class="intersphinx-link">int</a>, <wbr></wbr><a href="https://docs.python.org/3/library/typing.html#typing.Callable" class="intersphinx-link">t.Callable</a>[<wbr></wbr>[<wbr></wbr><a href="https://docs.python.org/3/library/typing.html#typing.Optional" class="intersphinx-link">t.Optional</a>[<wbr></wbr><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a>]], <wbr></wbr><a href="https://docs.python.org/3/library/typing.html#typing.Optional" class="intersphinx-link">t.Optional</a>[<wbr></wbr><a href="https://docs.python.org/3/library/functions.html#int" class="intersphinx-link">int</a>]]]]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">cache​_timeout:</span><code><a href="https://docs.python.org/3/library/typing.html#typing.Optional" class="intersphinx-link">t.Optional</a>[<wbr></wbr><a href="https://docs.python.org/3/library/functions.html#int" class="intersphinx-link">int</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">**kwargs:</span><code><a href="https://docs.python.org/3/library/typing.html#typing.Any" class="intersphinx-link">t.Any</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="https://docs.python.org/3/library/typing.html#typing.Dict" class="intersphinx-link">t.Dict</a>[<wbr></wbr><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a>, <wbr></wbr><a href="https://docs.python.org/3/library/typing.html#typing.Any" class="intersphinx-link">t.Any</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="flask.helpers._split_blueprint_path">
    
  </a>
  <a name="_split_blueprint_path">
    
  </a>
  <div class="functionHeader">
    @<a href="https://docs.python.org/3/library/functools.html#functools.lru_cache" class="intersphinx-link">lru_cache</a>(<wbr></wbr>maxsize=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>)<br />
    <span class="py-keyword">def</span> <span class="py-defname">_split_blueprint_path</span>(name):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/flask-2.0.3//src/flask/helpers.py#L829">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">name:</span><code><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="https://docs.python.org/3/library/typing.html#typing.List" class="intersphinx-link">t.List</a>[<wbr></wbr><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div>

      </div>
    </div>

    <footer class="navbar navbar-default">
  
  <div class="container">
    <a href="index.html">API Documentation</a> for flask,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    22.2.0 at 2022-02-23 08:14:52.
  </div>
</footer>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>