<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>flask.ctx</title>
    <meta name="generator" content="pydoctor 22.3.0.dev0"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1 maximum-scale=1" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    <div id="banner">    
    <div>
        <a href="/">Home</a>
        &gt; flask-2.0.3 <!-- This is a placeholder -->
        
        <!-- (<a href=""&gt;show all versions</a&gt;) -->
    </div>
</div>

    <nav class="navbar navbar-default">
  
  <div class="container">

    <div class="navbar-header">
      
      <div class="navlinks">
        <span class="navbar-brand">
          flask <a href="index.html">API Documentation</a>
        </span>

        <a href="moduleIndex.html">
          Modules
        </a>

        <a href="classIndex.html">
          Classes
        </a>

        <a href="nameIndex.html">
          Names
        </a>

        <div id="search-box-container">
          <div class="input-group">
            <input id="search-box" type="search" name="search-query" placeholder="Search..." aria-label="Search" minlength="2" class="form-control" autocomplete="off" />
            
            <span class="input-group-btn">
              <a style="display: none;" class="btn btn-default" id="search-clear-button" title="Clear" onclick="clearSearch()"><img src="fonts/x-circle.svg" alt="Clear" /></a>
              <a class="btn btn-default" id="search-help-button" title="Help" onclick="toggleSearchHelpText()"><img src="fonts/info.svg" alt="Help" /></a>
            </span>
          </div>
        </div>

      </div>

      <div id="search-results-container" style="display: none;">
        
        <div id="search-buttons">
          <span class="label label-default" id="search-docstrings-button">
          <label class="checkbox-inline">
            <input type="checkbox" id="toggle-search-in-docstrings-checkbox" value="false" onclick="toggleSearchInDocstrings()">
              search in docstrings
            </input>
          </label>
          </span>
          
        </div>
        
        <noscript>
            <h1>Cannot search: JavaScript is not supported/enabled in your browser.</h1>
        </noscript>

        <div class="hint" id="search-help-box">
          <p class="rst-last">
      
            Search bar offers the following options:
            <ul>   
                <li>
                  <strong>Term presence.</strong> The below example searches for documents that 
                    must contain “foo”, might contain “bar” and must not contain “baz”: <code>+foo bar -baz</code>
                </li> 

                <li>
                  <strong>Wildcards.</strong> The below example searches for documents with words beginning with “foo”: <code>foo*</code>
                </li> 

                <li>
                  <strong>Search in specific fields.</strong> The following search matches all objects 
                  in "twisted.mail" that matches “search”: <code>+qname:twisted.mail.* +search</code>

                  <p>
                    Possible fields: 'name', 'qname' (fully qualified name), 'docstring', and 'kind'.
                    Last two fields are only applicable if "search in docstrings" is enabled.
                  </p>
                </li>

                <li>
                  <strong>Fuzzy matches.</strong> The following search matches all documents 
                  that have a word within 1 edit distance of “foo”: <code>foo~1</code>
                </li>
            </ul>

          </p>
        </div>

        <div id="search-status"> </div>

        <div class="warning" id="search-warn-box" style="display: none;">
          <p class="rst-last"><span id="search-warn"></span></p>
        </div>

        <table id="search-results">
          <!-- Filled dynamically by JS -->
        </table>
        
        <div style="margin-top: 8px;">
          <p>Results provided by <a href="https://lunrjs.com">Lunr.js</a></p>
        </div>
      </div>

    </div>
  </div>
</nav>

    

    <div class="container">

      <div class="page-header">
        <h1 class="module"><code><code><a href="index.html" class="internal-link">flask</a></code><wbr></wbr>.<code><a href="flask.ctx.html" class="internal-link" title="flask.ctx">ctx</a></code></code></h1>
        <div id="showPrivate">
          <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
        </div>
      </div>

      <div class="categoryHeader">
        module documentation
      </div>

      <div class="extrasDocstring">
        <a href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/flask-2.0.3//src/flask/ctx.py" class="sourceLink">(source)</a>
        <p></p>
      </div>

      <div class="moduleDocstring">
        <div><p class="undocumented">Undocumented</p></div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id10269">
  
  
  <tr class="class">
    
    <td>Class</td>
    <td><code><a href="flask.ctx.AppContext.html" class="internal-link" title="flask.ctx.AppContext">​App​Context</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="flask.ctx.RequestContext.html" class="internal-link" title="flask.ctx.RequestContext">​Request​Context</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#after_this_request" class="internal-link" title="flask.ctx.after_this_request">after​_this​_request</a></code></td>
    <td>Executes a function after this request.  This is useful to modify response objects.  The function is passed the response object and has to return the same or a new one.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#copy_current_request_context" class="internal-link" title="flask.ctx.copy_current_request_context">copy​_current​_request​_context</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#has_app_context" class="internal-link" title="flask.ctx.has_app_context">has​_app​_context</a></code></td>
    <td>Works like :func:`has_request_context` but for the application context.  You can also just do a boolean check on the :data:`current_app` object instead.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#has_request_context" class="internal-link" title="flask.ctx.has_request_context">has​_request​_context</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="class private">
    
    <td>Class</td>
    <td><code><a href="flask.ctx._AppCtxGlobals.html" class="internal-link" title="flask.ctx._AppCtxGlobals">_​App​Ctx​Globals</a></code></td>
    <td>A plain object. Used as a namespace for storing data during an application context.</td>
  </tr><tr class="variable private">
    
    <td>Variable</td>
    <td><code><a href="#_sentinel" class="internal-link" title="flask.ctx._sentinel">_sentinel</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="basefunction">
  
  
  <a name="flask.ctx.after_this_request">
    
  </a>
  <a name="after_this_request">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">after_this_request</span>(f):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/flask-2.0.3//src/flask/ctx.py#L112">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Executes a function after this request.  This is useful to modify response objects.  The function is passed the response object and has to return the same or a new one.</p>
<p>Example:</p>
<pre class="rst-literal-block">
    @app.route('/')
    def index():
        @after_this_request
        def add_header(response):
            response.headers['X-Foo'] = 'Parachute'
            return response
        return 'Hello World!'
</pre>
<p>This is more useful if a function other than the view function wants to modify a response.  For instance think of a decorator that wants to add some headers without converting the return value into a response object.</p>
<p>.. versionadded:: 0.9</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">f:</span><code><a href="flask.typing.html#AfterRequestCallable" class="internal-link" title="flask.typing.AfterRequestCallable">AfterRequestCallable</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="flask.typing.html#AfterRequestCallable" class="internal-link" title="flask.typing.AfterRequestCallable">AfterRequestCallable</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="flask.ctx.copy_current_request_context">
    
  </a>
  <a name="copy_current_request_context">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">copy_current_request_context</span>(f):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/flask-2.0.3//src/flask/ctx.py#L145">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>A helper function that decorates a function to retain the current request context.  This is useful when working with greenlets.  The moment the function is decorated a copy of the request context is created and then pushed when the function is called.  The current session is also included in the copied request context.</p>
<p>Example:</p>
<pre class="rst-literal-block">
    import gevent
    from flask import copy_current_request_context

    @app.route('/')
    def index():
        @copy_current_request_context
        def do_some_work():
            # do some work here, it can access flask.request or
            # flask.session like you would otherwise in the view function.
            ...
        gevent.spawn(do_some_work)
        return 'Regular response'
</pre>
<p>.. versionadded:: 0.10</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">f:</span><code><a href="https://docs.python.org/3/library/typing.html#typing.Callable" class="intersphinx-link">t.Callable</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="https://docs.python.org/3/library/typing.html#typing.Callable" class="intersphinx-link">t.Callable</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="flask.ctx.has_app_context">
    
  </a>
  <a name="has_app_context">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">has_app_context</span>():
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/flask-2.0.3//src/flask/ctx.py#L218">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Works like :func:`has_request_context` but for the application context.  You can also just do a boolean check on the :data:`current_app` object instead.</p>
<p>.. versionadded:: 0.9</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="https://docs.python.org/3/library/functions.html#bool" class="intersphinx-link">bool</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="flask.ctx.has_request_context">
    
  </a>
  <a name="has_request_context">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">has_request_context</span>():
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/flask-2.0.3//src/flask/ctx.py#L186">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>If you have code that wants to test if a request context is there or not this function can be used.  For instance, you may want to take advantage of request information if the request object is available, but fail silently if it is unavailable.</p>
<p>:</p>
<pre class="rst-literal-block">
    class User(db.Model):

        def __init__(self, username, remote_addr=None):
            self.username = username
            if remote_addr is None and has_request_context():
                remote_addr = request.remote_addr
            self.remote_addr = remote_addr
</pre>
<p>Alternatively you can also just test any of the context bound objects (such as :class:`request` or :class:`g`) for truthness:</p>
<pre class="rst-literal-block">
    class User(db.Model):

        def __init__(self, username, remote_addr=None):
            self.username = username
            if remote_addr is None and request:
                remote_addr = request.remote_addr
            self.remote_addr = remote_addr
</pre>
<p>.. versionadded:: 0.7</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="https://docs.python.org/3/library/functions.html#bool" class="intersphinx-link">bool</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basevariable private">
  
  
  <a name="flask.ctx._sentinel">
    
  </a>
  <a name="_sentinel">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_sentinel</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/flask-2.0.3//src/flask/ctx.py#L21">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div>

      </div>
    </div>

    <footer class="navbar navbar-default">

  
  <div class="container">
    <a href="index.html">API Documentation</a> for flask,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    22.3.0.dev0 at 2022-03-22 17:11:51.
  </div>

  <!-- Search related scripts needs to be loaded at the end of HTML 
    parsing not to introduce overhead and display HTML data asap -->
  <script src="ajax.js" type="text/javascript"></script>
  <script src="searchlib.js" type="text/javascript"></script>
  <script src="search.js" type="text/javascript"></script>

</footer>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>