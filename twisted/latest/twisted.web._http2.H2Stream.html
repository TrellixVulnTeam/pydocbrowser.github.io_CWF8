<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>twisted.web._http2.H2Stream</title>
    <meta name="generator" content="pydoctor 22.2.0"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=0.75" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    <div id="banner">    
    <div>
        <a href="/">Home</a>
        &gt; twisted-22.1.0 <!-- This is a placeholder -->
        
        <!-- (<a href=""&gt;show all versions</a&gt;) -->
    </div>
</div>

    <nav class="navbar navbar-default">
  
  <div class="container">

    <div class="navbar-header">
      
      <div class="navlinks">
          <span class="navbar-brand">
            twisted <a href="index.html">API Documentation</a>
          </span>

          <a href="moduleIndex.html">
            Modules
          </a>

          <a href="classIndex.html">
            Classes
          </a>

          <a href="nameIndex.html">
            Names
          </a>
      </div>

    </div>
  </div>
</nav>

    

    <div class="container">

      <div class="page-header">
        <h1 class="class"><code><code><a href="index.html" class="internal-link">twisted</a></code><wbr></wbr>.<code><a href="twisted.web.html" class="internal-link" title="twisted.web">web</a></code><wbr></wbr>.<code><a href="twisted.web._http2.html" class="internal-link" title="twisted.web._http2">_http2</a></code><wbr></wbr>.<code><a href="twisted.web._http2.H2Stream.html" class="internal-link" title="twisted.web._http2.H2Stream">H2Stream</a></code></code></h1>
        <div id="showPrivate">
          <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
        </div>
      </div>

      <div class="categoryHeader">
        class documentation
      </div>

      <div class="extrasDocstring">
        <p><code><span class="py-keyword">class</span> <span class="py-defname">H2Stream</span>: <a href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/_http2.py#L840" class="sourceLink">(source)</a></code></p><p>Implements interfaces: <code><a href="twisted.internet.interfaces.IConsumer.html" class="internal-link">twisted.internet.interfaces.IConsumer</a></code>, <code><a href="twisted.internet.interfaces.IPushProducer.html" class="internal-link">twisted.internet.interfaces.IPushProducer</a></code>, <code><a href="twisted.internet.interfaces.ITransport.html" class="internal-link">twisted.internet.interfaces.ITransport</a></code></p>
        <p><a href="classIndex.html#twisted.web._http2.H2Stream">View In Hierarchy</a></p>
      </div>

      <div class="moduleDocstring">
        <div><p>A class representing a single HTTP/2 stream.</p>
<p>This class works hand-in-hand with L{H2Connection}. It acts to provide an
implementation of L{ITransport}, L{IConsumer}, and L{IProducer} that work
for a single HTTP/2 connection, while tightly cleaving to the interface
provided by those interfaces. It does this by having a tight coupling to
L{H2Connection}, which allows associating many of the functions of
L{ITransport}, L{IConsumer}, and L{IProducer} to objects on a
stream-specific level.</p>
<p>@ivar streamID: The numerical stream ID that this object corresponds to.
@type streamID: L{int}</p>
<dl class="rst-docutils">
<dt>@ivar producing: Whether this stream is currently allowed to produce data</dt>
<dd>to its consumer.</dd>
</dl>
<p>@type producing: L{bool}</p>
<p>@ivar command: The HTTP verb used on the request.
@type command: L{unicode}</p>
<p>@ivar path: The HTTP path used on the request.
@type path: L{unicode}</p>
<p>@ivar producer: The object producing the response, if any.
@type producer: L{IProducer}</p>
<dl class="rst-docutils">
<dt>@ivar site: The L{twisted.web.server.Site} object this stream belongs to,</dt>
<dd>if any.</dd>
</dl>
<p>@type site: L{twisted.web.server.Site}</p>
<dl class="rst-docutils">
<dt>@ivar factory: The L{twisted.web.http.HTTPFactory} object that constructed</dt>
<dd>this stream's parent connection.</dd>
</dl>
<p>@type factory: L{twisted.web.http.HTTPFactory}</p>
<dl class="rst-docutils">
<dt>@ivar _producerProducing: Whether the producer stored in producer is</dt>
<dd>currently producing data.</dd>
</dl>
<p>@type _producerProducing: L{bool}</p>
<dl class="rst-docutils">
<dt>@ivar _inboundDataBuffer: Any data that has been received from the network</dt>
<dd>but has not yet been received by the consumer.</dd>
</dl>
<p>@type _inboundDataBuffer: A L{collections.deque} containing L{bytes}</p>
<p>@ivar _conn: A reference to the connection this stream belongs to.
@type _conn: L{H2Connection}</p>
<p>@ivar _request: A request object that this stream corresponds to.
@type _request: L{twisted.web.iweb.IRequest}</p>
<dl class="rst-docutils">
<dt>@ivar _buffer: A buffer containing data produced by the producer that could</dt>
<dd>not be sent on the network at this time.</dd>
</dl>
<p>@type _buffer: L{io.BytesIO}</p>
</div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id11842">
  
  
  <tr class="method">
    
    <td>Method</td>
    <td><code><a href="#__init__" class="internal-link" title="twisted.web._http2.H2Stream.__init__">__init__</a></code></td>
    <td>Initialize this HTTP/2 stream.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#abortConnection" class="internal-link" title="twisted.web._http2.H2Stream.abortConnection">abort​Connection</a></code></td>
    <td>Forcefully abort the connection by sending a RstStream frame.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#connectionLost" class="internal-link" title="twisted.web._http2.H2Stream.connectionLost">connection​Lost</a></code></td>
    <td>Called by the L{H2Connection} when a connection is lost or a stream is reset.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#flowControlBlocked" class="internal-link" title="twisted.web._http2.H2Stream.flowControlBlocked">flow​Control​Blocked</a></code></td>
    <td>Called by the L{H2Connection} when this stream's flow control window has been exhausted.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#getHost" class="internal-link" title="twisted.web._http2.H2Stream.getHost">get​Host</a></code></td>
    <td>Similar to getPeer, but for this side of the connection.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#getPeer" class="internal-link" title="twisted.web._http2.H2Stream.getPeer">get​Peer</a></code></td>
    <td>Get information about the peer.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#isSecure" class="internal-link" title="twisted.web._http2.H2Stream.isSecure">is​Secure</a></code></td>
    <td>Returns L{True} if this channel is using a secure transport.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#loseConnection" class="internal-link" title="twisted.web._http2.H2Stream.loseConnection">lose​Connection</a></code></td>
    <td>Close the connection after writing all pending data.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#pauseProducing" class="internal-link" title="twisted.web._http2.H2Stream.pauseProducing">pause​Producing</a></code></td>
    <td>@see: L{IPushProducer.pauseProducing}</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#receiveDataChunk" class="internal-link" title="twisted.web._http2.H2Stream.receiveDataChunk">receive​Data​Chunk</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#registerProducer" class="internal-link" title="twisted.web._http2.H2Stream.registerProducer">register​Producer</a></code></td>
    <td>Register to receive data from a producer.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#requestComplete" class="internal-link" title="twisted.web._http2.H2Stream.requestComplete">request​Complete</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#requestDone" class="internal-link" title="twisted.web._http2.H2Stream.requestDone">request​Done</a></code></td>
    <td>Called by a consumer to clean up whatever permanent state is in use.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#resumeProducing" class="internal-link" title="twisted.web._http2.H2Stream.resumeProducing">resume​Producing</a></code></td>
    <td>@see: L{IPushProducer.resumeProducing}</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#stopProducing" class="internal-link" title="twisted.web._http2.H2Stream.stopProducing">stop​Producing</a></code></td>
    <td>@see: L{IProducer.stopProducing}</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#unregisterProducer" class="internal-link" title="twisted.web._http2.H2Stream.unregisterProducer">unregister​Producer</a></code></td>
    <td>@see: L{IConsumer.unregisterProducer}</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#windowUpdated" class="internal-link" title="twisted.web._http2.H2Stream.windowUpdated">window​Updated</a></code></td>
    <td>Called by the L{H2Connection} when this stream's flow control window has been opened.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#write" class="internal-link" title="twisted.web._http2.H2Stream.write">write</a></code></td>
    <td>Write a single chunk of data into a data frame.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#writeHeaders" class="internal-link" title="twisted.web._http2.H2Stream.writeHeaders">write​Headers</a></code></td>
    <td>Called by the consumer to write headers to the stream.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#writeSequence" class="internal-link" title="twisted.web._http2.H2Stream.writeSequence">write​Sequence</a></code></td>
    <td>Write a sequence of chunks of data into data frames.</td>
  </tr><tr class="classvariable">
    
    <td>Class Variable</td>
    <td><code><a href="#transport" class="internal-link" title="twisted.web._http2.H2Stream.transport">transport</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#command" class="internal-link" title="twisted.web._http2.H2Stream.command">command</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#factory" class="internal-link" title="twisted.web._http2.H2Stream.factory">factory</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#hasStreamingProducer" class="internal-link" title="twisted.web._http2.H2Stream.hasStreamingProducer">has​Streaming​Producer</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#path" class="internal-link" title="twisted.web._http2.H2Stream.path">path</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#producer" class="internal-link" title="twisted.web._http2.H2Stream.producer">producer</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#producing" class="internal-link" title="twisted.web._http2.H2Stream.producing">producing</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#site" class="internal-link" title="twisted.web._http2.H2Stream.site">site</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#streamID" class="internal-link" title="twisted.web._http2.H2Stream.streamID">stream​ID</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_convertHeaders" class="internal-link" title="twisted.web._http2.H2Stream._convertHeaders">_convert​Headers</a></code></td>
    <td>This method converts the HTTP/2 header set into something that looks like HTTP/1.1. In particular, it strips the 'special' headers and adds a Host: header.</td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_respondToBadRequestAndDisconnect" class="internal-link" title="twisted.web._http2.H2Stream._respondToBadRequestAndDisconnect">_respond​To​Bad​Request​And​Disconnect</a></code></td>
    <td>This is a quick and dirty way of responding to bad requests.</td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_send100Continue" class="internal-link" title="twisted.web._http2.H2Stream._send100Continue">_send100​Continue</a></code></td>
    <td>Sends a 100 Continue response, used to signal to clients that further processing will be performed.</td>
  </tr><tr class="instancevariable private">
    
    <td>Instance Variable</td>
    <td><code><a href="#_buffer" class="internal-link" title="twisted.web._http2.H2Stream._buffer">​_buffer</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable private">
    
    <td>Instance Variable</td>
    <td><code><a href="#_conn" class="internal-link" title="twisted.web._http2.H2Stream._conn">​_conn</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable private">
    
    <td>Instance Variable</td>
    <td><code><a href="#_hasStreamingProducer" class="internal-link" title="twisted.web._http2.H2Stream._hasStreamingProducer">_has​Streaming​Producer</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable private">
    
    <td>Instance Variable</td>
    <td><code><a href="#_inboundDataBuffer" class="internal-link" title="twisted.web._http2.H2Stream._inboundDataBuffer">_inbound​Data​Buffer</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable private">
    
    <td>Instance Variable</td>
    <td><code><a href="#_producerProducing" class="internal-link" title="twisted.web._http2.H2Stream._producerProducing">_producer​Producing</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable private">
    
    <td>Instance Variable</td>
    <td><code><a href="#_request" class="internal-link" title="twisted.web._http2.H2Stream._request">​_request</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="basemethod">
  
  
  <a name="twisted.web._http2.H2Stream.__init__">
    
  </a>
  <a name="__init__">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">__init__</span>(self, streamID, connection, headers, requestFactory, site, factory):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/_http2.py#L900">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Initialize this HTTP/2 stream.</p>
<dl class="rst-docutils">
<dt>@param streamID: The numerical stream ID that this object corresponds</dt>
<dd>to.</dd>
</dl>
<p>@type streamID: L{int}</p>
<p>@param connection: The HTTP/2 connection this stream belongs to.
@type connection: L{H2Connection}</p>
<p>@param headers: The HTTP/2 request headers.
@type headers: A L{list} of L{tuple}s of header name and header value,</p>
<blockquote>
both as L{bytes}.</blockquote>
<dl class="rst-docutils">
<dt>@param requestFactory: A function that builds appropriate request</dt>
<dd>request objects.</dd>
<dt>@type requestFactory: A callable that returns a</dt>
<dd>L{twisted.web.iweb.IRequest}.</dd>
<dt>@param site: The L{twisted.web.server.Site} object this stream belongs</dt>
<dd>to, if any.</dd>
</dl>
<p>@type site: L{twisted.web.server.Site}</p>
<dl class="rst-docutils">
<dt>@param factory: The L{twisted.web.http.HTTPFactory} object that</dt>
<dd>constructed this stream's parent connection.</dd>
</dl>
<p>@type factory: L{twisted.web.http.HTTPFactory}</p>
</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.web._http2.H2Stream.abortConnection">
    
  </a>
  <a name="abortConnection">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">abortConnection</span>(self):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/_http2.py#L1138">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Forcefully abort the connection by sending a RstStream frame.</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.web._http2.H2Stream.connectionLost">
    
  </a>
  <a name="connectionLost">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">connectionLost</span>(self, reason):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/_http2.py#L1014">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Called by the L{H2Connection} when a connection is lost or a stream is
reset.</p>
<p>@param reason: The reason the connection was lost.
@type reason: L{str}</p>
</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.web._http2.H2Stream.flowControlBlocked">
    
  </a>
  <a name="flowControlBlocked">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">flowControlBlocked</span>(self):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/_http2.py#L1049">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Called by the L{H2Connection} when this stream's flow control window
has been exhausted.</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.web._http2.H2Stream.getHost">
    
  </a>
  <a name="getHost">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">getHost</span>(self):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/_http2.py#L1150">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">from <code><a href="twisted.internet.interfaces.ITransport.html#getHost" class="internal-link" title="twisted.internet.interfaces.ITransport.getHost">twisted.internet.interfaces.ITransport</a></code></div>
    
    <div>Similar to getPeer, but for this side of the connection.</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.web._http2.H2Stream.getPeer">
    
  </a>
  <a name="getPeer">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">getPeer</span>(self):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/_http2.py#L1144">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">from <code><a href="twisted.internet.interfaces.ITransport.html#getPeer" class="internal-link" title="twisted.internet.interfaces.ITransport.getPeer">twisted.internet.interfaces.ITransport</a></code></div>
    
    <div>Get information about the peer.</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.web._http2.H2Stream.isSecure">
    
  </a>
  <a name="isSecure">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">isSecure</span>(self):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/_http2.py#L1156">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Returns L{True} if this channel is using a secure transport.</p>
<p>@returns: L{True} if this channel is secure.
@rtype: L{bool}</p>
</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.web._http2.H2Stream.loseConnection">
    
  </a>
  <a name="loseConnection">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">loseConnection</span>(self):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/_http2.py#L1132">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">from <code><a href="twisted.internet.interfaces.ITransport.html#loseConnection" class="internal-link" title="twisted.internet.interfaces.ITransport.loseConnection">twisted.internet.interfaces.ITransport</a></code></div>
    
    <div>Close the connection after writing all pending data.</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.web._http2.H2Stream.pauseProducing">
    
  </a>
  <a name="pauseProducing">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">pauseProducing</span>(self):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/_http2.py#L1229">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">from <code><a href="twisted.internet.interfaces.IPushProducer.html#pauseProducing" class="internal-link" title="twisted.internet.interfaces.IPushProducer.pauseProducing">twisted.internet.interfaces.IPushProducer</a></code></div>
    
    <div>@see: L{IPushProducer.pauseProducing}</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.web._http2.H2Stream.receiveDataChunk">
    
  </a>
  <a name="receiveDataChunk">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">receiveDataChunk</span>(self, data, flowControlledLength):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/_http2.py#L980">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Called when the connection has received a chunk of data from the
underlying transport. If the stream has been registered with a
consumer, and is currently able to push data, immediately passes it
through. Otherwise, buffers the chunk until we can start producing.</p>
<p>@param data: The chunk of data that was received.
@type data: L{bytes}</p>
<dl class="rst-docutils">
<dt>@param flowControlledLength: The total flow controlled length of this</dt>
<dd>chunk, which is used when we want to re-open the window. May be
different to C{len(data)}.</dd>
</dl>
<p>@type flowControlledLength: L{int}</p>
</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.web._http2.H2Stream.registerProducer">
    
  </a>
  <a name="registerProducer">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">registerProducer</span>(self, producer, streaming):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/_http2.py#L1166">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">from <code><a href="twisted.internet.interfaces.IConsumer.html#registerProducer" class="internal-link" title="twisted.internet.interfaces.IConsumer.registerProducer">twisted.internet.interfaces.IConsumer</a></code></div>
    
    <div><p>Register to receive data from a producer.</p>
<p>This sets self to be a consumer for a producer.  When this object runs
out of data (as when a send(2) call on a socket succeeds in moving the
last data from a userspace buffer into a kernelspace buffer), it will
ask the producer to resumeProducing().</p>
<p>For L{IPullProducer} providers, C{resumeProducing} will be called once
each time data is required.</p>
<p>For L{IPushProducer} providers, C{pauseProducing} will be called
whenever the write buffer fills up and C{resumeProducing} will only be
called when it empties.</p>
<p>@param producer: The producer to register.
@type producer: L{IProducer} provider</p>
<p>@param streaming: L{True} if C{producer} provides L{IPushProducer},
L{False} if C{producer} provides L{IPullProducer}.
@type streaming: L{bool}</p>
<p>@raise RuntimeError: If a producer is already registered.</p>
<p>@return: L{None}</p>
</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.web._http2.H2Stream.requestComplete">
    
  </a>
  <a name="requestComplete">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">requestComplete</span>(self):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/_http2.py#L1002">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Called by the L{H2Connection} when the all data for a request has been
received. Currently, with the legacy L{twisted.web.http.Request}
object, just calls requestReceived unless the producer wants us to be
quiet.</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.web._http2.H2Stream.requestDone">
    
  </a>
  <a name="requestDone">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">requestDone</span>(self, request):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/_http2.py#L1081">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Called by a consumer to clean up whatever permanent state is in use.</p>
<p>@param request: The request calling the method.
@type request: L{twisted.web.iweb.IRequest}</p>
</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.web._http2.H2Stream.resumeProducing">
    
  </a>
  <a name="resumeProducing">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">resumeProducing</span>(self):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/_http2.py#L1235">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">from <code><a href="twisted.internet.interfaces.IPushProducer.html#resumeProducing" class="internal-link" title="twisted.internet.interfaces.IPushProducer.resumeProducing">twisted.internet.interfaces.IPushProducer</a></code></div>
    
    <div>@see: L{IPushProducer.resumeProducing}</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.web._http2.H2Stream.stopProducing">
    
  </a>
  <a name="stopProducing">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">stopProducing</span>(self):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/_http2.py#L1222">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">from <code><a href="twisted.internet.interfaces.IProducer.html#stopProducing" class="internal-link" title="twisted.internet.interfaces.IProducer.stopProducing">twisted.internet.interfaces.IProducer</a></code></div>
    
    <div>@see: L{IProducer.stopProducing}</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.web._http2.H2Stream.unregisterProducer">
    
  </a>
  <a name="unregisterProducer">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">unregisterProducer</span>(self):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/_http2.py#L1209">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">from <code><a href="twisted.internet.interfaces.IConsumer.html#unregisterProducer" class="internal-link" title="twisted.internet.interfaces.IConsumer.unregisterProducer">twisted.internet.interfaces.IConsumer</a></code></div>
    
    <div>@see: L{IConsumer.unregisterProducer}</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.web._http2.H2Stream.windowUpdated">
    
  </a>
  <a name="windowUpdated">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">windowUpdated</span>(self):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/_http2.py#L1024">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Called by the L{H2Connection} when this stream's flow control window
has been opened.</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.web._http2.H2Stream.write">
    
  </a>
  <a name="write">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">write</span>(self, data):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/_http2.py#L1112">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">from <code><a href="twisted.internet.interfaces.ITransport.html#write" class="internal-link" title="twisted.internet.interfaces.ITransport.write">twisted.internet.interfaces.ITransport</a></code></div>
    
    <div><p>Write a single chunk of data into a data frame.</p>
<p>@param data: The data chunk to send.
@type data: L{bytes}</p>
</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.web._http2.H2Stream.writeHeaders">
    
  </a>
  <a name="writeHeaders">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">writeHeaders</span>(self, version, code, reason, headers):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/_http2.py#L1062">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Called by the consumer to write headers to the stream.</p>
<p>@param version: The HTTP version.
@type version: L{bytes}</p>
<p>@param code: The status code.
@type code: L{int}</p>
<p>@param reason: The reason phrase. Ignored in HTTP/2.
@type reason: L{bytes}</p>
<p>@param headers: The HTTP response headers.
@type headers: Any iterable of two-tuples of L{bytes}, representing header</p>
<blockquote>
names and header values.</blockquote>
</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="twisted.web._http2.H2Stream.writeSequence">
    
  </a>
  <a name="writeSequence">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">writeSequence</span>(self, iovec):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/_http2.py#L1122">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">from <code><a href="twisted.internet.interfaces.ITransport.html#writeSequence" class="internal-link" title="twisted.internet.interfaces.ITransport.writeSequence">twisted.internet.interfaces.ITransport</a></code></div>
    
    <div><p>Write a sequence of chunks of data into data frames.</p>
<p>@param iovec: A sequence of chunks to send.
@type iovec: An iterable of L{bytes} chunks.</p>
</div>
  </div>
</div><div class="baseclassvariable">
  
  
  <a name="twisted.web._http2.H2Stream.transport">
    
  </a>
  <a name="transport">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">transport</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/_http2.py#L898">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="twisted.web._http2.H2Stream.command">
    
  </a>
  <a name="command">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">command</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/_http2.py#L933">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="twisted.web._http2.H2Stream.factory">
    
  </a>
  <a name="factory">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">factory</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/_http2.py#L931">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="twisted.web._http2.H2Stream.hasStreamingProducer">
    
  </a>
  <a name="hasStreamingProducer">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">hasStreamingProducer</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/_http2.py#L1200">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="twisted.web._http2.H2Stream.path">
    
  </a>
  <a name="path">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">path</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/_http2.py#L934">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="twisted.web._http2.H2Stream.producer">
    
  </a>
  <a name="producer">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">producer</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/_http2.py#L935">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="twisted.web._http2.H2Stream.producing">
    
  </a>
  <a name="producing">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">producing</span>: <code><a href="https://docs.python.org/3/library/functions.html#bool" class="intersphinx-link">bool</a></code> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/_http2.py#L932">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="twisted.web._http2.H2Stream.site">
    
  </a>
  <a name="site">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">site</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/_http2.py#L930">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="twisted.web._http2.H2Stream.streamID">
    
  </a>
  <a name="streamID">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">streamID</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/_http2.py#L929">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="basemethod private">
  
  
  <a name="twisted.web._http2.H2Stream._convertHeaders">
    
  </a>
  <a name="_convertHeaders">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_convertHeaders</span>(self, headers):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/_http2.py#L945">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>This method converts the HTTP/2 header set into something that looks
like HTTP/1.1. In particular, it strips the 'special' headers and adds
a Host: header.</p>
<p>@param headers: The HTTP/2 header set.
@type headers: A L{list} of L{tuple}s of header name and header value,</p>
<blockquote>
both as L{bytes}.</blockquote>
</div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="twisted.web._http2.H2Stream._respondToBadRequestAndDisconnect">
    
  </a>
  <a name="_respondToBadRequestAndDisconnect">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_respondToBadRequestAndDisconnect</span>(self):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/_http2.py#L1097">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>This is a quick and dirty way of responding to bad requests.</p>
<p>As described by HTTP standard we should be patient and accept the
whole request from the client before sending a polite bad request
response, even in the case when clients send tons of data.</p>
<p>Unlike in the HTTP/1.1 case, this does not actually disconnect the
underlying transport: there's no need. This instead just sends a 400
response and terminates the stream.</p>
</div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="twisted.web._http2.H2Stream._send100Continue">
    
  </a>
  <a name="_send100Continue">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_send100Continue</span>(self):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/_http2.py#L1090">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Sends a 100 Continue response, used to signal to clients that further
processing will be performed.</div>
  </div>
</div><div class="baseinstancevariable private">
  
  
  <a name="twisted.web._http2.H2Stream._buffer">
    
  </a>
  <a name="_buffer">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_buffer</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/_http2.py#L941">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable private">
  
  
  <a name="twisted.web._http2.H2Stream._conn">
    
  </a>
  <a name="_conn">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_conn</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/_http2.py#L939">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable private">
  
  
  <a name="twisted.web._http2.H2Stream._hasStreamingProducer">
    
  </a>
  <a name="_hasStreamingProducer">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_hasStreamingProducer</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/_http2.py#L937">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable private">
  
  
  <a name="twisted.web._http2.H2Stream._inboundDataBuffer">
    
  </a>
  <a name="_inboundDataBuffer">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_inboundDataBuffer</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/_http2.py#L938">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable private">
  
  
  <a name="twisted.web._http2.H2Stream._producerProducing">
    
  </a>
  <a name="_producerProducing">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_producerProducing</span>: <code><a href="https://docs.python.org/3/library/functions.html#bool" class="intersphinx-link">bool</a></code> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/_http2.py#L936">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable private">
  
  
  <a name="twisted.web._http2.H2Stream._request">
    
  </a>
  <a name="_request">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_request</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/web/_http2.py#L940">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div>

      </div>
    </div>

    <footer class="navbar navbar-default">
  
  <div class="container">
    <a href="index.html">API Documentation</a> for twisted,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    22.2.0 at 2022-02-23 16:05:07.
  </div>
</footer>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>