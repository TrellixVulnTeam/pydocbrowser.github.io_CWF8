<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>twisted.logger</title>
    <meta name="generator" content="pydoctor 22.2.0"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=0.75" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    <div id="banner">    
    <div>
        <a href="/">Home</a>
        &gt; twisted-22.1.0 <!-- This is a placeholder -->
        
        <!-- (<a href=""&gt;show all versions</a&gt;) -->
    </div>
</div>

    <nav class="navbar navbar-default">
  
  <div class="container">

    <div class="navbar-header">
      
      <div class="navlinks">
          <span class="navbar-brand">
            twisted <a href="index.html">API Documentation</a>
          </span>

          <a href="moduleIndex.html">
            Modules
          </a>

          <a href="classIndex.html">
            Classes
          </a>

          <a href="nameIndex.html">
            Names
          </a>
      </div>

    </div>
  </div>
</nav>

    

    <div class="container">

      <div class="page-header">
        <h1 class="package"><code><code><a href="index.html" class="internal-link">twisted</a></code><wbr></wbr>.<code><a href="twisted.logger.html" class="internal-link" title="twisted.logger">logger</a></code></code></h1>
        <div id="showPrivate">
          <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
        </div>
      </div>

      <div class="categoryHeader">
        package documentation
      </div>

      <div class="extrasDocstring">
        <a href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/logger/__init__.py" class="sourceLink">(source)</a>
        <p></p>
      </div>

      <div class="moduleDocstring">
        <div><p>Twisted Logger: Classes and functions to do granular logging.</p>
<p>Example usage in a module C{some.module}:</p>
<pre class="rst-literal-block">
from twisted.logger import Logger
log = Logger()

def handleData(data):
    log.debug("Got data: {data!r}.", data=data)
</pre>
<p>Or in a class:</p>
<pre class="rst-literal-block">
from twisted.logger import Logger

class Foo:
    log = Logger()

    def oops(self, data):
        self.log.error("Oops! Invalid data from server: {data!r}",
                       data=data)
</pre>
<p>C{Logger}s have namespaces, for which logging can be configured independently.
Namespaces may be specified by passing in a C{namespace} argument to L{Logger}
when instantiating it, but if none is given, the logger will derive its own
namespace by using the module name of the callable that instantiated it, or, in
the case of a class, by using the fully qualified name of the class.</p>
<p>In the first example above, the namespace would be C{some.module}, and in the
second example, it would be C{some.module.Foo}.</p>
<dl class="rst-docutils">
<dt>@var globalLogPublisher: The L{LogPublisher} that all L{Logger} instances that</dt>
<dd>are not otherwise parameterized will publish events to by default.</dd>
<dt>@var globalLogBeginner: The L{LogBeginner} used to activate the main log</dt>
<dd>observer, whether it's a log file, or an observer pointing at stderr.</dd>
</dl>
</div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id4602">
  
  
  <tr class="package">
    
    <td>Package</td>
    <td><code><a href="twisted.logger.test.html" class="internal-link" title="twisted.logger.test">test</a></code></td>
    <td>Unit tests for L{twisted.logger}.</td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><code><a href="twisted.logger._buffer.html" class="internal-link" title="twisted.logger._buffer">​_buffer</a></code></td>
    <td>Log observer that maintains a buffer.</td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><code><a href="twisted.logger._capture.html" class="internal-link" title="twisted.logger._capture">​_capture</a></code></td>
    <td>Context manager for capturing logs.</td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><code><a href="twisted.logger._file.html" class="internal-link" title="twisted.logger._file">​_file</a></code></td>
    <td>File log observer.</td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><code><a href="twisted.logger._filter.html" class="internal-link" title="twisted.logger._filter">​_filter</a></code></td>
    <td>Filtering log observer.</td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><code><a href="twisted.logger._flatten.html" class="internal-link" title="twisted.logger._flatten">​_flatten</a></code></td>
    <td>Code related to "flattening" events; that is, extracting a description of all relevant fields from the format string and persisting them for later examination.</td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><code><a href="twisted.logger._format.html" class="internal-link" title="twisted.logger._format">​_format</a></code></td>
    <td>Tools for formatting logging events.</td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><code><a href="twisted.logger._global.html" class="internal-link" title="twisted.logger._global">​_global</a></code></td>
    <td>This module includes process-global state associated with the logging system, and implementation of logic for managing that global state.</td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><code><a href="twisted.logger._interfaces.html" class="internal-link" title="twisted.logger._interfaces">​_interfaces</a></code></td>
    <td>Logger interfaces.</td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><code><a href="twisted.logger._io.html" class="internal-link" title="twisted.logger._io">​_io</a></code></td>
    <td>File-like object that logs.</td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><code><a href="twisted.logger._json.html" class="internal-link" title="twisted.logger._json">​_json</a></code></td>
    <td>Tools for saving and loading log events in a structured format.</td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><code><a href="twisted.logger._legacy.html" class="internal-link" title="twisted.logger._legacy">​_legacy</a></code></td>
    <td>Integration with L{twisted.python.log}.</td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><code><a href="twisted.logger._levels.html" class="internal-link" title="twisted.logger._levels">​_levels</a></code></td>
    <td>Log levels.</td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><code><a href="twisted.logger._logger.html" class="internal-link" title="twisted.logger._logger">​_logger</a></code></td>
    <td>Logger class.</td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><code><a href="twisted.logger._observer.html" class="internal-link" title="twisted.logger._observer">​_observer</a></code></td>
    <td>Basic log observers.</td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><code><a href="twisted.logger._stdlib.html" class="internal-link" title="twisted.logger._stdlib">​_stdlib</a></code></td>
    <td>Integration with Python standard library logging.</td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><code><a href="twisted.logger._util.html" class="internal-link" title="twisted.logger._util">​_util</a></code></td>
    <td>Logging utilities.</td>
  </tr>
</table>
        

          <p class="fromInitPy">From <code>__init__.py</code>:</p><table class="children sortable" id="id4603">
  
  
  <tr class="interface">
    
    <td>Interface</td>
    <td><code><a href="twisted.logger.ILogFilterPredicate.html" class="internal-link" title="twisted.logger.ILogFilterPredicate">​ILog​Filter​Predicate</a></code></td>
    <td>A predicate that determined whether an event should be logged.</td>
  </tr><tr class="interface">
    
    <td>Interface</td>
    <td><code><a href="twisted.logger.ILogObserver.html" class="internal-link" title="twisted.logger.ILogObserver">​ILog​Observer</a></code></td>
    <td>An observer which can handle log events.</td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.logger.FileLogObserver.html" class="internal-link" title="twisted.logger.FileLogObserver">​File​Log​Observer</a></code></td>
    <td>Log observer that writes to a file-like object.</td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.logger.FilteringLogObserver.html" class="internal-link" title="twisted.logger.FilteringLogObserver">​Filtering​Log​Observer</a></code></td>
    <td>L{ILogObserver} that wraps another L{ILogObserver}, but filters out events based on applying a series of L{ILogFilterPredicate}s.</td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.logger.InvalidLogLevelError.html" class="internal-link" title="twisted.logger.InvalidLogLevelError">​Invalid​Log​Level​Error</a></code></td>
    <td>Someone tried to use a L{LogLevel} that is unknown to the logging system.</td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.logger.LegacyLogObserverWrapper.html" class="internal-link" title="twisted.logger.LegacyLogObserverWrapper">​Legacy​Log​Observer​Wrapper</a></code></td>
    <td>L{ILogObserver} that wraps a L{twisted.python.log.ILogObserver}.</td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.logger.LimitedHistoryLogObserver.html" class="internal-link" title="twisted.logger.LimitedHistoryLogObserver">​Limited​History​Log​Observer</a></code></td>
    <td>L{ILogObserver} that stores events in a buffer of a fixed size:</td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.logger.LogBeginner.html" class="internal-link" title="twisted.logger.LogBeginner">​Log​Beginner</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.logger.Logger.html" class="internal-link" title="twisted.logger.Logger">​Logger</a></code></td>
    <td>A L{Logger} emits log messages to an observer.  You should instantiate it as a class or module attribute, as documented in L{this module's documentation &lt;twisted.logger&gt;}.</td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.logger.LoggingFile.html" class="internal-link" title="twisted.logger.LoggingFile">​Logging​File</a></code></td>
    <td>File-like object that turns C{write()} calls into logging events.</td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.logger.LogLevel.html" class="internal-link" title="twisted.logger.LogLevel">​Log​Level</a></code></td>
    <td>Constants describing log levels.</td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.logger.LogLevelFilterPredicate.html" class="internal-link" title="twisted.logger.LogLevelFilterPredicate">​Log​Level​Filter​Predicate</a></code></td>
    <td>L{ILogFilterPredicate} that filters out events with a log level lower than the log level for the event's namespace.</td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.logger.LogPublisher.html" class="internal-link" title="twisted.logger.LogPublisher">​Log​Publisher</a></code></td>
    <td>I{ILogObserver} that fans out events to other observers.</td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.logger.PredicateResult.html" class="internal-link" title="twisted.logger.PredicateResult">​Predicate​Result</a></code></td>
    <td>Predicate results.</td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="twisted.logger.STDLibLogObserver.html" class="internal-link" title="twisted.logger.STDLibLogObserver">​STDLib​Log​Observer</a></code></td>
    <td>Log observer that writes to the python standard library's C{logging} module.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#capturedLogs" class="internal-link" title="twisted.logger.capturedLogs">captured​Logs</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#eventAsJSON" class="internal-link" title="twisted.logger.eventAsJSON">event​As​JSON</a></code></td>
    <td>Encode an event as JSON, flattening it if necessary to preserve as much structure as possible.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#eventAsText" class="internal-link" title="twisted.logger.eventAsText">event​As​Text</a></code></td>
    <td>Format an event as text.  Optionally, attach timestamp, traceback, and system information.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#eventFromJSON" class="internal-link" title="twisted.logger.eventFromJSON">event​From​JSON</a></code></td>
    <td>Decode a log event from JSON.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#eventsFromJSONLogFile" class="internal-link" title="twisted.logger.eventsFromJSONLogFile">events​From​JSONLog​File</a></code></td>
    <td>Load events from a file previously saved with L{jsonFileLogObserver}. Event records that are truncated or otherwise unreadable are ignored.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#extractField" class="internal-link" title="twisted.logger.extractField">extract​Field</a></code></td>
    <td>Extract a given format field from the given event.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#formatEvent" class="internal-link" title="twisted.logger.formatEvent">format​Event</a></code></td>
    <td>Formats an event as text, using the format in C{event["log_format"]}.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#formatEventAsClassicLogText" class="internal-link" title="twisted.logger.formatEventAsClassicLogText">format​Event​As​Classic​Log​Text</a></code></td>
    <td>Format an event as a line of human-readable text for, e.g. traditional log file output.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#formatTime" class="internal-link" title="twisted.logger.formatTime">format​Time</a></code></td>
    <td>Format a timestamp as text.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#jsonFileLogObserver" class="internal-link" title="twisted.logger.jsonFileLogObserver">json​File​Log​Observer</a></code></td>
    <td>Create a L{FileLogObserver} that emits JSON-serialized events to a specified (writable) file-like object.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#textFileLogObserver" class="internal-link" title="twisted.logger.textFileLogObserver">text​File​Log​Observer</a></code></td>
    <td>Create a L{FileLogObserver} that emits text to a specified (writable) file-like object.</td>
  </tr><tr class="variable">
    
    <td>Variable</td>
    <td><code><a href="#globalLogBeginner" class="internal-link" title="twisted.logger.globalLogBeginner">global​Log​Beginner</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="variable">
    
    <td>Variable</td>
    <td><code><a href="#globalLogPublisher" class="internal-link" title="twisted.logger.globalLogPublisher">global​Log​Publisher</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="variable">
    
    <td>Variable</td>
    <td><code><a href="#LogEvent" class="internal-link" title="twisted.logger.LogEvent">​Log​Event</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="variable">
    
    <td>Variable</td>
    <td><code><a href="#timeFormatRFC3339" class="internal-link" title="twisted.logger.timeFormatRFC3339">time​Format​RFC3339</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="variable private">
    
    <td>Variable</td>
    <td><code><a href="#_loggerFor" class="internal-link" title="twisted.logger._loggerFor">_logger​For</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
      </div>

      <div id="childList">

        <div class="basefunction">
  
  
  <a name="twisted.logger.extractField">
    
  </a>
  <a name="extractField">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">extractField</span>(field, event):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/logger/_flatten.py#L123">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Extract a given format field from the given event.</p>
<dl class="rst-docutils">
<dt>@param field: A string describing a format field or log key.  This is the</dt>
<dd>text that would normally fall between a pair of curly braces in a
format string: for example, C{"key[2].attribute"}.  If a conversion is
specified (the thing after the C{"!"} character in a format field) then
the result will always be str.</dd>
</dl>
<p>@param event: A log event.</p>
<p>@return: A value extracted from the field.</p>
<p>@raise KeyError: if the field is not found in the given event.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">field:</span><code><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">event:</span><code><a href="#LogEvent" class="internal-link" title="twisted.logger.LogEvent">LogEvent</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>Any</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="twisted.logger.formatEvent">
    
  </a>
  <a name="formatEvent">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">formatEvent</span>(event):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/logger/_format.py#L24">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Formats an event as text, using the format in C{event["log_format"]}.</p>
<p>This implementation should never raise an exception; if the formatting
cannot be done, the returned string will describe the event generically so
that a useful message is emitted regardless.</p>
<p>@param event: A logging event.</p>
<p>@return: A formatted string.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">event:</span><code><a href="#LogEvent" class="internal-link" title="twisted.logger.LogEvent">LogEvent</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="twisted.logger.formatEventAsClassicLogText">
    
  </a>
  <a name="formatEventAsClassicLogText">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">formatEventAsClassicLogText</span>(event, formatTime=<a href="#formatTime" class="internal-link" title="twisted.logger.formatTime">formatTime</a>):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/logger/_format.py#L114">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Format an event as a line of human-readable text for, e.g. traditional log
file output.</p>
<p>The output format is C{"{timeStamp} [{system}] {event}n"}, where:</p>
<blockquote>
<ul class="rst-simple">
<li>C{timeStamp} is computed by calling the given C{formatTime} callable
on the event's C{"log_time"} value</li>
<li>C{system} is the event's C{"log_system"} value, if set, otherwise,
the C{"log_namespace"} and C{"log_level"}, joined by a C{"#"}.  Each
defaults to C{"-"} is not set.</li>
<li>C{event} is the event, as formatted by L{formatEvent}.</li>
</ul>
</blockquote>
<p>Example:</p>
<pre class="rst-literal-block">
&gt;&gt;&gt; from time import time
&gt;&gt;&gt; from twisted.logger import formatEventAsClassicLogText
&gt;&gt;&gt; from twisted.logger import LogLevel
&gt;&gt;&gt;
&gt;&gt;&gt; formatEventAsClassicLogText(dict())  # No format, returns None
&gt;&gt;&gt; formatEventAsClassicLogText(dict(log_format="Hello!"))
u'- [-#-] Hello!\n'
&gt;&gt;&gt; formatEventAsClassicLogText(dict(
...     log_format="Hello!",
...     log_time=time(),
...     log_namespace="my_namespace",
...     log_level=LogLevel.info,
... ))
u'2013-10-22T17:30:02-0700 [my_namespace#info] Hello!\n'
&gt;&gt;&gt; formatEventAsClassicLogText(dict(
...     log_format="Hello!",
...     log_time=time(),
...     log_system="my_system",
... ))
u'2013-11-11T17:22:06-0800 [my_system] Hello!\n'
&gt;&gt;&gt;
</pre>
<p>@param event: an event.
@param formatTime: A time formatter</p>
<p>@return: A formatted event, or L{None} if no output is appropriate.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">event:</span><code><a href="#LogEvent" class="internal-link" title="twisted.logger.LogEvent">LogEvent</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">format​Time:</span><code>Callable[<wbr></wbr>[<wbr></wbr>Optional[<wbr></wbr><a href="https://docs.python.org/3/library/functions.html#float" class="intersphinx-link">float</a>]], <wbr></wbr><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>Optional[<wbr></wbr><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="twisted.logger.formatTime">
    
  </a>
  <a name="formatTime">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">formatTime</span>(when, timeFormat=<a href="#timeFormatRFC3339" class="internal-link" title="twisted.logger.timeFormatRFC3339">timeFormatRFC3339</a>, default=<span class="rst-variable-quote">'</span><span class="rst-variable-string">-</span><span class="rst-variable-quote">'</span>):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/logger/_format.py#L80">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Format a timestamp as text.</p>
<p>Example:</p>
<pre class="rst-literal-block">
&gt;&gt;&gt; from time import time
&gt;&gt;&gt; from twisted.logger import formatTime
&gt;&gt;&gt;
&gt;&gt;&gt; t = time()
&gt;&gt;&gt; formatTime(t)
u'2013-10-22T14:19:11-0700'
&gt;&gt;&gt; formatTime(t, timeFormat="%Y/%W")  # Year and week number
u'2013/42'
&gt;&gt;&gt;
</pre>
<p>@param when: A timestamp.
@param timeFormat: A time format.
@param default: Text to return if C{when} or C{timeFormat} is L{None}.</p>
<p>@return: A formatted time.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">when:</span><code>Optional[<wbr></wbr><a href="https://docs.python.org/3/library/functions.html#float" class="intersphinx-link">float</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">time​Format:</span><code>Optional[<wbr></wbr><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">default:</span><code><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basevariable">
  
  
  <a name="twisted.logger.timeFormatRFC3339">
    
  </a>
  <a name="timeFormatRFC3339">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">timeFormatRFC3339</span>: <code><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a></code> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/logger/_format.py#L21">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="basefunction">
  
  
  <a name="twisted.logger.eventAsText">
    
  </a>
  <a name="eventAsText">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">eventAsText</span>(event, includeTraceback=<a href="https://docs.python.org/3/library/constants.html#True" class="intersphinx-link">True</a>, includeTimestamp=<a href="https://docs.python.org/3/library/constants.html#True" class="intersphinx-link">True</a>, includeSystem=<a href="https://docs.python.org/3/library/constants.html#True" class="intersphinx-link">True</a>, formatTime=<a href="#formatTime" class="internal-link" title="twisted.logger.formatTime">formatTime</a>):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/logger/_format.py#L311">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Format an event as text.  Optionally, attach timestamp, traceback, and
system information.</p>
<p>The full output format is:
C{"{timeStamp} [{system}] {event}n{traceback}n"} where:</p>
<blockquote>
<ul class="rst-simple">
<li>C{timeStamp} is the event's C{"log_time"} value formatted with
the provided C{formatTime} callable.</li>
<li>C{system} is the event's C{"log_system"} value, if set, otherwise,
the C{"log_namespace"} and C{"log_level"}, joined by a C{"#"}.  Each
defaults to C{"-"} is not set.</li>
<li>C{event} is the event, as formatted by L{formatEvent}.</li>
<li>C{traceback} is the traceback if the event contains a
C{"log_failure"} key.  In the event the original traceback cannot
be formatted, a message indicating the failure will be substituted.</li>
</ul>
</blockquote>
<p>If the event cannot be formatted, and no traceback exists, an empty string
is returned, even if includeSystem or includeTimestamp are true.</p>
<p>@param event: A logging event.
@param includeTraceback: If true and a C{"log_failure"} key exists, append</p>
<blockquote>
a traceback.</blockquote>
<dl class="rst-docutils">
<dt>@param includeTimestamp: If true include a formatted timestamp before the</dt>
<dd>event.</dd>
</dl>
<p>@param includeSystem:  If true, include the event's C{"log_system"} value.
@param formatTime: A time formatter</p>
<p>@return: A formatted string with specified options.</p>
<p>@since: Twisted 18.9.0</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">event:</span><code><a href="#LogEvent" class="internal-link" title="twisted.logger.LogEvent">LogEvent</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">include​Traceback:</span><code><a href="https://docs.python.org/3/library/functions.html#bool" class="intersphinx-link">bool</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">include​Timestamp:</span><code><a href="https://docs.python.org/3/library/functions.html#bool" class="intersphinx-link">bool</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">include​System:</span><code><a href="https://docs.python.org/3/library/functions.html#bool" class="intersphinx-link">bool</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">format​Time:</span><code>Callable[<wbr></wbr>[<wbr></wbr><a href="https://docs.python.org/3/library/functions.html#float" class="intersphinx-link">float</a>], <wbr></wbr><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basevariable">
  
  
  <a name="twisted.logger.LogEvent">
    
  </a>
  <a name="LogEvent">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">LogEvent</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/logger/_interfaces.py#L16">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="basevariable private">
  
  
  <a name="twisted.logger._loggerFor">
    
  </a>
  <a name="_loggerFor">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_loggerFor</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/logger/_logger.py#L269">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="basefunction">
  
  
  <a name="twisted.logger.textFileLogObserver">
    
  </a>
  <a name="textFileLogObserver">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">textFileLogObserver</span>(outFile, timeFormat=<a href="#timeFormatRFC3339" class="internal-link" title="twisted.logger.timeFormatRFC3339">timeFormatRFC3339</a>):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/logger/_file.py#L56">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Create a L{FileLogObserver} that emits text to a specified (writable)
file-like object.</p>
<dl class="rst-docutils">
<dt>@param outFile: A file-like object.  Ideally one should be passed which</dt>
<dd>accepts text data.  Otherwise, UTF-8 L{bytes} will be used.</dd>
<dt>@param timeFormat: The format to use when adding timestamp prefixes to</dt>
<dd>logged events.  If L{None}, or for events with no C{"log_timestamp"}
key, the default timestamp prefix of C{"-"} is used.</dd>
</dl>
<p>@return: A file log observer.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">out​File:</span><code>IO[<wbr></wbr>Any]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">time​Format:</span><code>Optional[<wbr></wbr><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="twisted.logger.FileLogObserver.html" class="internal-link" title="twisted.logger.FileLogObserver">FileLogObserver</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basevariable">
  
  
  <a name="twisted.logger.globalLogPublisher">
    
  </a>
  <a name="globalLogPublisher">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">globalLogPublisher</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/logger/_global.py#L225">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="basevariable">
  
  
  <a name="twisted.logger.globalLogBeginner">
    
  </a>
  <a name="globalLogBeginner">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">globalLogBeginner</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/logger/_global.py#L226">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="basefunction">
  
  
  <a name="twisted.logger.eventAsJSON">
    
  </a>
  <a name="eventAsJSON">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">eventAsJSON</span>(event):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/logger/_json.py#L121">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Encode an event as JSON, flattening it if necessary to preserve as much
structure as possible.</p>
<p>Not all structure from the log event will be preserved when it is
serialized.</p>
<p>@param event: A log event dictionary.</p>
<dl class="rst-docutils">
<dt>@return: A string of the serialized JSON; note that this will contain no</dt>
<dd>newline characters, and may thus safely be stored in a line-delimited
file.</dd>
</dl>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">event:</span><code><a href="#LogEvent" class="internal-link" title="twisted.logger.LogEvent">LogEvent</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="twisted.logger.eventFromJSON">
    
  </a>
  <a name="eventFromJSON">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">eventFromJSON</span>(eventText):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/logger/_json.py#L152">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Decode a log event from JSON.</p>
<p>@param eventText: The output of a previous call to L{eventAsJSON}</p>
<p>@return: A reconstructed version of the log event.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">event​Text:</span><code><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>JSONDict</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="twisted.logger.jsonFileLogObserver">
    
  </a>
  <a name="jsonFileLogObserver">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">jsonFileLogObserver</span>(outFile, recordSeparator=<span class="rst-variable-quote">'</span><span class="rst-variable-string">\x1e</span><span class="rst-variable-quote">'</span>):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/logger/_json.py#L163">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Create a L{FileLogObserver} that emits JSON-serialized events to a
specified (writable) file-like object.</p>
<p>Events are written in the following form:</p>
<pre class="rst-literal-block">
RS + JSON + NL
</pre>
<p>C{JSON} is the serialized event, which is JSON text.  C{NL} is a newline
(C{"n"}).  C{RS} is a record separator.  By default, this is a single
RS character (C{"x1e"}), which makes the default output conform to the
IETF draft document "draft-ietf-json-text-sequence-13".</p>
<dl class="rst-docutils">
<dt>@param outFile: A file-like object.  Ideally one should be passed which</dt>
<dd>accepts L{str} data.  Otherwise, UTF-8 L{bytes} will be used.</dd>
</dl>
<p>@param recordSeparator: The record separator to use.</p>
<p>@return: A file log observer.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">out​File:</span><code>IO[<wbr></wbr>Any]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">record​Separator:</span><code><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="twisted.logger.FileLogObserver.html" class="internal-link" title="twisted.logger.FileLogObserver">FileLogObserver</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="twisted.logger.eventsFromJSONLogFile">
    
  </a>
  <a name="eventsFromJSONLogFile">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">eventsFromJSONLogFile</span>(inFile, recordSeparator=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>, bufferSize=4096):
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/logger/_json.py#L190">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Load events from a file previously saved with L{jsonFileLogObserver}.
Event records that are truncated or otherwise unreadable are ignored.</p>
<dl class="rst-docutils">
<dt>@param inFile: A (readable) file-like object.  Data read from C{inFile}</dt>
<dd>should be L{str} or UTF-8 L{bytes}.</dd>
<dt>@param recordSeparator: The expected record separator.</dt>
<dd>If L{None}, attempt to automatically detect the record separator from
one of C{"x1e"} or C{""}.</dd>
<dt>@param bufferSize: The size of the read buffer used while reading from</dt>
<dd>C{inFile}.</dd>
</dl>
<p>@return: Log events as read from C{inFile}.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">in​File:</span><code>IO[<wbr></wbr>Any]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">record​Separator:</span><code>Optional[<wbr></wbr><a href="https://docs.python.org/3/library/stdtypes.html#str" class="intersphinx-link">str</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">buffer​Size:</span><code><a href="https://docs.python.org/3/library/functions.html#int" class="intersphinx-link">int</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>Iterable[<wbr></wbr><a href="#LogEvent" class="internal-link" title="twisted.logger.LogEvent">LogEvent</a>]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="twisted.logger.capturedLogs">
    
  </a>
  <a name="capturedLogs">
    
  </a>
  <div class="functionHeader">
    @contextmanager<br />
    <span class="py-keyword">def</span> <span class="py-defname">capturedLogs</span>():
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/twisted-22.1.0//src/twisted/logger/_capture.py#L16">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>Iterator[<wbr></wbr>Sequence[<wbr></wbr><a href="#LogEvent" class="internal-link" title="twisted.logger.LogEvent">LogEvent</a>]]</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div>

      </div>
    </div>

    <footer class="navbar navbar-default">
  
  <div class="container">
    <a href="index.html">API Documentation</a> for twisted,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    22.2.0 at 2022-02-23 16:05:07.
  </div>
</footer>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>