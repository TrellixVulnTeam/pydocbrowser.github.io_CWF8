<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>sqlalchemy.engine.mock</title>
    <meta name="generator" content="pydoctor 22.2.0"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=0.75" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    

    <nav class="navbar navbar-default">
  
  <div class="container">

    <div class="navbar-header">
      
      <div class="navlinks">
          <span class="navbar-brand">
            sqlalchemy <a href="index.html">API Documentation</a>
          </span>

          <a href="moduleIndex.html">
            Modules
          </a>

          <a href="classIndex.html">
            Classes
          </a>

          <a href="nameIndex.html">
            Names
          </a>
      </div>

    </div>
  </div>
</nav>

    

    <div class="container">

      <div class="page-header">
        <h1 class="module"><code><code><a href="index.html" class="internal-link">sqlalchemy</a></code><wbr></wbr>.<code><a href="sqlalchemy.engine.html" class="internal-link" title="sqlalchemy.engine">engine</a></code><wbr></wbr>.<code><a href="sqlalchemy.engine.mock.html" class="internal-link" title="sqlalchemy.engine.mock">mock</a></code></code></h1>
        <div id="showPrivate">
          <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
        </div>
      </div>

      <div class="categoryHeader">
        module documentation
      </div>

      <div class="extrasDocstring">
        
        <p></p>
      </div>

      <div class="moduleDocstring">
        <div><p class="undocumented">Undocumented</p></div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id16246">
  
  
  <tr class="class">
    
    <td>Class</td>
    <td><code><a href="sqlalchemy.engine.mock.MockConnection.html" class="internal-link" title="sqlalchemy.engine.mock.MockConnection">​Mock​Connection</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#create_mock_engine" class="internal-link" title="sqlalchemy.engine.mock.create_mock_engine">create​_mock​_engine</a></code></td>
    <td>Create a "mock" engine used for echoing DDL.</td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="basefunction">
  
  
  <a name="sqlalchemy.engine.mock.create_mock_engine">
    
  </a>
  <a name="create_mock_engine">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">create_mock_engine</span>(url, executor, **kw):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Create a "mock" engine used for echoing DDL.</p>
<p>This is a utility function used for debugging or storing the output of DDL
sequences as generated by <code>_schema.MetaData.create_all</code>
and related methods.</p>
<p>The function accepts a URL which is used only to determine the kind of
dialect to be used, as well as an "executor" callable function which
will receive a SQL expression object and parameters, which can then be
echoed or otherwise printed.   The executor's return value is not handled,
nor does the engine allow regular string statements to be invoked, and
is therefore only useful for DDL that is sent to the database without
receiving any results.</p>
<p>E.g.:</p>
<pre class="rst-literal-block">
from sqlalchemy import create_mock_engine

def dump(sql, *multiparams, **params):
    print(sql.compile(dialect=engine.dialect))

engine = create_mock_engine('postgresql://', dump)
metadata.create_all(engine, checkfirst=False)
</pre>
<div class="rst-versionadded">
<span class="rst-versionmodified rst-added">New in version 1.4: </span><span>- the <code>.create_mock_engine</code> function replaces
the previous "mock" engine strategy used with
<code>_sa.create_engine</code>.</span></div>
<div class="rst-admonition seealso">
<p class="rst-first rst-admonition-title">See Also</p>
<p class="rst-last"><a href="#system-message-1"><span class="rst-problematic" id="rst-problematic-1">:ref:`faq_ddl_as_string`</span></a></p>
</div>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">url</span></td><td class="fieldArgDesc">A string URL which typically needs to contain only the
database backend name.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">executor</span></td><td class="fieldArgDesc">a callable which receives the arguments <tt class="rst-docutils literal">sql</tt>,
<tt class="rst-docutils literal">*multiparams</tt> and <tt class="rst-docutils literal">**params</tt>.  The <tt class="rst-docutils literal">sql</tt> parameter is typically
an instance of <code>.DDLElement</code>, which can then be compiled into a
string using <code>.DDLElement.compile</code>.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">**kw</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div>

      </div>
    </div>

    <footer class="navbar navbar-default">
  
  <div class="container">
    <a href="index.html">API Documentation</a> for sqlalchemy,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    22.2.0 at 2022-02-23 04:41:59.
  </div>
</footer>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>